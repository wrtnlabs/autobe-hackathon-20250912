{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"enterprise_lms_tenants","description":"Tenant organizations representing distinct enterprise customers with isolated data and configurations. Serves as the core multi-tenant entity governing data isolation and customization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique tenant code used as business identifier for the organization."},{"name":"name","type":"string","nullable":false,"description":"Full name of the tenant organization."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the tenant was registered."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the tenant last updated information."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp, null means active."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","deleted_at"]}],"ginIndexes":[]},{"name":"enterprise_lms_tenant_settings","description":"Configuration and branding settings specific to each tenant organization. Includes branding, CSS overrides, custom domains, and localization.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enterprise_lms_tenant_id","type":"uuid","description":"Belonged tenant organization. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"branding_logo_uri","type":"uri","nullable":true,"description":"URI to the tenant's custom branding logo image."},{"name":"branding_color_primary","type":"string","nullable":true,"description":"Primary branding color in HEX format."},{"name":"branding_color_secondary","type":"string","nullable":true,"description":"Secondary branding color in HEX format."},{"name":"custom_domain","type":"string","nullable":true,"description":"Custom domain name for the tenant organization."},{"name":"css_overrides","type":"string","nullable":true,"description":"Raw CSS overrides applied for tenant-specific branding."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the settings were created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the settings were last updated."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["enterprise_lms_tenant_id","custom_domain"]}],"ginIndexes":[]},{"name":"enterprise_lms_system_configurations","description":"Global system configuration settings affecting all tenants and platform-wide behavior. Includes feature flags, maintenance modes, and integrations.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"key","type":"string","nullable":false,"description":"Configuration key identifier."},{"name":"value","type":"string","nullable":false,"description":"Serialized value of the configuration setting."},{"name":"description","type":"string","nullable":true,"description":"Description explaining the meaning and usage of this configuration."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the configuration was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the configuration was last updated."}],"uniqueIndexes":[{"fieldNames":["key"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"enterprise_lms_audit_logs","description":"Audit logs capturing system-wide events and user activities for compliance and traceability. Supports multi-tenant event tracking with detailed metadata.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enterprise_lms_tenant_id","type":"uuid","description":"Associated tenant organization, if any. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":true}],"plainFields":[{"name":"action","type":"string","nullable":false,"description":"Action performed, such as login, content_upload, enrollment."},{"name":"description","type":"string","nullable":true,"description":"Detailed description or metadata of the event."},{"name":"user_id","type":"uuid","nullable":true,"description":"User who performed the action, if applicable."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the event occurred."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["enterprise_lms_tenant_id","created_at"]}],"ginIndexes":[{"fieldName":"action"},{"fieldName":"description"}]},{"name":"enterprise_lms_sessions","description":"Tracks active user sessions for authentication, authorization, and audit. Includes session tokens, expiry, and device metadata.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enterprise_lms_tenant_id","type":"uuid","description":"Tenant to which the session belongs. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"user_id","type":"uuid","description":"User who owns the session.","unique":false,"nullable":false,"relation":{"name":"user","targetModel":"enterprise_lms_systemadmin"}}],"plainFields":[{"name":"session_token","type":"string","nullable":false,"description":"Secure opaque session token."},{"name":"ip_address","type":"string","nullable":true,"description":"IP address of the client."},{"name":"device_info","type":"string","nullable":true,"description":"Device and browser information."},{"name":"created_at","type":"datetime","nullable":false,"description":"Session creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Session last updated timestamp."},{"name":"expires_at","type":"datetime","nullable":false,"description":"Session expiry timestamp."}],"uniqueIndexes":[{"fieldNames":["session_token"],"unique":true}],"plainIndexes":[{"fieldNames":["enterprise_lms_tenant_id","user_id"]}],"ginIndexes":[]},{"name":"enterprise_lms_role_permissions","description":"Role-based permission settings defining access rights for system roles. Enables granular control over operations and API authorization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"role_id","type":"uuid","description":"ID of the associated role.","unique":false,"nullable":false,"relation":{"name":"role","targetModel":"enterprise_lms_systemadmin"}}],"plainFields":[{"name":"permission_key","type":"string","nullable":false,"description":"Unique key identifying the permission."},{"name":"description","type":"string","nullable":true,"description":"Human-readable description of the permission."},{"name":"is_allowed","type":"boolean","nullable":false,"description":"Flag indicating if the permission is granted (true) or denied (false)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."}],"uniqueIndexes":[{"fieldNames":["role_id","permission_key"],"unique":true}],"plainIndexes":[{"fieldNames":["role_id","permission_key","is_allowed"]}],"ginIndexes":[{"fieldName":"permission_key"}]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"enterprise_lms_systemadmin","description":"System Administrator users with full access across all organizations including system maintenance, global analytics, integrations, and API administration. Tenant-aware for multi-tenant data isolation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the system administrator."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the system administrator."},{"name":"status","type":"string","nullable":false,"description":"Current status of the system administrator account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_organizationadmin","description":"Organization Administrator users who manage users, roles, content approvals, configurations, and billing within their own organization. Tenant-isolated for data security.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the organization administrator."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the organization administrator."},{"name":"status","type":"string","nullable":false,"description":"Current status of the organization administrator account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_departmentmanager","description":"Department Manager users who manage users, content assignments, and budgets within their department. Tenant-aware with departmental scope.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the department manager."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the department manager."},{"name":"status","type":"string","nullable":false,"description":"Current status of the department manager account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_contentcreatorinstructor","description":"Content Creator / Instructor users who create and manage course content and learner progress. Tenant-isolated and limited to owned content scope.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the content creator or instructor."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the content creator or instructor."},{"name":"status","type":"string","nullable":false,"description":"Current status of the content creator/instructor account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_corporatelearner","description":"Corporate Learner users who enroll and complete courses, track progress, and access dashboards. Tenant-isolated and limited in permissions.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the corporate learner."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the corporate learner."},{"name":"status","type":"string","nullable":false,"description":"Current status of the corporate learner account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_externallearner","description":"External Learner users with access to public and paid courses, payment processing, and community features. Tenant-isolated for data security.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for login and communications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the external learner."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the external learner."},{"name":"status","type":"string","nullable":false,"description":"Current status of the external learner account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]},{"name":"enterprise_lms_guest","description":"Guest users with browse-only access to public course catalogs. Limited permissions, tenant-aware for data isolation. No enrollment or creation rights.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization identifier. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address for identification and communication. No enrollment rights."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for guest authentication. Even guests require login."},{"name":"first_name","type":"string","nullable":false,"description":"First name of the guest user."},{"name":"last_name","type":"string","nullable":false,"description":"Last name of the guest user."},{"name":"status","type":"string","nullable":false,"description":"Current status of the guest account (e.g., active, suspended)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[]}]},{"filename":"schema-03-content_management.prisma","namespace":"ContentManagement","models":[{"name":"enterprise_lms_contents","description":"Main content entity managing diverse types of training content (video, documents, SCORM, xAPI). Supports tenant isolation, approval workflow status, lifecycle state, soft deletion, and auditing with timestamps. Connected to content versions, localizations, and approval workflows.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization owning this content. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Content title for identification and display.","nullable":false},{"name":"description","type":"string","description":"Brief description or overview of the content.","nullable":true},{"name":"content_type","type":"string","description":"Content format/type, e.g., video, document, SCORM, xAPI.","nullable":false},{"name":"status","type":"string","description":"Approval workflow status: draft, pending, approved, rejected.","nullable":false},{"name":"business_status","type":"string","description":"Lifecycle state: active, archived, deprecated.","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp of the content record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Latest update timestamp to content metadata.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null means not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["tenant_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status","business_status"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]},{"name":"enterprise_lms_content_versions","description":"Snapshots of content states representing historical versions for audit, rollback, and compliance. Stores full content metadata at snapshot time and version ordering. Related to primary content entity.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"content_id","type":"uuid","description":"Reference to primary content entity. {@link enterprise_lms_contents.id}","relation":{"name":"content","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false}],"plainFields":[{"name":"version_number","type":"int","description":"Sequenced version number of this snapshot.","nullable":false},{"name":"title","type":"string","description":"Title snapshot at version creation.","nullable":false},{"name":"description","type":"string","description":"Description snapshot for this version.","nullable":true},{"name":"content_type","type":"string","description":"Content format/type at version time.","nullable":false},{"name":"status","type":"string","description":"Approval status snapshot.","nullable":false},{"name":"business_status","type":"string","description":"Business lifecycle state snapshot.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this version snapshot was created.","nullable":false}],"uniqueIndexes":[{"fieldNames":["content_id","version_number"],"unique":true}],"plainIndexes":[{"fieldNames":["content_id","created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]},{"name":"enterprise_lms_content_approval_workflows","description":"Approval workflow steps linked to content capturing review stages, reviewer roles, status flags, comments, and timestamps. Enables multi-stage approval process tracking and compliance audit workflow.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"content_id","type":"uuid","description":"Associated content entity. {@link enterprise_lms_contents.id}","relation":{"name":"content","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false}],"plainFields":[{"name":"step_number","type":"int","description":"Sequential approval step number.","nullable":false},{"name":"reviewer_role","type":"string","description":"Role of reviewer responsible for this step, e.g., organizationAdmin, contentCreatorInstructor.","nullable":false},{"name":"status","type":"string","description":"Status for this approval step: pending, approved, rejected.","nullable":false},{"name":"comments","type":"string","description":"Optional reviewer comments on this approval step.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp for this approval step record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last updated timestamp for this approval step record.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["content_id","step_number"]}],"ginIndexes":[]},{"name":"enterprise_lms_content_localizations","description":"Localized content properties supporting multi-language content management. Stores translations and locale-specific metadata per content item. Tied to primary content entries.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"content_id","type":"uuid","description":"Reference to primary content entity. {@link enterprise_lms_contents.id}","relation":{"name":"content","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false}],"plainFields":[{"name":"language_code","type":"string","description":"ISO 639-1 language code, e.g., 'en' for English, 'fr' for French.","nullable":false},{"name":"localized_title","type":"string","description":"Localized version of the content title.","nullable":true},{"name":"localized_description","type":"string","description":"Localized description specific to language.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when localization was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when localization was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["content_id","language_code"],"unique":true}],"plainIndexes":[{"fieldNames":["language_code"]}],"ginIndexes":[{"fieldName":"localized_title"},{"fieldName":"localized_description"}]},{"name":"enterprise_lms_content_tags","description":"Tags to classify and organize content materials. Tags are primary business entities with unique codes, descriptive names, and optional descriptions facilitating content discovery and filtering.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","description":"Unique identifying code for the tag.","nullable":false},{"name":"name","type":"string","description":"Display name of the tag.","nullable":false},{"name":"description","type":"string","description":"Optional descriptive information about the tag's purpose.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["name"],"unique":false}],"ginIndexes":[]},{"name":"enterprise_lms_content_tag_hierarchy","description":"Defines parent-child relationships between tags to form hierarchical tag structures. Enables tag inheritance and structured browsing. Supports administrative management of tag hierarchy.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"parent_tag_id","type":"uuid","description":"Reference to the parent tag entity. {@link enterprise_lms_content_tags.id}","relation":{"name":"parentTag","targetModel":"enterprise_lms_content_tags","mappingName":"enterprise_lms_content_tag_hierarchy_of_parent_tag_id"},"unique":false,"nullable":false},{"name":"child_tag_id","type":"uuid","description":"Reference to the child tag entity. {@link enterprise_lms_content_tags.id}","relation":{"name":"childTag","targetModel":"enterprise_lms_content_tags","mappingName":"enterprise_lms_content_tag_hierarchy_of_child_tag_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the parent-child relation was established.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["parent_tag_id","child_tag_id"]}],"ginIndexes":[]}]},{"filename":"schema-04-learning_path.prisma","namespace":"LearningPath","models":[{"name":"enterprise_lms_learning_paths","description":"Represents an enterprise learning path defining a sequence of training modules or courses for learners within a tenant organization. Organizes learning experiences and manages lifecycle states.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization this learning path belongs to. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifying this learning path within the tenant."},{"name":"title","type":"string","nullable":false,"description":"Title of the learning path."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the learning path."},{"name":"status","type":"string","nullable":false,"description":"Current lifecycle status of the learning path (e.g., active, inactive, archived)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the learning path record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the learning path was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of the record."}],"uniqueIndexes":[{"fieldNames":["tenant_id","code"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]},{"name":"enterprise_lms_learning_path_items","description":"Modules or content items assigned within a learning path, sequencing training components to guide learner progress. Managed through the parent learning path.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"learning_path_id","type":"uuid","description":"The parent learning path this item belongs to. {@link enterprise_lms_learning_paths.id}.","relation":{"name":"learningPath","targetModel":"enterprise_lms_learning_paths"},"unique":false,"nullable":false}],"plainFields":[{"name":"item_type","type":"string","nullable":false,"description":"The type of the item (e.g., course, module, assessment)."},{"name":"item_id","type":"uuid","nullable":false,"description":"The identifier of the actual content or assessment this item references."},{"name":"sequence_order","type":"int","nullable":false,"description":"The position of this item within the learning path sequence."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the learning path item was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the learning path item was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft deletion of the learning path item."}],"uniqueIndexes":[{"fieldNames":["learning_path_id","item_type","item_id"],"unique":true}],"plainIndexes":[{"fieldNames":["learning_path_id","sequence_order"]}],"ginIndexes":[]},{"name":"enterprise_lms_prerequisites","description":"Defines prerequisite relationships between learning path items, enforcing learner progression constraints and enrollment requirements.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"from_item_id","type":"uuid","description":"The prerequisite item that must be completed before the dependent item. {@link enterprise_lms_learning_path_items.id}.","relation":{"name":"fromItem","targetModel":"enterprise_lms_learning_path_items","mappingName":"enterprise_lms_prerequisites_of_from_item_id"},"unique":false,"nullable":false},{"name":"to_item_id","type":"uuid","description":"The dependent item that requires the prerequisite completion. {@link enterprise_lms_learning_path_items.id}.","relation":{"name":"toItem","targetModel":"enterprise_lms_learning_path_items","mappingName":"enterprise_lms_prerequisites_of_to_item_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this prerequisite relationship was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this prerequisite relationship was last updated."}],"uniqueIndexes":[{"fieldNames":["from_item_id","to_item_id"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"enterprise_lms_certifications","description":"Represents certifications offered to learners, with associated metadata and lifecycle management within a tenant organization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization this certification belongs to. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code for this certification within the tenant."},{"name":"name","type":"string","nullable":false,"description":"Name of the certification program."},{"name":"description","type":"string","nullable":true,"description":"Detailed description about the certification."},{"name":"status","type":"string","nullable":false,"description":"Lifecycle status of the certification (e.g., active, deprecated, retired)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp this certification record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp this certification record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","code"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"enterprise_lms_certification_expirations","description":"Stores expiration and renewal policies for certifications, enabling compliance enforcement.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"certification_id","type":"uuid","description":"Certification associated with this expiration policy. {@link enterprise_lms_certifications.id}.","relation":{"name":"certification","targetModel":"enterprise_lms_certifications"},"unique":false,"nullable":false}],"plainFields":[{"name":"expiration_period_days","type":"int","nullable":false,"description":"Number of days after certification issuance when the certification will expire."},{"name":"renewal_required","type":"boolean","nullable":false,"description":"Indicates if renewal is required after certification expires."},{"name":"notification_period_days","type":"int","nullable":false,"description":"Number of days prior to expiration when notifications should be sent to learners and administrators."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this expiration policy was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this expiration policy was last updated."}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[]},{"name":"enterprise_lms_competencies","description":"Defines competencies and skill sets linked to learning objectives and certifications within the tenant context.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization this competency belongs to. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifying this competency within the tenant."},{"name":"name","type":"string","nullable":false,"description":"Name of the competency skill or capability."},{"name":"description","type":"string","nullable":true,"description":"Detailed explanation of the competency."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp the competency was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp the competency was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","code"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id"]}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"enterprise_lms_blended_learning_sessions","description":"Represents blended learning sessions which may combine online and offline instructional activities with scheduling and status tracking in tenant context.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization owning this session. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"session_type","type":"string","nullable":false,"description":"Type of session (e.g., online, offline, hybrid)."},{"name":"title","type":"string","nullable":false,"description":"Title or name of the blended learning session."},{"name":"description","type":"string","nullable":true,"description":"Detailed description of session activities and purpose."},{"name":"status","type":"string","nullable":false,"description":"Current status of the session (e.g., scheduled, completed, cancelled)."},{"name":"scheduled_start_at","type":"datetime","nullable":false,"description":"Scheduled start date and time of the session."},{"name":"scheduled_end_at","type":"datetime","nullable":true,"description":"Scheduled end date and time, if known."},{"name":"actual_start_at","type":"datetime","nullable":true,"description":"Actual start date and time."},{"name":"actual_end_at","type":"datetime","nullable":true,"description":"Actual end date and time."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","session_type","title","scheduled_start_at"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]}]},{"filename":"schema-05-assessment_analytics.prisma","namespace":"AssessmentAnalytics","models":[{"name":"enterprise_lms_assessments","description":"Represents the main assessment entity in the LMS, containing metadata about quizzes, surveys, peer reviews, and other assessment types. This table links to the tenant organizational context via tenant_id (existing table). It holds lifecycle and status information for assessment management, scheduling, and tracking. Related to questions ({@link enterprise_lms_assessment_questions}) and results ({@link enterprise_lms_assessment_results}).","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization owning this assessment. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique business code identifying the assessment."},{"name":"title","type":"string","nullable":false,"description":"Title of the assessment."},{"name":"description","type":"string","nullable":true,"description":"Detailed description of the assessment content and purpose."},{"name":"assessment_type","type":"string","nullable":false,"description":"Type of assessment, e.g., quiz, survey, peer review, practical assignment."},{"name":"max_score","type":"double","nullable":false,"description":"Maximum achievable score for this assessment."},{"name":"passing_score","type":"double","nullable":false,"description":"Minimum score required to pass this assessment."},{"name":"scheduled_start_at","type":"datetime","nullable":true,"description":"Scheduled start datetime for the assessment."},{"name":"scheduled_end_at","type":"datetime","nullable":true,"description":"Scheduled end datetime for the assessment."},{"name":"status","type":"string","nullable":false,"description":"Current status of the assessment such as planned, active, completed, or cancelled."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["code","tenant_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","scheduled_start_at"]}],"ginIndexes":[]},{"name":"enterprise_lms_assessment_questions","description":"Stores individual questions belonging to assessments, supporting different question types and text content. It relates to the parent assessment ({@link enterprise_lms_assessments}) and can support question weighting and scoring.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"assessment_id","type":"uuid","description":"Parent assessment reference. {@link enterprise_lms_assessments.id}","relation":{"name":"assessment","targetModel":"enterprise_lms_assessments"},"unique":false,"nullable":false}],"plainFields":[{"name":"question_text","type":"string","nullable":false,"description":"Text content of the question for display to learners."},{"name":"question_type","type":"string","nullable":false,"description":"Type of question such as multiple choice, true/false, essay, practical."},{"name":"weight","type":"double","nullable":false,"description":"Weight or points this question contributes to total assessment score."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp, null if not deleted."}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[{"fieldName":"question_text"}]},{"name":"enterprise_lms_assessment_results","description":"Captures the results of learner attempts on assessments, recording scores, completion timestamps, and status. Links to the assessment attempted and the learner (existing corporate learners table).","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"assessment_id","type":"uuid","description":"Referenced assessment. {@link enterprise_lms_assessments.id}","relation":{"name":"assessment","targetModel":"enterprise_lms_assessments"},"unique":false,"nullable":false},{"name":"learner_id","type":"uuid","description":"Learner who took the assessment. {@link enterprise_lms_corporatelearner.id}","relation":{"name":"learner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false}],"plainFields":[{"name":"score","type":"double","nullable":false,"description":"Score achieved in this assessment attempt."},{"name":"completed_at","type":"datetime","nullable":true,"description":"Timestamp when assessment was completed."},{"name":"status","type":"string","nullable":false,"description":"Status of the attempt, e.g., pending, completed, failed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["status","completed_at"]}],"ginIndexes":[]},{"name":"enterprise_lms_proctored_exams","description":"Represents proctored exams integrated via third-party proctoring platforms, linked to assessments and scheduling details. Includes exam session details, proctor identifiers, and status.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"assessment_id","type":"uuid","description":"Linked assessment for this proctored exam. {@link enterprise_lms_assessments.id}","relation":{"name":"assessment","targetModel":"enterprise_lms_assessments"},"unique":false,"nullable":false}],"plainFields":[{"name":"exam_session_id","type":"string","nullable":false,"description":"Unique identifier for the proctored exam session from the third-party provider."},{"name":"proctor_id","type":"string","nullable":true,"description":"Identifier for the proctor overseeing the exam, if applicable."},{"name":"scheduled_at","type":"datetime","nullable":false,"description":"Scheduled timestamp for the proctored exam."},{"name":"status","type":"string","nullable":false,"description":"Current status of the proctored exam, e.g., scheduled, in_progress, completed, cancelled."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable."}],"uniqueIndexes":[{"fieldNames":["exam_session_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","scheduled_at"]}],"ginIndexes":[]},{"name":"enterprise_lms_analytics_reports","description":"Stores precomputed analytics reports and summaries related to assessments and learner performance for efficient dashboard rendering and compliance reporting. Linked to tenant organizational context for scoped reporting.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization associated with this analytics report. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"report_name","type":"string","nullable":false,"description":"Descriptive name of the analytics report."},{"name":"report_type","type":"string","nullable":false,"description":"Type of the report, e.g., completion, engagement, compliance."},{"name":"parameters_json","type":"string","nullable":false,"description":"JSON string containing filter and aggregation parameters for the report generation."},{"name":"generated_at","type":"datetime","nullable":false,"description":"Timestamp when the report was generated."},{"name":"content_json","type":"string","nullable":false,"description":"JSON string containing the full report content, data, and metadata."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp for the report."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["report_type","generated_at"]}],"ginIndexes":[]}]},{"filename":"schema-06-communication.prisma","namespace":"Communication","models":[{"name":"enterprise_lms_forums","description":"This model represents discussion forums within the enterprise LMS. Forums are tenant-scoped containers for discussion threads. Each forum has an owner (usually the organization or department admin) and supports soft deletes for archival. Forums enable structured conversations and community engagement within tenant boundaries.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant owning the forum. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"owner_id","type":"uuid","description":"Owner user of the forum (organization/department admin). {@link enterprise_lms_organizationadmin.id}","relation":{"name":"owner","targetModel":"enterprise_lms_organizationadmin"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"Name of the forum."},{"name":"description","type":"string","nullable":true,"description":"Optional description of the forum."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the forum was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the forum was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Optional timestamp for soft deletion."}],"uniqueIndexes":[{"fieldNames":["tenant_id","name"],"unique":true}],"plainIndexes":[{"fieldNames":["owner_id","created_at"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"enterprise_lms_forum_threads","description":"Represents discussion threads inside a forum. Threads belong to a forum and have an author. Threads support soft deletion and track their creation and update timestamps. This entity enables discussion grouping under forums.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"forum_id","type":"uuid","description":"Forum to which this thread belongs. {@link enterprise_lms_forums.id}","relation":{"name":"forum","targetModel":"enterprise_lms_forums"},"unique":false,"nullable":false},{"name":"author_id","type":"uuid","description":"User who created the thread (content creator/instructor). {@link enterprise_lms_contentcreatorinstructor.id}","relation":{"name":"author","targetModel":"enterprise_lms_contentcreatorinstructor"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","nullable":false,"description":"Title of the thread."},{"name":"body","type":"string","nullable":true,"description":"Initial post content or thread description."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["forum_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["author_id","created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"body"}]},{"name":"enterprise_lms_forum_posts","description":"Individual posts within a forum thread. Posts contain the message content, author information, and support soft deletion. Posts belong to a forum thread and are ordered by creation time. Enables detailed conversations at the post level.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"thread_id","type":"uuid","description":"Forum thread containing this post. {@link enterprise_lms_forum_threads.id}","relation":{"name":"thread","targetModel":"enterprise_lms_forum_threads"},"unique":false,"nullable":false},{"name":"author_id","type":"uuid","description":"User who authored the post (corporate learner or instructor). {@link enterprise_lms_corporatelearner.id}","relation":{"name":"author","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false}],"plainFields":[{"name":"body","type":"string","nullable":false,"description":"Content body of the post."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["thread_id","created_at"]}],"ginIndexes":[{"fieldName":"body"}]},{"name":"enterprise_lms_direct_messages","description":"Direct private messages exchanged between users. Each message has a sender, recipient, content, timestamp, and read status. Supports soft deletion to allow recovery and audit. Messages are tenant-scoped to ensure strict multi-tenant isolation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant owning the message. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"sender_id","type":"uuid","description":"User who sent the message (any user role). {@link enterprise_lms_corporatelearner.id}","relation":{"name":"sender","targetModel":"enterprise_lms_corporatelearner","mappingName":"enterprise_lms_direct_messages_of_sender_id"},"unique":false,"nullable":false},{"name":"recipient_id","type":"uuid","description":"Message recipient user. {@link enterprise_lms_corporatelearner.id}","relation":{"name":"recipient","targetModel":"enterprise_lms_corporatelearner","mappingName":"enterprise_lms_direct_messages_of_recipient_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"body","type":"string","nullable":false,"description":"Message content."},{"name":"sent_at","type":"datetime","nullable":false,"description":"Timestamp when message was sent."},{"name":"read_at","type":"datetime","nullable":true,"description":"Timestamp when message was read."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["tenant_id","sender_id","recipient_id","sent_at"]}],"ginIndexes":[{"fieldName":"body"}]},{"name":"enterprise_lms_virtual_classrooms","description":"Scheduled virtual classroom sessions for live training. Sessions belong to a tenant and are created by an instructor. Each session has a title, description, start and end timestamps, and soft delete support. Enables live, synchronous instruction within the enterprise LMS.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant owning the virtual classroom. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"instructor_id","type":"uuid","description":"Session instructor (content creator/instructor). {@link enterprise_lms_contentcreatorinstructor.id}","relation":{"name":"instructor","targetModel":"enterprise_lms_contentcreatorinstructor"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","nullable":false,"description":"Title of the virtual classroom session."},{"name":"description","type":"string","nullable":true,"description":"Optional description of the session."},{"name":"start_at","type":"datetime","nullable":false,"description":"Start timestamp of the session."},{"name":"end_at","type":"datetime","nullable":false,"description":"End timestamp of the session."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","title","start_at"],"unique":true}],"plainIndexes":[{"fieldNames":["instructor_id","start_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"enterprise_lms_group_projects","description":"Group project entities representing collaborative workspaces within the LMS. Projects belong to a tenant and may be owned by single or multiple users. Each project has a title, description, start and end dates, and soft delete support. Enables teamwork and collaboration across enterprise learners.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant owning the project. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"owner_id","type":"uuid","description":"Owner user of the project (corporate learner or instructor). {@link enterprise_lms_corporatelearner.id}","relation":{"name":"owner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","nullable":false,"description":"Title of the group project."},{"name":"description","type":"string","nullable":true,"description":"Optional description of the project."},{"name":"start_at","type":"datetime","nullable":false,"description":"Project start timestamp."},{"name":"end_at","type":"datetime","nullable":false,"description":"Project end timestamp."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["owner_id","start_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"enterprise_lms_announcements","description":"Announcement messages sent to groups within tenants. Announcements have a title, body, target audience description, and status tracking including delivery receipts. They support soft deletion and timestamps for creation and update. Announcements help communicate important information across the enterprise LMS ecosystem.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant owning the announcement. {@link enterprise_lms_tenants.id}","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"creator_id","type":"uuid","description":"User who created the announcement (organization/department admin). {@link enterprise_lms_organizationadmin.id}","relation":{"name":"creator","targetModel":"enterprise_lms_organizationadmin"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","nullable":false,"description":"Title of the announcement."},{"name":"body","type":"string","nullable":false,"description":"Content body of the announcement."},{"name":"target_audience_description","type":"string","nullable":true,"description":"Description of the target audience for the announcement."},{"name":"status","type":"string","nullable":false,"description":"Current status of the announcement, e.g. 'draft', 'sent', 'archived'."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["tenant_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["creator_id","status"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"body"}]}]},{"filename":"schema-07-business_rules.prisma","namespace":"BusinessRules","models":[{"name":"enterprise_lms_enrollments","description":"This table records enrollment information for learners in courses and programs within the LMS. It links learners to learning paths or courses, enforcing prerequisite validations and status tracking. Includes soft deletion support, creation, and update timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"learner_id","type":"uuid","description":"Belonged learner's enterprise_lms_corporatelearner.id.","relation":{"name":"learner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false},{"name":"learning_path_id","type":"uuid","description":"Belonged learning path's enterprise_lms_learning_paths.id.","relation":{"name":"learningPath","targetModel":"enterprise_lms_learning_paths"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","nullable":false,"description":"Current enrollment status such as 'active', 'completed', 'cancelled'."},{"name":"business_status","type":"string","nullable":true,"description":"Business workflow state for enrollment approvals or special states."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp; null means active."}],"uniqueIndexes":[{"fieldNames":["learner_id","learning_path_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","business_status"]}],"ginIndexes":[{"fieldName":"status"}]},{"name":"enterprise_lms_enrollment_prerequisites","description":"This subsidiary table defines the prerequisite relationships between enrollments and the courses or modules that must be completed beforehand. It supports prerequisite enforcement and audit trails.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enrollment_id","type":"uuid","description":"Belonged enrollment's enterprise_lms_enrollments.id.","relation":{"name":"enrollment","targetModel":"enterprise_lms_enrollments"},"unique":false,"nullable":false},{"name":"prerequisite_course_id","type":"uuid","description":"Prerequisite course's enterprise_lms_contents.id to be completed before enrollment.","relation":{"name":"prerequisiteCourse","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Creation time for this prerequisite link."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update time for this record."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["enrollment_id","prerequisite_course_id"]}],"ginIndexes":[]},{"name":"enterprise_lms_certificate_issuances","description":"Tracks issuance of certificates to learners upon successful course or certification track completion including validation of passing scores and expiration. Includes status and soft delete.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"learner_id","type":"uuid","description":"Belonged learner's enterprise_lms_corporatelearner.id.","relation":{"name":"learner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false},{"name":"certification_id","type":"uuid","description":"Belonged certification's enterprise_lms_certifications.id.","relation":{"name":"certification","targetModel":"enterprise_lms_certifications"},"unique":false,"nullable":false}],"plainFields":[{"name":"issue_date","type":"datetime","nullable":false,"description":"Date when certificate was issued."},{"name":"expiration_date","type":"datetime","nullable":true,"description":"Certificate expiration date, if any."},{"name":"status","type":"string","nullable":false,"description":"Certificate status such as 'valid', 'expired', 'revoked'."},{"name":"business_status","type":"string","nullable":true,"description":"Business state for certificate workflow, e.g., renewal process."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp; null means active."}],"uniqueIndexes":[{"fieldNames":["learner_id","certification_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","business_status"]}],"ginIndexes":[{"fieldName":"status"}]},{"name":"enterprise_lms_content_access_controls","description":"Defines content access control rules assigning visibility and permissions to learners and user roles. It restricts content access by tenant, department, role, and individual learner with auditing timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"content_id","type":"uuid","description":"Belonged content's enterprise_lms_contents.id.","relation":{"name":"content","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false},{"name":"tenant_id","type":"uuid","description":"Belonged tenant's enterprise_lms_tenants.id.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"allowed_roles","type":"string","nullable":true,"description":"Comma-separated allowed roles like 'corporateLearner,externalLearner'."},{"name":"allowed_learners","type":"string","nullable":true,"description":"Comma-separated specific learner IDs allowed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["tenant_id","content_id"]}],"ginIndexes":[]},{"name":"enterprise_lms_progress_tracking","description":"Stores detailed learner progress including time spent, assessment attempts, and engagement metrics per content item. Supports soft deletion and consistent timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"learner_id","type":"uuid","description":"Belonged learner's enterprise_lms_corporatelearner.id.","relation":{"name":"learner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false},{"name":"content_id","type":"uuid","description":"Belonged content's enterprise_lms_contents.id.","relation":{"name":"content","targetModel":"enterprise_lms_contents"},"unique":false,"nullable":false}],"plainFields":[{"name":"time_spent_seconds","type":"int","nullable":false,"description":"Total time spent on content in seconds."},{"name":"assessment_attempts","type":"int","nullable":false,"description":"Number of assessment attempts made."},{"name":"engagement_score","type":"double","nullable":false,"description":"Engagement level metric."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation time."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update time."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp."}],"uniqueIndexes":[{"fieldNames":["learner_id","content_id"],"unique":true}],"plainIndexes":[{"fieldNames":["time_spent_seconds","assessment_attempts"]}],"ginIndexes":[]},{"name":"enterprise_lms_compliance_records","description":"Records compliance audit logs and regulatory training validations for learners across tenants. Contains detailed tracking data and timestamps for audit and reporting purposes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"learner_id","type":"uuid","description":"Belonged learner's enterprise_lms_corporatelearner.id.","relation":{"name":"learner","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false},{"name":"tenant_id","type":"uuid","description":"Belonged tenant's enterprise_lms_tenants.id.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"compliance_type","type":"string","nullable":false,"description":"Type of compliance such as 'regulatory', 'internal audit', 'certification'."},{"name":"compliance_status","type":"string","nullable":false,"description":"Current status of compliance like 'passed', 'failed', 'pending'."},{"name":"details","type":"string","nullable":true,"description":"Detailed compliance data and notes."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["compliance_type","compliance_status"]}],"ginIndexes":[]}]},{"filename":"schema-08-integration_non_functional.prisma","namespace":"IntegrationNonFunctional","models":[{"name":"enterprise_lms_payment_transactions","description":"Records of payment processing transactions related to course purchases, subscriptions, and certifications within the Enterprise LMS. This model captures details including transaction amounts, currencies, methods, statuses, timestamps, and relevant references to external payment gateways and users. It supports auditing and financial reconciliation workflows, ensuring traceability and regulatory compliance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization owning this transaction. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"user_id","type":"uuid","description":"User who performed or authorized this transaction. {@link enterprise_lms_corporatelearner.id}.","relation":{"name":"user","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":false}],"plainFields":[{"name":"transaction_code","type":"string","nullable":false,"description":"Unique code identifying this payment transaction for tracking and reconciliation."},{"name":"amount","type":"double","nullable":false,"description":"Transaction amount in the specified currency."},{"name":"currency","type":"string","nullable":false,"description":"ISO 4217 currency code for the transaction, e.g., USD, EUR."},{"name":"payment_method","type":"string","nullable":false,"description":"Method used for payment, such as credit card, PayPal, bank transfer."},{"name":"status","type":"string","nullable":false,"description":"Current status of the transaction, e.g., pending, completed, failed."},{"name":"gateway_reference","type":"string","nullable":true,"description":"Reference code from the payment gateway or processor."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp indicating logical deletion."}],"uniqueIndexes":[{"fieldNames":["transaction_code"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","status","created_at"]}],"ginIndexes":[{"fieldName":"payment_method"}]},{"name":"enterprise_lms_notification_logs","description":"Logs of notifications sent by the LMS system including email, SMS, and in-app alerts. This table records notification types, recipient identifiers, message contents, delivery statuses, timestamps, and related tenant context to support auditing and tracking communication efficacy.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization associated with this notification. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"notification_type","type":"string","nullable":false,"description":"Type of notification, e.g., email, sms, push."},{"name":"recipient_identifier","type":"string","nullable":false,"description":"Recipient identifier such as email address, phone number, or device token."},{"name":"message_body","type":"string","nullable":false,"description":"Content of the notification message."},{"name":"delivery_status","type":"string","nullable":false,"description":"Current delivery status such as sent, failed, queued."},{"name":"sent_at","type":"datetime","nullable":true,"description":"Timestamp when notification was sent."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["tenant_id","notification_type","delivery_status","sent_at"]}],"ginIndexes":[{"fieldName":"recipient_identifier"},{"fieldName":"message_body"}]},{"name":"enterprise_lms_integration_settings","description":"Configuration settings for external integrations used by the Enterprise LMS, including API keys, endpoints, credentials, and toggles related to third-party platforms such as payment gateways, notification services, analytics providers, and security services. Supports multi-tenant customization and secure storage of sensitive integration data.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization owning this configuration. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false}],"plainFields":[{"name":"integration_name","type":"string","nullable":false,"description":"Name of the external integration platform or service, e.g., Stripe, SendGrid, Mixpanel."},{"name":"config_key","type":"string","nullable":false,"description":"Key or identifier for this configuration entry."},{"name":"config_value","type":"string","nullable":true,"description":"Configuration value, which may contain encrypted secrets or URLs."},{"name":"enabled","type":"boolean","nullable":false,"description":"Flag indicating whether this integration config is active."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this configuration was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this configuration was last updated."}],"uniqueIndexes":[{"fieldNames":["tenant_id","integration_name","config_key"],"unique":true}],"plainIndexes":[{"fieldNames":["tenant_id","enabled"]}],"ginIndexes":[{"fieldName":"config_key"}]},{"name":"enterprise_lms_performance_metrics","description":"Performance metrics records collected periodically capturing system CPU usage, memory, request rates, error rates, and latency statistics. Metrics cover per-tenant and global system levels to enable monitoring, alerting, and capacity planning.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization this metric belongs to (nullable for global metrics). {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":true}],"plainFields":[{"name":"metric_name","type":"string","nullable":false,"description":"Name of the performance metric, e.g., cpu_usage_percent, request_rate."},{"name":"metric_value","type":"double","nullable":false,"description":"Value of the metric at the recorded time."},{"name":"recorded_at","type":"datetime","nullable":false,"description":"Timestamp when the metric was recorded."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["tenant_id","metric_name","recorded_at"]}],"ginIndexes":[]},{"name":"enterprise_lms_security_audit_logs","description":"Audit log entries capturing security-related events such as login attempts, permission changes, configuration modifications, and access violations. Supports compliance regulations and forensic investigations across multiple tenants.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"tenant_id","type":"uuid","description":"Tenant organization related to this event. {@link enterprise_lms_tenants.id}.","relation":{"name":"tenant","targetModel":"enterprise_lms_tenants"},"unique":false,"nullable":false},{"name":"user_id","type":"uuid","description":"User who triggered or was affected by this security event. {@link enterprise_lms_corporatelearner.id}.","relation":{"name":"user","targetModel":"enterprise_lms_corporatelearner"},"unique":false,"nullable":true}],"plainFields":[{"name":"event_type","type":"string","nullable":false,"description":"Type of security event, e.g., login_success, permission_change, access_denied."},{"name":"event_details","type":"string","nullable":true,"description":"Detailed description or JSON payload of the event."},{"name":"occurred_at","type":"datetime","nullable":false,"description":"Timestamp when the event occurred."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["tenant_id","event_type","occurred_at"]}],"ginIndexes":[{"fieldName":"event_details"}]},{"name":"enterprise_lms_backup_records","description":"Records of system backup snapshots including timestamps, backup types, storage locations, sizes, and status. Supports disaster recovery, compliance auditing, and operational transparency across the multi-tenant LMS platform.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"backup_timestamp","type":"datetime","nullable":false,"description":"Timestamp when the backup was taken."},{"name":"backup_type","type":"string","nullable":false,"description":"Type of backup such as full, incremental, differential."},{"name":"storage_location","type":"string","nullable":false,"description":"Storage path or URL where the backup is stored."},{"name":"backup_size_bytes","type":"int","nullable":false,"description":"Size of the backup in bytes."},{"name":"status","type":"string","nullable":false,"description":"Current status of the backup, e.g., completed, failed, in_progress."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["backup_timestamp","backup_type","storage_location"],"unique":true}],"plainIndexes":[{"fieldNames":["backup_timestamp","status"]}],"ginIndexes":[]}]}]}