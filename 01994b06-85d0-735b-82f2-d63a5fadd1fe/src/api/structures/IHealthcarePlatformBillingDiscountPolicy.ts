import { tags } from "typia";

/**
 * Business entity for billing discount policy, as used in invoice workflows,
 * reporting, and compliance.
 *
 * Represents an organization-specific policy that can be referenced from
 * invoice/adjustment creation workflows and for compliance analytics.
 *
 * Strictly linked to organization for tenant isolation. May be referenced by
 * many invoices/items/adjustments.
 *
 * Fields map precisely to the Prisma table's columns with type,
 * required/optional status, and validation.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IHealthcarePlatformBillingDiscountPolicy = {
  /**
   * Unique identifier for this discount policy.
   *
   * Referenced as the PK in the Prisma schema.
   *
   * Format: UUID (RFC 4122) assigned at creation. Immutable primary key for
   * lookups and references in invoices/items/adjustments/audit.
   */
  id: string;

  /**
   * UUID of the organization which owns/controls this policy definition. Used
   * for tenant isolation and partitioning of financial workflows. Required
   * field, referenced from 'organization_id' column.
   */
  organization_id: string;

  /**
   * Display name for the discount policy (e.g., 'Charity', 'Employee',
   * 'Hardship', 'COVID-19 Relief'). Used in UI, invoice receipts, and
   * reporting. Referenced from 'policy_name' column.
   */
  policy_name: string;

  /**
   * Class of discount mechanism for policy: 'percentage', 'fixed',
   * 'sliding_scale', or organization-defined logic. Used to determine
   * application to billing amounts. Referenced from 'discount_type' column.
   */
  discount_type: string;

  /**
   * Free-text description or rationale for the policy. Explains the business
   * criteria, eligibility, or workflow applied. Referenced from 'description'
   * column. Optional; usually present for compliance review.
   */
  description?: string | undefined;

  /**
   * Status flag indicating if this discount policy is currently available for
   * use in invoice workflows. Referenced from 'is_active' column.
   */
  is_active: boolean;

  /**
   * Timestamp when the policy was created. ISO 8601/RFC 3339 format. Fully
   * auditable for policy versioning. Referenced from 'created_at' column.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Timestamp of last modification to the policy. ISO 8601/RFC 3339 format.
   * Used for change tracking and compliance audits. Referenced from
   * 'updated_at' column.
   */
  updated_at: string & tags.Format<"date-time">;
};
export namespace IHealthcarePlatformBillingDiscountPolicy {
  /**
   * Request interface for advanced search or pagination of billing discount
   * policies in administrative and analytics dashboards.
   *
   * Enables organization admins or compliance officers to locate relevant
   * active/inactive discount policies.
   */
  export type IRequest = {
    /**
     * Organization UUID used to scope discount policy search. Returns only
     * policy records belonging to the specified organization. Referenced
     * from the 'organization_id' column. Search by organization partition
     * is mandatory in multitenant platforms.
     */
    organization_id?: string | undefined;

    /**
     * Partial case-insensitive search on the policy display name.
     *
     * Matches any policy_name containing this value as a substring (e.g.,
     * 'Charity', 'Staff', etc). Useful for UI quick filtering.
     */
    policy_name?: string | undefined;

    /**
     * Filter to return only policies matching the given discount type
     * (e.g., 'percentage', 'fixed', 'sliding_scale', as defined in business
     * rules). Return is always case-insensitive, but values must match
     * records. Referenced from 'discount_type' column.
     */
    discount_type?: string | undefined;

    /**
     * Limits results to only currently available (active) discount
     * policies. Active policy can be applied to new invoices;
     * inactive/archived policies are excluded.
     */
    is_active?: boolean | undefined;

    /**
     * Keyword or full-text search on the business description/rationale for
     * the policy. Returns all records where 'description' includes this
     * string.
     */
    description?: string | undefined;

    /**
     * ISO8601 timestamp (optional) indicating the start of the policy
     * creation filter window. Returns policies created at or after this
     * value.
     */
    created_at_from?: (string & tags.Format<"date-time">) | undefined;

    /**
     * ISO8601 timestamp (optional) indicating the end of the policy
     * creation filter window. Returns policies created on or before this
     * value.
     */
    created_at_to?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Creation DTO for registering a new billing discount policy. Used by
   * organizationAdmin roles via UI or script to add charity, employee, or
   * compliance discount programs for use in invoice workflows.
   *
   * After creation, the policy is immediately available for use in
   * invoice/adjustment workflows (if active=true).
   */
  export type ICreate = {
    /**
     * UUID of the organization to which this discount policy will belong.
     * Required for partitioning of financial and compliance data.
     * Referenced from the 'organization_id' foreign key column in the
     * Prisma schema.
     */
    organization_id: string;

    /**
     * Display name for the new discount policy (e.g., 'Staff Assistance',
     * 'Low Income', 'Charity Care'). Used in invoice line items, summary,
     * and reporting. Must be unique per organization.
     */
    policy_name: string;

    /**
     * Specifies the discount logic: 'percentage', 'fixed', 'sliding_scale',
     * or custom type as defined by business logic. Case-insensitive.
     * Referenced from the 'discount_type' column in the Prisma data model.
     */
    discount_type: string;

    /**
     * (Optional) Describes the workflow, business policy, or rationale for
     * the discount. Used for compliance, eligibility, or business
     * reporting. Referenced from the 'description' column. Can be omitted
     * on creation, but is encouraged.
     */
    description?: string | undefined;

    /**
     * Whether this discount policy is currently active when created (true =
     * available for immediate use in invoices; false = policy defined as
     * draft or future-dated). Referenced from the 'is_active' column.
     * Required.
     */
    is_active: boolean;
  };

  /**
   * Fields permitted for updating a billing discount policy. All fields are
   * optional and may be submitted partially. This type is used for updating
   * the healthcare_platform_billing_discount_policies table. See schema for
   * property-level details. Nulls are accepted for nullable properties.
   * Unique constraints are enforced on (organization_id, policy_name).
   */
  export type IUpdate = {
    /**
     * Business-facing display name for this discount policy (e.g., Charity,
     * Employee, Hardship). Optional during update. Must be unique per
     * organization.
     */
    policy_name?: string | undefined;

    /**
     * Type/logic for the discount (e.g., percentage, fixed, sliding scale,
     * policy code).
     */
    discount_type?: string | undefined;

    /** Detailed description of this policy. */
    description?: string | null | undefined;

    /**
     * Whether the policy is active and available for use. Set to false when
     * retiring the policy.
     */
    is_active?: boolean | undefined;

    /**
     * Timestamp representing the most recent update (ISO 8601 format).
     * Optional for patch; managed in backend.
     */
    updated_at?: (string & tags.Format<"date-time">) | null | undefined;
  };

  /**
   * Summary record for a billing discount/charity/business discount policy as
   * configured per-organization. Used in list/pagination APIs for picking
   * policy or reviewing assignments. Does not expose full formula, just admin
   * details.
   *
   * - `id`: Policy record unique identifier (UUID)
   * - `organization_id`: UUID of the owning organization
   * - `policy_name`: Display/business name
   * - `discount_type`: E.g., percentage, fixed, sliding scale, etc
   * - `is_active`: Whether currently offered/allowed
   */
  export type ISummary = {
    /** Unique identifier (UUID) for the discount policy */
    id: string & tags.Format<"uuid">;

    /** Owning organization's UUID */
    organization_id: string & tags.Format<"uuid">;

    /**
     * Display/business-friendly name for this policy (e.g., Charity,
     * Employee, Hardship)
     */
    policy_name: string;

    /** Business/logic type (percentage, fixed, code, sliding, etc) */
    discount_type: string;

    /** If this discount is actively available for use/application */
    is_active: boolean;
  };
}
