import { tags } from "typia";

/**
 * Full telemedicine session record, including timing, join link, all audit
 * timestamps, and optional join/attendance events.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IHealthcarePlatformTelemedicineSession = {
  /** Unique identifier for the telemedicine session. */
  id: string & tags.Format<"uuid">;

  /** Linked appointment identifier (foreign key to appointment entity). */
  appointment_id: string & tags.Format<"uuid">;

  /**
   * Secure URL or deep-link for virtual meeting room. Content must comply
   * with privacy/security configurations (e.g., short-lived, obfuscated,
   * secured from non-participants).
   */
  join_link: string;

  /** Session planned start time (ISO 8601, may or may not be in the past). */
  session_start: string & tags.Format<"date-time">;

  /** Session planned or actual end time. Used for SLA/compliance review. */
  session_end: string & tags.Format<"date-time">;

  /**
   * When provider joined the session (ISO 8601, nullable). Null if provider
   * did not join or connection failed.
   */
  provider_joined_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * When patient joined the session (ISO 8601, nullable if not joined/no-show
   * case).
   */
  patient_joined_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * If set true, the session was or will be recorded for compliance, legal
   * review, or QI purposes.
   */
  session_recorded: boolean;

  /**
   * Timestamp when telemedicine session was created in the platform;
   * immutable.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Last modification timestamp for the session record; supports auditability
   * and healing.
   */
  updated_at: string & tags.Format<"date-time">;
};
export namespace IHealthcarePlatformTelemedicineSession {
  /**
   * Payload to create a telemedicine session, always linked to an
   * appointment. Records join URL, planned start/end, and whether session is
   * recorded. provider_joined_at and patient_joined_at are for
   * legacy/optimization and are optional.
   */
  export type ICreate = {
    /**
     * FK to healthcare_platform_appointments referencing which booked
     * appointment creates this telemedicine session
     */
    appointment_id: string & tags.Format<"uuid">;

    /**
     * Secure join URL or virtual room code. Can be a deep link or generated
     * key/URL.
     */
    join_link: string;

    /** Planned start time for the telemedicine session (ISO 8601) */
    session_start: string & tags.Format<"date-time">;

    /** Planned (or concluded) end time (ISO 8601) */
    session_end: string & tags.Format<"date-time">;

    /**
     * ISO 8601 datetime when the provider joined, if known; required for
     * attendance/SLA audit
     */
    provider_joined_at?: (string & tags.Format<"date-time">) | null | undefined;

    /**
     * When the patient joined (ISO 8601 or null/undefined if not yet
     * joined). Used to track attendance, patient no-show analytics, and
     * time tracking.
     */
    patient_joined_at?: (string & tags.Format<"date-time">) | null | undefined;

    /**
     * If true, session will be/was recorded for compliance or quality
     * review.
     */
    session_recorded: boolean;
  };

  /**
   * Update fields for a telemedicine session as part of the platform's
   * session entity. Populate with specific updatable properties per future
   * refinement.
   *
   * @title IHealthcarePlatformTelemedicineSession.IUpdate
   */
  export type IUpdate = {};
}
