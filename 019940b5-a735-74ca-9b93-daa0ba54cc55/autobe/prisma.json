{"files":[{"filename":"schema-01-identity.prisma","namespace":"Identity","models":[{"name":"event_registration_regular_users","description":"Regular users who register with email and password, including profile information. They must verify email before signing up for events. Holds authentication-related data such as email (unique) and password_hash, plus personal details like full name, phone number, and profile picture URL. Timestamps track creation and updates for audit purposes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"User's unique email address used for login authentication."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure authentication; never store plain passwords."},{"name":"full_name","type":"string","nullable":false,"description":"User's full legal or preferred name."},{"name":"phone_number","type":"string","nullable":true,"description":"User's phone number, optional but useful for contacting."},{"name":"profile_picture_url","type":"uri","nullable":true,"description":"URL of user's profile picture, optional."},{"name":"email_verified","type":"boolean","nullable":false,"description":"Flag indicating if user has verified their email address."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the user record was last updated."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"full_name"}]},{"name":"event_registration_event_organizers","description":"Event organizers who can create and manage their own events after admin approval. Stores authentication credentials plus contact details and profile information such as full name, phone number, and profile picture URL. Email must be unique. Tracks email verification status and timestamps for creation and updates.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Event organizer's unique email address for authentication."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure authentication."},{"name":"full_name","type":"string","nullable":false,"description":"Full name of the event organizer."},{"name":"phone_number","type":"string","nullable":true,"description":"Contact phone number of the event organizer, optional."},{"name":"profile_picture_url","type":"uri","nullable":true,"description":"URL for profile picture of the organizer, optional."},{"name":"email_verified","type":"boolean","nullable":false,"description":"Indicator whether the organizer has verified their email."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the organizer record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the organizer record was last updated."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"full_name"}]},{"name":"event_registration_admins","description":"Administrators with global system privileges capable of managing users, events, and approving organizer requests. Holds unique email authentication data and profile information. Tracks email verification and audit timestamps indicating creation and last update.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Administrator's unique email address for login."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication security."},{"name":"full_name","type":"string","nullable":false,"description":"Admin's full name for identification."},{"name":"phone_number","type":"string","nullable":true,"description":"Optional phone number for admin contact."},{"name":"profile_picture_url","type":"uri","nullable":true,"description":"Optional profile picture URL for admin users."},{"name":"email_verified","type":"boolean","nullable":false,"description":"Flag indicating if admin's email has been verified."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp for audit purposes."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp for audit purposes."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"full_name"}]}]},{"filename":"schema-02-emailverification.prisma","namespace":"EmailVerification","models":[{"name":"event_registration_email_verification_tokens","description":"Storage of email verification tokens associated with user accounts. This table manages the lifecycle of unique tokens used for verifying user email addresses, referencing the users securely. Ensures auditability and data integrity through created timestamps and unique token constraints.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_registration_regular_user_id","type":"uuid","description":"Belonged regular user that owns this token. {@link event_registration_regular_users.id}.","relation":{"name":"regularUser","targetModel":"event_registration_regular_users"},"unique":false,"nullable":false}],"plainFields":[{"name":"token","type":"string","description":"Unique verification token for email validation.","nullable":false},{"name":"expires_at","type":"datetime","description":"Expiration timestamp of the token, after which it is invalid.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the token was created.","nullable":false}],"uniqueIndexes":[{"fieldNames":["token"],"unique":true}],"plainIndexes":[{"fieldNames":["event_registration_regular_user_id"]}],"ginIndexes":[]}]},{"filename":"schema-03-events.prisma","namespace":"Events","models":[{"name":"event_registration_events","description":"Table storing detailed data about individual events including name, date, location, capacity, description, price, category reference, status, and temporal fields. Managed by event organizers and admins. Supports soft deletion and state tracking via timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_category_id","type":"uuid","nullable":false,"unique":false,"description":"Foreign key to the event category {@link event_registration_event_categories.id}.","relation":{"name":"eventCategory","targetModel":"event_registration_event_categories"}}],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"The name of the event."},{"name":"date","type":"datetime","nullable":false,"description":"The scheduled start date and time of the event in ISO 8601 format."},{"name":"location","type":"string","nullable":false,"description":"The location where the event will take place."},{"name":"capacity","type":"int","nullable":false,"description":"The maximum number of attendees allowed for the event."},{"name":"description","type":"string","nullable":true,"description":"Detailed description of the event; optional field."},{"name":"ticket_price","type":"double","nullable":false,"description":"The ticket price for entry; zero indicates a free event."},{"name":"status","type":"string","nullable":false,"description":"The current status of the event: scheduled, cancelled, or completed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the event record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the event record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft deletion; null if the event is active."}],"uniqueIndexes":[{"fieldNames":["name","date"],"unique":true}],"plainIndexes":[{"fieldNames":["event_category_id","date"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"event_registration_event_categories","description":"Categories classification table for events, e.g., workshop, seminar, social, and networking. This table allows efficient categorization and filtering of events. Managed independently by admins and organizers.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"Unique name of the event category, such as workshop or seminar."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description for the category."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the category record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the category record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft deletion; null if active."}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-04-signups.prisma","namespace":"Signups","models":[{"name":"event_registration_event_attendees","description":"Represents confirmed attendees registered for events. Each record associates a regular user with an event they attend. This prevents duplicate registrations and supports attendance tracking and audit logging.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_id","type":"uuid","description":"References the {@link event_registration_events.id} of the attended event.","relation":{"name":"event","targetModel":"event_registration_events"},"unique":false,"nullable":false},{"name":"regular_user_id","type":"uuid","description":"References the {@link event_registration_regular_users.id} of the attendee.","relation":{"name":"regularUser","targetModel":"event_registration_regular_users"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the attendee registered.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the attendee registration was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["event_id","regular_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"event_registration_event_waitlists","description":"Represents the waitlist for events that have reached full capacity. Each record links a regular user waiting for a spot in a specific event. The creation timestamp manages the FIFO order of the waitlist. This supports automated waitlist promotion and audit logging.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_id","type":"uuid","description":"References the {@link event_registration_events.id} of the event being waited for.","relation":{"name":"event","targetModel":"event_registration_events"},"unique":false,"nullable":false},{"name":"regular_user_id","type":"uuid","description":"References the {@link event_registration_regular_users.id} of the waitlisted user.","relation":{"name":"regularUser","targetModel":"event_registration_regular_users"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when this waitlist entry was created, defining FIFO order.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this waitlist entry was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["event_id","regular_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"event_registration_event_capacity_overrides","description":"Stores administrative overrides for the event capacity adjustments feature. Admins can enable or disable automatic capacity adjustments for specific events. This table enforces a unique one-to-one relationship with events. Tracks creation and update timestamps for audit and operational history.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_id","type":"uuid","description":"References the {@link event_registration_events.id} of the event for this capacity override.","relation":{"name":"event","targetModel":"event_registration_events"},"unique":true,"nullable":false}],"plainFields":[{"name":"is_override_enabled","type":"boolean","description":"Indicates if automatic capacity adjustments are overridden for this event.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this capacity override record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this capacity override record was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["event_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]}]},{"filename":"schema-05-notifications.prisma","namespace":"Notifications","models":[{"name":"event_registration_notifications","description":"Records notifications generated by system and users related to event registration activities. Includes registrations, waitlist promotions, capacity changes, and other system or user-targeted notifications. Supports soft deletion and timestamps for audit trail. References the user who receives or triggers the notification, if applicable.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Belonged user's {@link event_registration_regular_users.id} who receives or triggers the notification. Nullable because some notifications may be system-wide.","relation":{"name":"user","targetModel":"event_registration_regular_users"},"unique":false,"nullable":true}],"plainFields":[{"name":"type","type":"string","description":"Type of notification, e.g., registration confirmation, waitlist promotion, event schedule change, capacity adjustment.","nullable":false},{"name":"content","type":"string","description":"Detailed notification content describing the event or action.","nullable":false},{"name":"read","type":"boolean","description":"Flag indicating whether the notification has been read by the user.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the notification was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the notification was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the notification was soft deleted; null if not deleted.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id","created_at"]}],"ginIndexes":[{"fieldName":"content"}]}]},{"filename":"schema-06-analytics.prisma","namespace":"Analytics","models":[{"name":"event_registration_event_analytics","description":"Aggregated analytical data for event registrations, including total sign-ups, waitlist size, and category-wise sign-up counts for workshops, seminars, social, and networking events. This table captures temporal snapshots of event metrics that support reporting, trend analysis, and decision making by organizers and admins. It references the base event to link metrics contextually.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"event_registration_event_id","type":"uuid","description":"Belonged event's {@link event_registration_events.id}.","relation":{"name":"eventRegistrationEvent","targetModel":"event_registration_events"},"unique":false,"nullable":false}],"plainFields":[{"name":"total_sign_ups","type":"int","nullable":false,"description":"Total confirmed event sign-ups at the snapshot time."},{"name":"waitlist_length","type":"int","nullable":false,"description":"Number of users currently on the waitlist at the snapshot time."},{"name":"popularity_category_workshop","type":"int","nullable":false,"description":"Number of sign-ups to events categorized as 'workshop' at this snapshot."},{"name":"popularity_category_seminar","type":"int","nullable":false,"description":"Number of sign-ups to events categorized as 'seminar' at this snapshot."},{"name":"popularity_category_social","type":"int","nullable":false,"description":"Number of sign-ups to events categorized as 'social' at this snapshot."},{"name":"popularity_category_networking","type":"int","nullable":false,"description":"Number of sign-ups to events categorized as 'networking' at this snapshot."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last updated timestamp."}],"uniqueIndexes":[{"fieldNames":["event_registration_event_id","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["total_sign_ups","waitlist_length"]}],"ginIndexes":[]}]},{"filename":"schema-07-admincontrols.prisma","namespace":"AdminControls","models":[{"name":"event_registration_organizer_requests","description":"Event organizer requests submitted by regular users seeking elevated organizer privileges. This table records the requesting user's ID, current status of the request (pending, approved, rejected), optional reason provided by the user, optional admin comments for approvals or rejections, and timestamps for creation and last update. This entity is crucial for admin workflows managing organizer approvals.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Requesting user's {@link event_registration_regular_users.id}.","relation":{"name":"user","targetModel":"event_registration_regular_users"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","description":"Current status of the organizer request: 'pending', 'approved', or 'rejected'.","nullable":false},{"name":"reason","type":"string","description":"Optional reason provided by the user for requesting organizer status.","nullable":true},{"name":"admin_comment","type":"string","description":"Optional admin comment on the request, e.g., reasons for approval or rejection.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the request was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the request was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status"]}],"ginIndexes":[{"fieldName":"reason"},{"fieldName":"admin_comment"}]}]}]}