{"files":[{"filename":"schema-01-identity.prisma","namespace":"Identity","models":[{"name":"travel_record_guest","description":"Guest users of the TravelRecord system, representing unauthenticated or minimal access users. Guests may browse public content but cannot create travel records or interact socially. This table maintains guest user identification and creation and update timestamps for tracking purposes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"travel_record_member","description":"Authenticated members of travel_record system who can record places visited, upload photos, write reviews and ratings, manage friendships, and control privacy. Includes authentication information for login via Google OAuth, identification details, and timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Member's verified email address used as login ID."},{"name":"display_name","type":"string","nullable":false,"description":"Member's display name for social interactions."},{"name":"google_oauth_id","type":"string","nullable":false,"description":"Unique Google OAuth identifier for authentication."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication, if applicable (not stored plaintext)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp for account recovery."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["google_oauth_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"display_name"}]},{"name":"travel_record_admin","description":"Administrator users of the TravelRecord system with privileges to manage users, content, and system settings. Admins have login credentials and identification information stored securely, along with timestamps for auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Administrator's official email address for login."},{"name":"display_name","type":"string","nullable":false,"description":"Administrator's display name used in system logs and interfaces."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure authentication."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp for account deactivation and recovery."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"display_name"}]}]},{"filename":"schema-02-records.prisma","namespace":"Records","models":[{"name":"travel_record_places","description":"Travel record place information stores the details of visited locations by members including geographical coordinates, visit date, and Google place identifier. This table is the primary entity for travel records, supporting independent user interactions and CRUD operations.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"travel_record_member_id","type":"uuid","description":"Belonged member's {@link travel_record_member.id}. This represents the owner of the travel record place.","relation":{"name":"member","targetModel":"travel_record_member"},"unique":false,"nullable":false}],"plainFields":[{"name":"latitude","type":"double","nullable":false,"description":"Latitude of the place in decimal degrees."},{"name":"longitude","type":"double","nullable":false,"description":"Longitude of the place in decimal degrees."},{"name":"visit_date","type":"datetime","nullable":false,"description":"Visit date in ISO 8601 date format."},{"name":"place_name","type":"string","nullable":false,"description":"Name or description of the visited place."},{"name":"google_place_id","type":"string","nullable":false,"description":"Google Maps unique place ID identifying the place."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp for recovery."}],"uniqueIndexes":[{"fieldNames":["travel_record_member_id","latitude","longitude","visit_date"],"unique":true}],"plainIndexes":[{"fieldNames":["visit_date","latitude","longitude"]}],"ginIndexes":[{"fieldName":"place_name"}]},{"name":"travel_record_photos","description":"Photos associated with travel record places. Each photo belongs to a single travel record place and stores basic file metadata like URI, upload timestamp, and file size. Managed as a subsidiary entity dependent on travel_record_places.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"travel_record_place_id","type":"uuid","description":"Belonged travel record place's {@link travel_record_places.id}. Indicates which place this photo belongs to.","relation":{"name":"travelRecordPlace","targetModel":"travel_record_places"},"unique":false,"nullable":false}],"plainFields":[{"name":"file_uri","type":"uri","nullable":false,"description":"URI of the uploaded photo file."},{"name":"file_size","type":"int","nullable":false,"description":"Size of the photo file in bytes."},{"name":"uploaded_at","type":"datetime","nullable":false,"description":"Timestamp of when the photo was uploaded."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp for recovery."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["travel_record_place_id","uploaded_at"]}],"ginIndexes":[]}]},{"filename":"schema-03-reviews.prisma","namespace":"Reviews","models":[{"name":"travel_record_reviews","description":"Stores member reviews with textual content and star ratings (1-5) for places recorded by members. Supports privacy settings 'public' or 'private' per review. Linked to travel_record_places and travel_record_member for relational integrity and querying. Includes timestamps for auditing and optional soft deletion support.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"travel_record_place_id","type":"uuid","description":"Reference to the place being reviewed (travel_record_places.id).","relation":{"name":"travelRecordPlace","targetModel":"travel_record_places"},"unique":false,"nullable":false},{"name":"travel_record_member_id","type":"uuid","description":"Reference to the member who wrote the review (travel_record_member.id).","relation":{"name":"travelRecordMember","targetModel":"travel_record_member"},"unique":false,"nullable":false}],"plainFields":[{"name":"review","type":"string","description":"Textual review content up to 1000 characters.","nullable":false},{"name":"star_rating","type":"int","description":"Star rating from 1 to 5 inclusive.","nullable":false},{"name":"privacy","type":"string","description":"Privacy setting for review: 'public' or 'private'. Default is 'public'.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the review was created for auditing.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the review was last updated for auditing.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["travel_record_place_id","travel_record_member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["travel_record_place_id"]},{"fieldNames":["travel_record_member_id"]}],"ginIndexes":[{"fieldName":"review"}]}]},{"filename":"schema-04-social.prisma","namespace":"Social","models":[{"name":"travel_record_friends","description":"Represents bidirectional friendship relationships between members of the TravelRecord system. Tracks friendship request lifecycle states such as pending, accepted, and rejected. Supports soft deletion to allow logical removal without data loss. Linked to member entities via foreign keys. Enables efficient queries for friend requests, friend lists, and status management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"member_id","type":"uuid","description":"Requesting member's {@link travel_record_member.id}.","relation":{"name":"member","targetModel":"travel_record_member","mappingName":"travel_record_friends_of_member_id"},"unique":false,"nullable":false},{"name":"friend_member_id","type":"uuid","description":"Target friend member's {@link travel_record_member.id}.","relation":{"name":"friendMember","targetModel":"travel_record_member","mappingName":"travel_record_friends_of_friend_member_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","description":"Friendship status: pending, accepted, or rejected.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the friendship record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the friendship record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the friendship record was soft deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["member_id","friend_member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","updated_at"]}],"ginIndexes":[]},{"name":"travel_record_privacy_settings","description":"Stores privacy settings for travel records, allowing members to control visibility of their content to friends and the public. Supports privacy levels such as 'public' and 'private'. Linked to member entities, enabling personalized privacy controls. Includes timestamps and soft deletion support for record lifecycle management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"member_id","type":"uuid","description":"Owning member's {@link travel_record_member.id}.","relation":{"name":"member","targetModel":"travel_record_member"},"unique":false,"nullable":false}],"plainFields":[{"name":"privacy_level","type":"string","description":"Privacy level indicating visibility: 'public' or 'private'.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the privacy setting was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the privacy setting was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the privacy setting was soft deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["privacy_level","updated_at"]}],"ginIndexes":[]}]}]}