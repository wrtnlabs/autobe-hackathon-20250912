{"files":[{"filename":"schema-01-actors.prisma","namespace":"Actors","models":[{"name":"telegram_file_downloader_endusers","description":"End users who access the Telegram File Downloader service via web dashboard. Store authentication credentials, email, and audit timestamps. Unique email per end user. Supports soft deletion and timestamps for auditing user record changes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email address of the end user, unique across end users."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authenticating the end user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the end user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the end user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the end user record was soft deleted; null if active."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"telegram_file_downloader_developers","description":"Developer users who access the Telegram File Downloader service via API. Store authentication credentials, email, and audit timestamps. Unique email per developer. Supports soft deletion and timestamps for auditing user record changes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email address of the developer user, unique across developers."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authenticating the developer user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the developer user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the developer user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the developer user record was soft deleted; null if active."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"telegram_file_downloader_administrators","description":"Administrator users who manage subscriptions, payment statuses, and logs. Store authentication credentials, email, and audit timestamps. Unique email per administrator. Supports soft deletion and timestamps for auditing user record changes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email address of the administrator user, unique across administrators."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authenticating the administrator user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the administrator user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the administrator user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the administrator user record was soft deleted; null if active."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-02-filemanagement.prisma","namespace":"FileManagement","models":[{"name":"telegram_file_downloader_download_jobs","description":"User-submitted download job requests capturing parameters such as channel ID, filters, and status. Used to track download lifecycle and quota enforcement.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enduser_id","type":"uuid","description":"Belonged end user's {@link telegram_file_downloader_endusers.id}.","relation":{"name":"enduser","targetModel":"telegram_file_downloader_endusers"},"unique":false,"nullable":true},{"name":"developer_id","type":"uuid","description":"Belonged developer's {@link telegram_file_downloader_developers.id}.","relation":{"name":"developer","targetModel":"telegram_file_downloader_developers"},"unique":false,"nullable":true}],"plainFields":[{"name":"channel_id","type":"string","description":"Telegram channel or group identifier targeted for file download.","nullable":false},{"name":"file_types","type":"string","description":"Comma-separated list of requested file extensions for filtering, e.g., \"mp4,zip,jpg,pdf\".","nullable":true},{"name":"date_start","type":"datetime","description":"Start date of inclusive date range to filter files.","nullable":true},{"name":"date_end","type":"datetime","description":"End date of inclusive date range to filter files.","nullable":true},{"name":"status","type":"string","description":"Current status code of the download job (e.g., pending, in_progress, completed, failed).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the download job was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the download job was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for logical deletion; null if active.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["enduser_id","created_at"]},{"fieldNames":["developer_id","created_at"]},{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"file_types"}]},{"name":"telegram_file_downloader_files","description":"Metadata and storage details of files downloaded from Telegram channels/groups. Stores URLs and file information for retrieval and quota calculations.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"download_job_id","type":"uuid","description":"Reference to associated download job {@link telegram_file_downloader_download_jobs.id}.","relation":{"name":"downloadJob","targetModel":"telegram_file_downloader_download_jobs"},"unique":false,"nullable":false}],"plainFields":[{"name":"filename","type":"string","description":"Name of the downloaded file including extension.","nullable":false},{"name":"file_extension","type":"string","description":"File extension or type, e.g., mp4, zip, jpg, pdf.","nullable":false},{"name":"file_size_bytes","type":"int","description":"Size of the file in bytes.","nullable":false},{"name":"s3_url","type":"uri","description":"Signed URL to access the stored file in AWS S3 with expiration.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the file record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the file record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if file is active.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["download_job_id","created_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_storage_usages","description":"Tracking of storage usage by users to enforce quota limits on downloaded files and storage allocation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"enduser_id","type":"uuid","description":"Belonged end user's {@link telegram_file_downloader_endusers.id}.","relation":{"name":"enduser","targetModel":"telegram_file_downloader_endusers"},"unique":false,"nullable":false},{"name":"developer_id","type":"uuid","description":"Belonged developer's {@link telegram_file_downloader_developers.id}.","relation":{"name":"developer","targetModel":"telegram_file_downloader_developers"},"unique":false,"nullable":true}],"plainFields":[{"name":"storage_bytes_used","type":"int","description":"Amount of storage used in bytes by the user.","nullable":false},{"name":"file_count","type":"int","description":"Number of files stored by the user.","nullable":false},{"name":"quota_max_bytes","type":"int","description":"Maximum storage quota in bytes allowed by the user's subscription plan.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the usage record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the usage record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if active.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["enduser_id","created_at"]},{"fieldNames":["developer_id","created_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_download_job_statuses","description":"Master list of possible status codes for download jobs, used for reference and validation.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"status_code","type":"string","description":"Unique status code string (e.g., pending, in_progress, completed, failed).","nullable":false},{"name":"description","type":"string","description":"Human-readable description of the status code.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the status record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the status record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["status_code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"description"}]}]},{"filename":"schema-03-subscription.prisma","namespace":"Subscription","models":[{"name":"telegram_file_downloader_subscription_plans","description":"Defines the subscription plans available for users, including pricing, features, and status. Subscription plans are managed independently and referenced by user subscriptions. Includes business context for plan lifecycle management and billing operations.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifier for the subscription plan."},{"name":"name","type":"string","nullable":false,"description":"Human-readable name of the subscription plan."},{"name":"price","type":"double","nullable":false,"description":"Monthly price of the plan in USD."},{"name":"max_files_per_day","type":"int","nullable":false,"description":"Maximum number of files that can be downloaded per day under this plan."},{"name":"max_file_size_mb","type":"int","nullable":false,"description":"Maximum allowed file size per download in megabytes."},{"name":"total_storage_mb","type":"int","nullable":false,"description":"Total storage quota in megabytes for this plan."},{"name":"status","type":"string","nullable":false,"description":"Current status of the subscription plan, e.g., active, inactive."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this subscription plan was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this subscription plan was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when this subscription plan was soft deleted, if applicable."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["status"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_payments","description":"Records payment events from users subscribing to plans. Stores payment metadata, statuses and links to subscription plans and user identities. Critical for billing and subscription status tracking.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"subscription_plan_id","type":"uuid","nullable":false,"unique":false,"description":"Referenced subscription plan for this payment. {@link telegram_file_downloader_subscription_plans.id}","relation":{"name":"subscriptionPlan","targetModel":"telegram_file_downloader_subscription_plans"}},{"name":"user_id","type":"uuid","nullable":false,"unique":false,"description":"Reference to the paying user (enduser or developer). {@link telegram_file_downloader_endusers.id} or {@link telegram_file_downloader_developers.id}","relation":{"name":"user","targetModel":"telegram_file_downloader_endusers"}}],"plainFields":[{"name":"payment_provider","type":"string","nullable":false,"description":"Payment gateway provider, e.g., Stripe."},{"name":"payment_status","type":"string","nullable":false,"description":"Status of the payment, e.g., pending, succeeded, failed."},{"name":"payment_amount","type":"double","nullable":false,"description":"Amount paid in USD."},{"name":"payment_currency","type":"string","nullable":false,"description":"Currency code, e.g., USD."},{"name":"payment_reference_id","type":"string","nullable":false,"description":"External payment reference ID from the provider."},{"name":"payment_date","type":"datetime","nullable":false,"description":"Timestamp of the payment event."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp."}],"uniqueIndexes":[{"fieldNames":["payment_reference_id"],"unique":true}],"plainIndexes":[{"fieldNames":["payment_status"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_transactions","description":"Stores detailed payment transactions for reconciliation and audit purposes. Tracks transaction states, amounts, statuses, and associations with payments and users. Supports accurate billing and fraud detection.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"payment_id","type":"uuid","nullable":false,"unique":false,"description":"Associated payment record. {@link telegram_file_downloader_payments.id}","relation":{"name":"payment","targetModel":"telegram_file_downloader_payments"}},{"name":"user_id","type":"uuid","nullable":false,"unique":false,"description":"Reference to user who performed the transaction. {@link telegram_file_downloader_endusers.id} or {@link telegram_file_downloader_developers.id}","relation":{"name":"user","targetModel":"telegram_file_downloader_endusers"}}],"plainFields":[{"name":"transaction_type","type":"string","nullable":false,"description":"Type of transaction, e.g., charge, refund."},{"name":"transaction_status","type":"string","nullable":false,"description":"Status of the transaction, e.g., succeeded, failed, pending."},{"name":"transaction_amount","type":"double","nullable":false,"description":"Amount involved in the transaction in USD."},{"name":"transaction_date","type":"datetime","nullable":false,"description":"Timestamp when the transaction occurred."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["transaction_status"]}],"ginIndexes":[]}]},{"filename":"schema-04-integrations.prisma","namespace":"Integrations","models":[{"name":"telegram_file_downloader_telegram_api_credentials","description":"Stores Telegram API bot credentials used for authenticating and interacting with Telegram services. Each record represents a single credential set for a bot instance including its token and metadata for management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"bot_name","type":"string","nullable":false,"description":"The display name of the Telegram bot."},{"name":"bot_token","type":"string","nullable":false,"description":"The secret bot token used for authenticating Telegram API calls."},{"name":"is_active","type":"boolean","nullable":false,"description":"Flag indicating if this credential is currently active and used for operations."},{"name":"last_used_at","type":"datetime","nullable":true,"description":"Timestamp of the last time this credential was used to make an API call."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last updated timestamp."}],"uniqueIndexes":[{"fieldNames":["bot_token"],"unique":true}],"plainIndexes":[{"fieldNames":["is_active"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_stripe_webhook_logs","description":"Tracks events received from Stripe webhooks related to payments, subscriptions, and billing for audit and troubleshooting.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"event_id","type":"string","nullable":false,"description":"Unique identifier of the Stripe webhook event."},{"name":"event_type","type":"string","nullable":false,"description":"Type of Stripe event, e.g., 'payment_intent.succeeded', 'invoice.payment_failed'."},{"name":"payload","type":"string","nullable":false,"description":"Full JSON payload of the webhook event stored as string."},{"name":"received_at","type":"datetime","nullable":false,"description":"Timestamp when the webhook was received by the system."},{"name":"processed","type":"boolean","nullable":false,"description":"Flag indicating if the webhook event has been processed successfully."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last updated timestamp."}],"uniqueIndexes":[{"fieldNames":["event_id"],"unique":true}],"plainIndexes":[{"fieldNames":["event_type","received_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_aws_s3_upload_logs","description":"Logs all file upload attempts to AWS S3 including success or failure status, file metadata, and error information for auditability and troubleshooting.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"file_name","type":"string","nullable":false,"description":"Name of the file uploaded to AWS S3."},{"name":"file_size_bytes","type":"int","nullable":false,"description":"Size of the uploaded file in bytes."},{"name":"upload_status","type":"string","nullable":false,"description":"Status of the upload operation, e.g., 'success', 'failed'."},{"name":"error_message","type":"string","nullable":true,"description":"Error details if the upload failed; null if successful."},{"name":"attempted_at","type":"datetime","nullable":false,"description":"Timestamp when the upload attempt was made."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last updated timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["upload_status","attempted_at"]}],"ginIndexes":[]}]},{"filename":"schema-05-systemoperations.prisma","namespace":"SystemOperations","models":[{"name":"telegram_file_downloader_job_queues","description":"Job queue entries representing file download tasks queued for processing. Contains metadata about job status, priority, retry attempts, and timestamps for queueing and processing. Independent primary table for managing active download jobs in the system operations domain.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"job_id","type":"uuid","nullable":false,"description":"Reference to the file download job. Links to the telegram_file_downloader_download_jobs.id."},{"name":"status","type":"string","nullable":false,"description":"Current status of the job in the queue, e.g., 'pending', 'processing', 'failed', 'completed'."},{"name":"priority","type":"int","nullable":false,"description":"Priority level for job processing, higher value means higher priority."},{"name":"retries","type":"int","nullable":false,"description":"Number of times this job has been retried due to failure."},{"name":"last_error_message","type":"string","nullable":true,"description":"Last error message if job processing failed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this job queue entry was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this job queue entry was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp, if the job queue entry has been logically deleted."}],"uniqueIndexes":[{"fieldNames":["job_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","priority"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_error_logs","description":"Error logs recording system failures, exceptions, and notable errors encountered during file download processing and other backend operations. Used for troubleshooting and monitoring system health.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"error_code","type":"string","nullable":false,"description":"Error code identifier for categorizing the type of error."},{"name":"error_message","type":"string","nullable":false,"description":"Detailed error message or stack trace information."},{"name":"source_component","type":"string","nullable":false,"description":"The system component or module where the error originated."},{"name":"occurred_at","type":"datetime","nullable":false,"description":"Timestamp when the error occurred."},{"name":"resolved","type":"boolean","nullable":false,"description":"Flag indicating whether the error has been resolved."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this error log was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this error log was last updated."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["error_code","resolved"]},{"fieldNames":["occurred_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_audit_logs","description":"Audit logs capturing system-level changes, user actions, and other significant events within the Telegram File Downloader service. Supports traceability and compliance auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","nullable":true,"description":"Optional reference to the user who performed the action. {@link telegram_file_downloader_endusers.id}","relation":{"name":"user","targetModel":"telegram_file_downloader_endusers"},"unique":false}],"plainFields":[{"name":"action_type","type":"string","nullable":false,"description":"Type of action performed, e.g., 'login', 'download_request', 'subscription_change'."},{"name":"entity_type","type":"string","nullable":false,"description":"Type of entity involved in action, e.g., 'user', 'download_job'."},{"name":"entity_id","type":"uuid","nullable":true,"description":"UUID of the related entity, if applicable."},{"name":"action_timestamp","type":"datetime","nullable":false,"description":"Timestamp when the action was performed."},{"name":"ip_address","type":"string","nullable":true,"description":"Optional IP address from which the action was performed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this audit log entry was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this audit log entry was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp for audit log entry."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["action_type","action_timestamp"]},{"fieldNames":["user_id"]}],"ginIndexes":[{"fieldName":"ip_address"}]}]},{"filename":"schema-06-adminmanagement.prisma","namespace":"AdminManagement","models":[{"name":"telegram_file_downloader_billing_logs","description":"Billing log entries capturing payment transactions and billing related events in the Telegram File Downloader system. Used by administrators to review and reconcile billing activity.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"telegram_file_downloader_payment_id","type":"uuid","description":"Related payment record. {@link telegram_file_downloader_payments.id}","relation":{"name":"payment","targetModel":"telegram_file_downloader_payments"},"unique":false,"nullable":false}],"plainFields":[{"name":"event_type","type":"string","description":"Type of billing event (e.g., 'payment_success', 'refund', 'chargeback').","nullable":false},{"name":"event_timestamp","type":"datetime","description":"Timestamp when the event occurred.","nullable":false},{"name":"details","type":"string","description":"Additional details or metadata JSON about the billing event.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for billing logs.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["event_timestamp","event_type"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_system_metrics","description":"System metrics capture performance, usage, and operational statistics for the Telegram File Downloader backend. Enables administrators to monitor service health and capacity.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"metric_name","type":"string","description":"Name of the metric (e.g., 'cpu_usage', 'api_requests_per_minute').","nullable":false},{"name":"metric_value","type":"double","description":"Value of the metric at the recorded time.","nullable":false},{"name":"recorded_at","type":"datetime","description":"Timestamp when the metric was recorded.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for system metrics.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["metric_name","recorded_at"]}],"ginIndexes":[]},{"name":"telegram_file_downloader_subscription_audits","description":"Historical records capturing changes and events related to user subscriptions. Provides audit trails for subscription state changes and billing plan updates.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"telegram_file_downloader_subscription_plan_id","type":"uuid","description":"Referenced subscription plan. {@link telegram_file_downloader_subscription_plans.id}","relation":{"name":"subscriptionPlan","targetModel":"telegram_file_downloader_subscription_plans"},"unique":false,"nullable":false},{"name":"telegram_file_downloader_payment_id","type":"uuid","description":"Payment associated with this audit record. {@link telegram_file_downloader_payments.id}","relation":{"name":"payment","targetModel":"telegram_file_downloader_payments"},"unique":false,"nullable":true}],"plainFields":[{"name":"user_id","type":"uuid","description":"User undergoing the subscription change. Referenced from user tables outside this component.","nullable":false},{"name":"change_type","type":"string","description":"Type of subscription change event (e.g., 'upgrade', 'downgrade', 'cancellation').","nullable":false},{"name":"change_timestamp","type":"datetime","description":"Timestamp when the subscription change occurred.","nullable":false},{"name":"notes","type":"string","description":"Additional notes or metadata about the subscription change.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for subscription audit records.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id","change_timestamp"]}],"ginIndexes":[]}]}]}