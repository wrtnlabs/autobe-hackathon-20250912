/// Billing log entries capturing payment transactions and billing related
/// events in the Telegram File Downloader system. Used by administrators to
/// review and reconcile billing activity.
///
/// @namespace AdminManagement
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model telegram_file_downloader_billing_logs {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Related payment record. {@link telegram_file_downloader_payments.id}
  telegram_file_downloader_payment_id String
  
  /// Type of billing event (e.g., 'payment_success', 'refund', 'chargeback').
  event_type String
  
  /// Timestamp when the event occurred.
  event_timestamp DateTime
  
  /// Additional details or metadata JSON about the billing event.
  details String?
  
  /// Record creation timestamp.
  created_at DateTime
  
  /// Record last update timestamp.
  updated_at DateTime
  
  /// Soft delete timestamp for billing logs.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  payment telegram_file_downloader_payments @relation(fields: [telegram_file_downloader_payment_id], references: [id], onDelete: Cascade)
  
  @@index([telegram_file_downloader_payment_id], map: "telegram_file_downloader_billing_logs_telegram_file_do_e5de7b2f")
  
  @@index([event_timestamp, event_type], map: "telegram_file_downloader_billing_logs_event_timestamp__6fbd2e68")
}

/// System metrics capture performance, usage, and operational statistics for
/// the Telegram File Downloader backend. Enables administrators to monitor
/// service health and capacity.
///
/// @namespace AdminManagement
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model telegram_file_downloader_system_metrics {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Name of the metric (e.g., 'cpu_usage', 'api_requests_per_minute').
  metric_name String
  
  /// Value of the metric at the recorded time.
  metric_value Float
  
  /// Timestamp when the metric was recorded.
  recorded_at DateTime
  
  /// Record creation timestamp.
  created_at DateTime
  
  /// Record last update timestamp.
  updated_at DateTime
  
  /// Soft delete timestamp for system metrics.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  @@index([metric_name, recorded_at], map: "telegram_file_downloader_system_metrics_metric_name_re_f4117223")
}

/// Historical records capturing changes and events related to user
/// subscriptions. Provides audit trails for subscription state changes and
/// billing plan updates.
///
/// @namespace AdminManagement
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model telegram_file_downloader_subscription_audits {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Referenced subscription plan. {@link
  /// telegram_file_downloader_subscription_plans.id}
  telegram_file_downloader_subscription_plan_id String
  
  /// Payment associated with this audit record. {@link
  /// telegram_file_downloader_payments.id}
  telegram_file_downloader_payment_id String?
  
  /// User undergoing the subscription change. Referenced from user tables
  /// outside this component.
  user_id String
  
  /// Type of subscription change event (e.g., 'upgrade', 'downgrade',
  /// 'cancellation').
  change_type String
  
  /// Timestamp when the subscription change occurred.
  change_timestamp DateTime
  
  /// Additional notes or metadata about the subscription change.
  notes String?
  
  /// Record creation timestamp.
  created_at DateTime
  
  /// Record last update timestamp.
  updated_at DateTime
  
  /// Soft delete timestamp for subscription audit records.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  subscriptionPlan telegram_file_downloader_subscription_plans @relation(fields: [telegram_file_downloader_subscription_plan_id], references: [id], onDelete: Cascade)
  payment telegram_file_downloader_payments? @relation(fields: [telegram_file_downloader_payment_id], references: [id], onDelete: Cascade)
  
  @@index([telegram_file_downloader_subscription_plan_id], map: "telegram_file_downloader_subscription_audits_telegram__32aa888e")
  @@index([telegram_file_downloader_payment_id], map: "telegram_file_downloader_subscription_audits_telegram__c702096e")
  
  @@index([user_id, change_timestamp], map: "telegram_file_downloader_subscription_audits_user_id_c_164d6998")
}