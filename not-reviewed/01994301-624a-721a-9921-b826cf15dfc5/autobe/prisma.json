{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"ats_recruitment_system_settings","description":"Global system configuration settings for the ATS platform. Used to control system-wide technical options, enable/disable features, set thresholds, and maintain platform-level parameters managed by system administrators. Key-value style, with support for type annotation and descriptions. CRUD operations are logged in audit trails.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"setting_name","type":"string","description":"Name of the system setting. Must be unique and refer to a platform-wide configuration field.","nullable":false},{"name":"setting_value","type":"string","description":"Current value of the setting in string format. Interpreted based on its type (e.g., number, JSON, boolean as string).","nullable":false},{"name":"setting_type","type":"string","description":"Data type of the setting (e.g., string, int, boolean, json). Used to cast the value appropriately in application logic.","nullable":false},{"name":"description","type":"string","description":"Detailed human-readable description of the setting for documentation and maintenance use.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp of creation for this configuration record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update for this configuration record.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if active. Used for recovery and audit trace.","nullable":true}],"uniqueIndexes":[{"fieldNames":["setting_name"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"description"}]},{"name":"ats_recruitment_external_api_credentials","description":"Secure storage for external API credentials required by the ATS platform to integrate with third-party services (e.g., Email, SMS, Coding Test, Google Calendar, AI APIs). Each credential can be referenced by application code, and is encrypted in storage. Managed independently from business data. Access and modification are strictly audited.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"credential_key","type":"string","description":"Unique logical key for this external credential (e.g., 'google_calendar_main', 'sendgrid_email_default').","nullable":false},{"name":"service_name","type":"string","description":"Name of third-party service (e.g., Google Calendar, SendGrid, Programmers, CodeSignal).","nullable":false},{"name":"credential_json","type":"string","description":"Serialized credential object (typically JSON-encoded, supports secret keys, OAuth tokens/refresh secrets, etc).","nullable":false},{"name":"expires_at","type":"datetime","description":"Expiration timestamp for this credential, or null if persistent.","nullable":true},{"name":"description","type":"string","description":"Business/contextual description for what this credential is used for.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp of creation for this credential entry.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update to this credential entry.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if active, for credential rotation and recovery reference.","nullable":true}],"uniqueIndexes":[{"fieldNames":["credential_key"],"unique":true}],"plainIndexes":[{"fieldNames":["service_name"]}],"ginIndexes":[{"fieldName":"description"}]},{"name":"ats_recruitment_enums","description":"Global enumeration registry for values referenced throughout the ATS system (e.g., job types, employment types, notification channels, standardized status codes). Used for central management and lookup of platform enum codes and labels, including optional metadata for reference tables. Maintains code uniqueness and documentation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"enum_type","type":"string","description":"Namespace/group/type for this enum set (e.g., 'application_status', 'notification_channel', 'employment_type').","nullable":false},{"name":"enum_code","type":"string","description":"Business code representing a value in the enum type (e.g., 'APPLIED', 'INTERVIEWED', 'EMAIL'). Unique within (enum_type).","nullable":false},{"name":"label","type":"string","description":"Human-friendly label for the enumeration value (localized/translated where applicable).","nullable":false},{"name":"extended_data","type":"string","description":"Optional JSON string with additional attributes for the enum (e.g., icon, color code, sort order, or other business metadata).","nullable":true},{"name":"description","type":"string","description":"Documentation for usage context and guidance on this enum value.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp of creation for this enum value.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update for this enum value.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if active (enables undo/error recovery for data dictionary).","nullable":true}],"uniqueIndexes":[{"fieldNames":["enum_type","enum_code"],"unique":true}],"plainIndexes":[{"fieldNames":["enum_type"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"description"}]},{"name":"ats_recruitment_audit_trails","description":"Central audit log for all sensitive changes and access events on system settings, credentials, and administrative actions. Records actor, operation type, event details and context for compliance and forensic investigation. Supports tracing of CRUD, access, system incidents, and security events. Readable/searchable for compliance review and incident response.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"event_timestamp","type":"datetime","description":"Timestamp when the audit event occurred.","nullable":false},{"name":"actor_id","type":"uuid","description":"ID of the actor (user/admin/system process) performing the event. References actor tables in other modules.","nullable":false},{"name":"actor_role","type":"string","description":"Role of the actor at the time of event (e.g., 'systemAdmin', 'hrRecruiter', 'service_process').","nullable":false},{"name":"operation_type","type":"string","description":"Nature of operation (e.g., 'CREATE', 'UPDATE', 'DELETE', 'ACCESS', 'AUTH_FAILURE', 'EXPORT').","nullable":false},{"name":"target_type","type":"string","description":"Category of object/entity affected (e.g., 'system_setting', 'api_credential', 'enum', 'user', 'audit_policy').","nullable":false},{"name":"target_id","type":"uuid","description":"ID of the object/entity affected by this event. Can point to any primary business table (may use a system-wide UUID registry for generalization).","nullable":true},{"name":"event_detail","type":"string","description":"Plain text or serialized JSON containing the details of the event (e.g., before/after, error details, request metadata).","nullable":false},{"name":"ip_address","type":"string","description":"IP address of the event originator, for security tracking and incident investigation.","nullable":true},{"name":"user_agent","type":"string","description":"User agent or process context string, if applicable (for human vs system/integration traceability).","nullable":true},{"name":"created_at","type":"datetime","description":"Record create timestamp for the audit entry (supports compliance traceability).","nullable":false},{"name":"updated_at","type":"datetime","description":"Record update timestamp for the audit entry.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp (enable recovery/error suppression for audit records).","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["event_timestamp"]},{"fieldNames":["actor_id"]},{"fieldNames":["target_type","target_id"]}],"ginIndexes":[{"fieldName":"event_detail"}]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"ats_recruitment_applicants","description":"Applicant (candidate) account representing a job seeker. Contains personal profile data, contact, unique authentication information (email, password_hash), and timestamps for audit. Linked to applications and resumes in other tables. Core business subject with fully independent lifecycle management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Unique authentication email address for login. Must be business-usable and never shared between accounts. Used for contact and notifications.","nullable":false},{"name":"password_hash","type":"string","description":"Secure, one-way hash of applicant's password for authentication. The actual plaintext password must never be stored. Used by the login system.","nullable":false},{"name":"name","type":"string","description":"Full name of the applicant as parsed from resume or entered directly. Used for identification and search.","nullable":false},{"name":"phone","type":"string","description":"Phone number for applicant contact and notifications.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether the account is currently active and able to access services. Used for deactivation instead of hard deletion.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the applicant profile was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when applicant profile was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp. Null if not deleted; marks recovery or GDPR erasure.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["is_active"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"ats_recruitment_hrrecruiters","description":"HR recruiter/staff account for managing job postings, interviewing, notifications, and applicant statuses. Full authentication required. Can view, control, and update business data. Maintains privileged separation from applicants and technical reviewers.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Unique email for login and notifications. Used as primary authentication field.","nullable":false},{"name":"password_hash","type":"string","description":"Hash of the HR recruiter's password. Never store the plain text password.","nullable":false},{"name":"name","type":"string","description":"HR recruiter's real name for business use and addressability (email, notifications).","nullable":false},{"name":"department","type":"string","description":"Department name/identifier the HR recruiter belongs to. Useful for segmenting privilege and reporting lines.","nullable":true},{"name":"is_active","type":"boolean","description":"Account status: enabled (true) or deactivated (false). Deactivated users cannot perform HR system actions.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the HR account was created. For audit trail.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for GDPR or separation from service. Null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["is_active"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"ats_recruitment_techreviewers","description":"Technical reviewer (engineer/evaluator) account. Used to log into ATS and perform code review, skill assessments, and technical interviews. Has distinct access from HR and applicants. Auditable lifecycle and authentication.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Login email for the technical reviewer. Unique identifier. Also used for notification and delegation.","nullable":false},{"name":"password_hash","type":"string","description":"Password hash for technical reviewer authentication (never store as plain text).","nullable":false},{"name":"name","type":"string","description":"Reviewer full name for notifications, audit, and addressing by HR.","nullable":false},{"name":"specialization","type":"string","description":"Key technology or specialty (e.g. Backend, Frontend, Cloud, Security) for reviewer assignment. Used by HR to auto-match reviewers based on skill.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether the account is enabled and can perform reviews or is deactivated. Used to lock reviewer out without erasing records.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the technical reviewer account was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update to the technical reviewer profile.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when reviewer was soft-deleted for GDPR or privilege separation. Null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["is_active"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"ats_recruitment_systemadmins","description":"System administrator account for full privileged access to all ATS settings, users, audit logs, and integration. Highest privilege for managing other accounts, environment settings, and external API credentials. Enables separation of duties and audit compliance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Administrator login (unique) and key notification address. Must be distinct from all other account types.","nullable":false},{"name":"password_hash","type":"string","description":"Secure password hash for administrator authentication. Never store raw passwords.","nullable":false},{"name":"name","type":"string","description":"Full name of administrator. Used in audit logs and action records.","nullable":false},{"name":"super_admin","type":"boolean","description":"Indicates whether this admin account is a super administrator (can manage other admins, system-wide settings). Only true for highest level admin accounts.","nullable":false},{"name":"is_active","type":"boolean","description":"Whether this admin account is enabled. False disables logins and all privileged actions.","nullable":false},{"name":"created_at","type":"datetime","description":"Date/time at which the admin account was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Date/time of last modifications to the admin profile/account details.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for compliance and audit. Null when account is active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["is_active"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"ats_recruitment_actor_login_histories","description":"Audit table that records all successful and failed login attempts for every actor account in the system (applicants, HR recruiters, tech reviewers, system admins). Enables historical tracking, security audits, incident investigations, and compliance reporting. Subsidiary table: not managed directly by users.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"actor_id","type":"uuid","description":"The unique identifier of the actor (applicant, HR, tech reviewer, or admin) performing a login attempt. Polymorphic UUID referencing an actor; for schema-vaild relation, mapped to ats_recruitment_applicants by default.","relation":{"name":"actor","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false}],"plainFields":[{"name":"actor_type","type":"string","description":"Role type of the actor performing the login (applicant, hr_recruiter, tech_reviewer, system_admin). Used for polymorphic attribution. String enum in application.","nullable":false},{"name":"login_succeeded","type":"boolean","description":"Whether the login attempt was successful (true) or a failure (false). Key metric for security and audit analysis.","nullable":false},{"name":"origin_ip","type":"string","description":"IP address from where the login was attempted. Used for security analysis and possible incident response.","nullable":true},{"name":"user_agent","type":"string","description":"Raw HTTP user-agent string from login attempt. For device profiling and fraud detection.","nullable":true},{"name":"login_at","type":"datetime","description":"Exact timestamp when the login was attempted (not when user was created).","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["actor_id","login_at"]},{"fieldNames":["login_succeeded"]},{"fieldNames":["login_at"]}],"ginIndexes":[]}]},{"filename":"schema-03-job_postings.prisma","namespace":"JobPostings","models":[{"name":"ats_recruitment_job_postings","description":"Represents an individual job posting for recruitment, authored and managed by an HR recruiter. Includes position title, description, employment type, state (open, closed, paused, etc.), and key business attributes. References recruiter HR, employment type, job status, and supports soft deletion and audit tracking. Core business entity enabling search/filtering, CRUD, and lifecycle management within the recruitment system.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"hr_recruiter_id","type":"uuid","description":"Belonged recruiter's {@link ats_recruitment_hrrecruiters.id}. References the HR recruiter responsible for this job posting.","relation":{"name":"hrRecruiter","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":false},{"name":"job_employment_type_id","type":"uuid","description":"Employment type's {@link ats_recruitment_job_employment_types.id}. Indicates employment scheme (full-time, part-time, etc.).","relation":{"name":"employmentType","targetModel":"ats_recruitment_job_employment_types"},"unique":false,"nullable":false},{"name":"job_posting_state_id","type":"uuid","description":"Current state of this posting {@link ats_recruitment_job_posting_states.id}. Indicates open, closed, paused, etc.","relation":{"name":"postingState","targetModel":"ats_recruitment_job_posting_states"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Job title or position being recruited for.","nullable":false},{"name":"description","type":"string","description":"Detailed job description and requirements.","nullable":false},{"name":"location","type":"string","description":"Job location (onsite, remote, city, etc.).","nullable":true},{"name":"salary_range_min","type":"double","description":"Minimum offered salary for this role. Optional if not disclosed.","nullable":true},{"name":"salary_range_max","type":"double","description":"Maximum offered salary for this role. Optional if not disclosed.","nullable":true},{"name":"application_deadline","type":"datetime","description":"Application closing date and time for this posting.","nullable":true},{"name":"is_visible","type":"boolean","description":"Whether this posting is visible to applicants. Posting can be hidden from search/listings.","nullable":false},{"name":"created_at","type":"datetime","description":"When this job posting was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"When this job posting was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete marker. If present, the posting has been withdrawn/deleted but is recoverable.","nullable":true}],"uniqueIndexes":[{"fieldNames":["hr_recruiter_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["job_posting_state_id"]},{"fieldNames":["job_employment_type_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]},{"name":"ats_recruitment_job_skills","description":"Represents a master list of skills/technologies referenced in job postings. Allows HR/administrators to add or deprecate skills based on evolving tech stacks. Skills are used for job requirement matching and applicant evaluations. Independently managed.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Skill or technology name (e.g., Python, React, AWS).","nullable":false},{"name":"description","type":"string","description":"Optional description of this skill, clarifying scope, use-case, or related tools.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether this skill is currently actively in use for recruitment/job postings.","nullable":false},{"name":"created_at","type":"datetime","description":"Skill creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification to this skill definition.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion marker if this skill has been deprecated but not hard-removed.","nullable":true}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"ats_recruitment_job_employment_types","description":"Master table defining allowed employment types for job postings (e.g., full-time, contract, part-time, internship). Used for normalization and business validation when job postings specify employment schemes. Can be managed by system admins/HR.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Human-readable employment type label (full-time, part-time, etc.).","nullable":false},{"name":"description","type":"string","description":"Optional explanation or terms related to this employment type.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether this employment type is available for new job postings.","nullable":false},{"name":"created_at","type":"datetime","description":"When this employment type was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"When this employment type was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion marker for deprecated employment types.","nullable":true}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"ats_recruitment_job_posting_states","description":"Master lookup table for allowed job posting states in the workflow (e.g., open, closed, draft, paused, archived). Determines which postings appear in applicant views and controls business flows. Maintained by system admins/HR.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"state_code","type":"string","description":"Machine-friendly state code (e.g., open, closed, paused, draft).","nullable":false},{"name":"label","type":"string","description":"Human-readable state label shown in admin/UIs.","nullable":false},{"name":"description","type":"string","description":"Description or policy for this posting state.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether this state is selectable for new job postings.","nullable":false},{"name":"sort_order","type":"int","description":"Ordering index to control display/policy evaluation preference.","nullable":false},{"name":"created_at","type":"datetime","description":"Entry creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Entry update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete - for deprecated states.","nullable":true}],"uniqueIndexes":[{"fieldNames":["state_code"],"unique":true}],"plainIndexes":[{"fieldNames":["sort_order"]}],"ginIndexes":[{"fieldName":"label"}]}]},{"filename":"schema-04-applications.prisma","namespace":"Applications","models":[{"name":"ats_recruitment_applications","description":"Represents a unique job application: connects an applicant to a specific job posting and tracks submission, current status, and linked resume. Enables managing applicant progress through all recruiting stages and supports direct management of candidate records. Relates to {@link ats_recruitment_applicants}, {@link ats_recruitment_job_postings}, and {@link ats_recruitment_resumes}.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"applicant_id","type":"uuid","description":"Applied applicant's {@link ats_recruitment_applicants.id}. Required for identifying the applicant for this application.","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false},{"name":"job_posting_id","type":"uuid","description":"Target job posting's {@link ats_recruitment_job_postings.id}. The job posting this application is for.","relation":{"name":"jobPosting","targetModel":"ats_recruitment_job_postings"},"unique":false,"nullable":false},{"name":"resume_id","type":"uuid","description":"Submitted resume's {@link ats_recruitment_resumes.id}. The resume file provided for this application.","relation":{"name":"resume","targetModel":"ats_recruitment_resumes"},"unique":true,"nullable":true}],"plainFields":[{"name":"current_status","type":"string","description":"The latest status/state of the application (e.g., submitted, screening, code_test, interview, accepted, rejected).","nullable":false},{"name":"submitted_at","type":"datetime","description":"Timestamp when the application was submitted.","nullable":false},{"name":"last_state_change_at","type":"datetime","description":"The moment when the application last changed its status/state (useful for processing timelines).","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp, required for audit/history.","nullable":false},{"name":"updated_at","type":"datetime","description":"The most recent time the record was updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"The soft deletion timestamp. Null if not deleted; required for recoverable deletion pattern.","nullable":true}],"uniqueIndexes":[{"fieldNames":["applicant_id","job_posting_id"],"unique":true}],"plainIndexes":[{"fieldNames":["job_posting_id"]},{"fieldNames":["applicant_id"]},{"fieldNames":["current_status"]}],"ginIndexes":[]},{"name":"ats_recruitment_application_status_histories","description":"Audit/snapshot table capturing every status or state transition for an application. Each row records a change (e.g., screening → code_test) with actor, timestamp, and optional comment. Enables compliance reporting and allows analysis of progression patterns. Closely linked to {@link ats_recruitment_applications}, relates to {@link ats_recruitment_hrrecruiters} and includes details on who enacted the change.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"application_id","type":"uuid","description":"The target application whose status is changing. {@link ats_recruitment_applications.id}","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false},{"name":"actor_id","type":"uuid","description":"The HR or reviewer user who performed this status change. References {@link ats_recruitment_hrrecruiters.id} or tech reviewers (polymorphic); may be nullable if triggered by automation.","relation":{"name":"actor","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":true}],"plainFields":[{"name":"from_status","type":"string","description":"Previous status/state before the change (e.g., screening).","nullable":false},{"name":"to_status","type":"string","description":"The new status/state after the change (e.g., code_test, interview).","nullable":false},{"name":"changed_at","type":"datetime","description":"Timestamp when the status change occurred.","nullable":false},{"name":"change_comment","type":"string","description":"Optional note/comment explaining the reason/notes for this transition.","nullable":true},{"name":"created_at","type":"datetime","description":"When this history record was created (for audit trail).","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["application_id"]},{"fieldNames":["changed_at"]}],"ginIndexes":[]},{"name":"ats_recruitment_application_feedback","description":"Internal or reviewer feedback on an application. Allows structured or free-form critique, ratings, and recommendations. Supports multiple feedback per application—one per reviewer—enabling HR and tech reviewers to record and track input independently of status transitions. Related to {@link ats_recruitment_applications}.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"application_id","type":"uuid","description":"The referenced application receiving feedback. {@link ats_recruitment_applications.id}","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false},{"name":"reviewer_id","type":"uuid","description":"The user providing feedback (HR/tech reviewer). References {@link ats_recruitment_hrrecruiters.id} or {@link ats_recruitment_techreviewers.id} (see user model for disambiguation via role/type).","relation":{"name":"reviewer","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":false}],"plainFields":[{"name":"feedback_body","type":"string","description":"Free-form or structured feedback content.","nullable":false},{"name":"rating","type":"double","description":"Numerical rating for the application by this reviewer (if applicable).","nullable":true},{"name":"is_final_recommendation","type":"boolean","description":"Whether this feedback represents a final recommendation or decision.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp for when this feedback was created.","nullable":false}],"uniqueIndexes":[{"fieldNames":["application_id","reviewer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["application_id"]},{"fieldNames":["reviewer_id"]}],"ginIndexes":[{"fieldName":"feedback_body"}]},{"name":"ats_recruitment_application_skill_matches","description":"Captures per-skill matching results for each application (AI/NLP-based comparison between applicant and job requirement). Each row links a skill to an application with match type, auto-generated or human-validated. Supports analytics for hiring decision, bias tracking, and quality improvement. Related to {@link ats_recruitment_applications}.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"application_id","type":"uuid","description":"Reference to the application for which this skill match is recorded. {@link ats_recruitment_applications.id}","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false},{"name":"skill_id","type":"uuid","description":"Reference to the skill entity (required by job or extracted from applicant). {@link ats_recruitment_job_skills.id}","relation":{"name":"skill","targetModel":"ats_recruitment_job_skills"},"unique":false,"nullable":false}],"plainFields":[{"name":"match_type","type":"string","description":"Matching type/code (e.g., required, preferred, missing, extra, etc.).","nullable":false},{"name":"ai_score","type":"double","description":"AI/NLP matching confidence score (0-1 scale) or similarity percentage (e.g., 0.84 = 84%).","nullable":true},{"name":"is_manually_verified","type":"boolean","description":"Whether this match has been verified by a human (after AI analysis).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp for creation of this record (audit/supports replay of results).","nullable":false}],"uniqueIndexes":[{"fieldNames":["application_id","skill_id"],"unique":true}],"plainIndexes":[{"fieldNames":["application_id"]},{"fieldNames":["skill_id"]}],"ginIndexes":[]}]},{"filename":"schema-05-resumes.prisma","namespace":"Resumes","models":[{"name":"ats_recruitment_resumes","description":"Core entity for resumes/CVs uploaded and registered by applicants for job applications. Stores structured resume data, parsed/normalized fields, agnostic to file storage. Each resume belongs to an applicant (referencing ats_recruitment_applicants.id), and survives replacement/re-upload (history kept in upload history table). Supports GDPR-compliant deletion, includes fields for original parsing meta and audit trail.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_applicant_id","type":"uuid","description":"Referenced applicant's {@link ats_recruitment_applicants.id}. Uniquely identifies owner of this resume.","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Resume title (user defined or system default), e.g., '2023 Software CV'.","nullable":false},{"name":"parsed_name","type":"string","description":"Parsed or entered full name from resume content, for quick query/filtering.","nullable":true},{"name":"parsed_email","type":"string","description":"Parsed or entered email from resume; for structured search.","nullable":true},{"name":"parsed_mobile","type":"string","description":"Parsed or entered phone/mobile number from resume.","nullable":true},{"name":"parsed_birthdate","type":"string","description":"Parsed or entered birthdate or DoB from uploaded resume. String form to allow flexible date parsing.","nullable":true},{"name":"parsed_education_summary","type":"string","description":"Summary/short education info parsed from resume (school/major/latest degree).","nullable":true},{"name":"parsed_experience_summary","type":"string","description":"Summary/short experience info parsed from resume (last job/experience string).","nullable":true},{"name":"skills_json","type":"string","description":"JSON array (stringified) of normalized technical/hard skills parsed from this resume. Used for tech stack matching.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null if active, date if deleted (GDPR/trace).","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_applicant_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["deleted_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"skills_json"}]},{"name":"ats_recruitment_resume_files","description":"Subsidiary table with file storage references and metadata for applicant resumes. Each record links to a parent resume and stores original file name, storage URI, file type and size. Soft deletion is synchronized with the resume entity. No independent CRUD management; files are replaced on resume re-upload.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_resume_id","type":"uuid","description":"Linked resume's {@link ats_recruitment_resumes.id}. The parent structured resume that this file is attached to.","relation":{"name":"resume","targetModel":"ats_recruitment_resumes"},"unique":true,"nullable":false}],"plainFields":[{"name":"original_filename","type":"string","description":"Original uploaded file name. Used for display and audit.","nullable":false},{"name":"file_storage_uri","type":"uri","description":"Permanent URI/location of file in object/blob storage.","nullable":false},{"name":"file_ext","type":"string","description":"File extension (e.g., pdf, docx).","nullable":false},{"name":"file_size","type":"int","description":"File size in bytes.","nullable":false},{"name":"uploaded_at","type":"datetime","description":"Timestamp of file upload for audit trail.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp (null if not deleted).","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_resume_id"],"unique":true}],"plainIndexes":[{"fieldNames":["uploaded_at"]}],"ginIndexes":[{"fieldName":"original_filename"}]},{"name":"ats_recruitment_resume_ai_analyses","description":"Stores the output/result logs of AI-based resume analysis and parsing jobs. Each record ties to one resume, and may be linked to an applicant or HR/reviewer trigger. Contains analysis type, input meta, result payload as JSON string, confidence scores if available, job status, and full audit trail. Multiple analyses per resume are allowed.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_resume_id","type":"uuid","description":"Target resume's {@link ats_recruitment_resumes.id}. The structured resume this analysis belongs to.","relation":{"name":"resume","targetModel":"ats_recruitment_resumes"},"unique":false,"nullable":false}],"plainFields":[{"name":"analysis_type","type":"string","description":"Type of analysis or vendor job, e.g., 'basic_ocr', 'ai_skill_match', 'ner_parse'.","nullable":false},{"name":"analysis_status","type":"string","description":"Status of analysis: e.g., 'pending', 'completed', 'failed'.","nullable":false},{"name":"input_payload_json","type":"string","description":"JSON string of request/input sent to AI/analysis API.","nullable":true},{"name":"result_payload_json","type":"string","description":"JSON string with result/response from AI (structured fields, tags, comments).","nullable":true},{"name":"confidence_score","type":"double","description":"Optional confidence score/result assigned by analysis result. Null if not provided.","nullable":true},{"name":"started_at","type":"datetime","description":"Timestamp when analysis started.","nullable":false},{"name":"completed_at","type":"datetime","description":"Timestamp when analysis job finished (success or fail). Null if never completed.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["started_at"]},{"fieldNames":["analysis_type"]}],"ginIndexes":[]},{"name":"ats_recruitment_resume_upload_histories","description":"Snapshot table for recording the full history of applicant resume uploads (including replacements and repeated uploads). Serves as an immutable audit log for all uploads, storing all relevant context at the time of upload (file meta, parse summary, upload actor). Used for data forensics and recovery. Never deleted or updated after insert.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_applicant_id","type":"uuid","description":"Applicant ID from {@link ats_recruitment_applicants.id}. The user who performed this upload.","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false}],"plainFields":[{"name":"resume_title","type":"string","description":"Resume title (at time of upload) for recovery/display.","nullable":false},{"name":"file_name","type":"string","description":"Uploaded file name/upload snapshot. Used for audit and trace recovery.","nullable":false},{"name":"file_size","type":"int","description":"Size of uploaded file in bytes (snapshot at time of upload).","nullable":false},{"name":"file_ext","type":"string","description":"File extension/format at time of upload.","nullable":false},{"name":"resume_json_snapshot","type":"string","description":"Full text or JSON snapshot of parsed resume at upload. Archival purpose for audit/forensics.","nullable":true},{"name":"upload_timestamp","type":"datetime","description":"Timestamp of upload event. Immutable record.","nullable":false},{"name":"source_ip","type":"string","description":"IP address (when known) of actor uploading. Security/audit context.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["upload_timestamp"]}],"ginIndexes":[{"fieldName":"resume_title"}]}]},{"filename":"schema-06-coding_tests.prisma","namespace":"CodingTests","models":[{"name":"ats_recruitment_coding_tests","description":"Represents individual coding test instances assigned to applications. Tracks type (internal or external), scheduling, delivery channel, and test meta. Linked to application, applicant, and HR/recruiter. Required for audit trail, API callback correlation, and re-delivery logic.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_application_id","type":"uuid","description":"Belonged application's {@link ats_recruitment_applications.id}","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false},{"name":"ats_recruitment_applicant_id","type":"uuid","description":"Belonged applicant's {@link ats_recruitment_applicants.id}","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false},{"name":"ats_recruitment_hrrecruiter_id","type":"uuid","description":"Belonged HR recruiter who assigned/triggered this test. {@link ats_recruitment_hrrecruiters.id}","relation":{"name":"hrRecruiter","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":false}],"plainFields":[{"name":"test_provider","type":"string","description":"Provider type: 'internal' (platform written), or 3rd party text such as 'programmers', 'codesignal'.","nullable":false},{"name":"test_external_id","type":"string","description":"ID returned by external provider system, if external. Required for callback. Use null if in-house.","nullable":true},{"name":"test_url","type":"uri","description":"Test access URL (if generated by external provider or for applicant's direct access).","nullable":true},{"name":"scheduled_at","type":"datetime","description":"Datetime when test is scheduled (set by HR/recruiter or system).","nullable":false},{"name":"delivered_at","type":"datetime","description":"Datetime when invitation/test was actually delivered to applicant.","nullable":true},{"name":"status","type":"string","description":"Current delivery/test state. Example: 'scheduled', 'delivered', 'in_progress', 'completed', 'failed', 'cancelled'.","nullable":false},{"name":"expiration_at","type":"datetime","description":"Last time applicant is allowed to take test (nullable for open-ended or instant tests).","nullable":true},{"name":"callback_received_at","type":"datetime","description":"Timestamp when API callback received from external system (null if not applicable).","nullable":true},{"name":"closed_at","type":"datetime","description":"Datetime test is definitively closed for submission. Used for audit/tracking.","nullable":true},{"name":"created_at","type":"datetime","description":"Canonical creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Canonical update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete. Set on logical delete for audit reasons.","nullable":true}],"uniqueIndexes":[{"fieldNames":["test_external_id"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_application_id","scheduled_at"]},{"fieldNames":["ats_recruitment_applicant_id"]},{"fieldNames":["status"]}],"ginIndexes":[{"fieldName":"test_provider"}]},{"name":"ats_recruitment_coding_test_submissions","description":"Tracks each coding test solution attempt by an applicant. Used for tracking attempts, answers, answer files, log/audit, and late/invalid/timeout cases. Ties to coding test, applicant, and application entity.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_coding_test_id","type":"uuid","description":"Referenced coding test's {@link ats_recruitment_coding_tests.id}","relation":{"name":"codingTest","targetModel":"ats_recruitment_coding_tests"},"unique":false,"nullable":false},{"name":"ats_recruitment_applicant_id","type":"uuid","description":"Applicant's {@link ats_recruitment_applicants.id} (in case of delegated submissions, still stores actual answerer)","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":false},{"name":"ats_recruitment_application_id","type":"uuid","description":"Parent application's {@link ats_recruitment_applications.id} (redundant but supports analytics for audit reporting)","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false}],"plainFields":[{"name":"submitted_at","type":"datetime","description":"Timestamp when applicant submitted test answer.","nullable":false},{"name":"answer_file_url","type":"uri","description":"URL (object storage, presigned download) for answer upload, if applicable.","nullable":true},{"name":"answer_text","type":"string","description":"Direct answer text (if code is written inline).","nullable":true},{"name":"status","type":"string","description":"Current submission validation state: e.g., 'valid', 'invalid', 'timeout', 'canceled', 'pending'.","nullable":false},{"name":"received_external_at","type":"datetime","description":"Timestamp if this submission was posted via external API/callback, n/a for direct platform.","nullable":true},{"name":"review_status","type":"string","description":"Status for reviewer process: e.g. 'pending', 'needs_review', 'reviewed', 'flagged'.","nullable":false},{"name":"reviewed_at","type":"datetime","description":"Datetime manual review completed by tech reviewer, null if still waiting.","nullable":true},{"name":"review_comment_summary","type":"string","description":"Manual review summary (tech reviewer). Null if not yet reviewed or review was only automatic.","nullable":true},{"name":"created_at","type":"datetime","description":"Canonical creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Canonical update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete. Set for retention/audit compliance.","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_coding_test_id","ats_recruitment_applicant_id"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_coding_test_id","submitted_at"]},{"fieldNames":["ats_recruitment_application_id"]}],"ginIndexes":[{"fieldName":"review_comment_summary"}]},{"name":"ats_recruitment_coding_test_results","description":"Snapshot of automatic or reviewer-evaluated result for a coding test submission. Contains normalized scores, ranking, error traces, and abnormal completion audit (e.g., plagiarism or timeout). Not overwritten—even on rerun/manual override; instead, new rows are persisted.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_coding_test_submission_id","type":"uuid","description":"Belonged submission's {@link ats_recruitment_coding_test_submissions.id}","relation":{"name":"submission","targetModel":"ats_recruitment_coding_test_submissions"},"unique":false,"nullable":false},{"name":"ats_recruitment_coding_test_id","type":"uuid","description":"Parent coding test's {@link ats_recruitment_coding_tests.id}. Used to facilitate performance reporting/audit.","relation":{"name":"codingTest","targetModel":"ats_recruitment_coding_tests"},"unique":false,"nullable":false}],"plainFields":[{"name":"evaluation_method","type":"string","description":"How result was computed; e.g. 'auto', 'manual', 'external', 'rerun', 'admin_override'.","nullable":false},{"name":"score","type":"double","description":"Result score (0 ~ typically 100, but see provider doc).","nullable":false},{"name":"maximum_score","type":"double","description":"Maximum score available for normalization (not null, needed for context).","nullable":false},{"name":"plagiarism_flag","type":"boolean","description":"True if submission is flagged as abnormal/plagiarized, e.g., by AI or reviewer.","nullable":false},{"name":"ranking_percentile","type":"double","description":"Applicant's percentile ranking for this test (0~100, where 100=top).","nullable":false},{"name":"result_json","type":"string","description":"Free-form JSON string from automatic evaluation/report. May include testcases run, error messages, runtime stats, etc.","nullable":true},{"name":"finalized_at","type":"datetime","description":"Datetime when this specific result record was finalized; for snapshot/audit.","nullable":false},{"name":"created_at","type":"datetime","description":"Canonical creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Canonical update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete (retain in audit).","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_coding_test_submission_id","finalized_at"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_coding_test_id","score"]},{"fieldNames":["plagiarism_flag"]}],"ginIndexes":[{"fieldName":"result_json"}]},{"name":"ats_recruitment_coding_test_review_comments","description":"Holds detailed reviewer and automated feedback, supporting independent moderation workflows and review audits per submission. Allows multiple comments per submission: each row is immutable (snapshot pattern). Reviewers are identified by FK, comment history is preserved even if users leave/disconnect.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_coding_test_submission_id","type":"uuid","description":"Associated submission's {@link ats_recruitment_coding_test_submissions.id}.","relation":{"name":"submission","targetModel":"ats_recruitment_coding_test_submissions"},"unique":false,"nullable":false},{"name":"ats_recruitment_techreviewer_id","type":"uuid","description":"Reviewer user reference {@link ats_recruitment_techreviewers.id}.","relation":{"name":"techReviewer","targetModel":"ats_recruitment_techreviewers"},"unique":false,"nullable":false}],"plainFields":[{"name":"comment_text","type":"string","description":"Reviewer or system-generated comment, markdown and text. Not null.","nullable":false},{"name":"comment_type","type":"string","description":"Source/type: 'manual', 'auto', 'system', 'plagiarism_flag', etc.","nullable":false},{"name":"started_at","type":"datetime","description":"Reviewer started typing/working at this time (audit).","nullable":false},{"name":"commented_at","type":"datetime","description":"Datetime comment was finalized (immutable).","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp (redundant for audit, shown for direct DB access).","nullable":false},{"name":"updated_at","type":"datetime","description":"Canonical update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete (manual or policy-based).","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_coding_test_submission_id","ats_recruitment_techreviewer_id","commented_at"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_techreviewer_id","commented_at"]}],"ginIndexes":[{"fieldName":"comment_text"}]},{"name":"ats_recruitment_coding_test_external_logs","description":"Tracks all interactions, callbacks, requests, and error responses with external coding test providers per test or per submission. Used for troubleshooting, replay, compensation, and dispute handling. Not directly user-facing but required for secure audit.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_coding_test_id","type":"uuid","description":"Related coding test's {@link ats_recruitment_coding_tests.id}","relation":{"name":"codingTest","targetModel":"ats_recruitment_coding_tests"},"unique":false,"nullable":false}],"plainFields":[{"name":"event_type","type":"string","description":"Type of event (api_request, api_response, api_callback, error, etc.)","nullable":false},{"name":"event_payload","type":"string","description":"Free-form JSON content with error or payload for the event.","nullable":false},{"name":"external_id","type":"string","description":"External ref id, if any (provider id, callback token, submission id, etc)","nullable":true},{"name":"message","type":"string","description":"Provider or ATS-internal message/description.","nullable":true},{"name":"occurred_at","type":"datetime","description":"Exact time of event/interaction.","nullable":false},{"name":"created_at","type":"datetime","description":"Canonical creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Canonical update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete/retention.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["ats_recruitment_coding_test_id","event_type","occurred_at"]}],"ginIndexes":[{"fieldName":"message"}]}]},{"filename":"schema-07-interviews.prisma","namespace":"Interviews","models":[{"name":"ats_recruitment_interviews","description":"Core interview scheduling entity for ATS. Represents a distinct interview instance bound to an application, linking scheduling info, Google Calendar syncs, participants, and assigned questions. Maintains canonical status, history, and is referenced by schedule, participant, question, and sync subsidiary tables. Subject to multi-stage and fallback management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_application_id","type":"uuid","description":"Linked application. {@link ats_recruitment_applications.id}.","relation":{"name":"application","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Interview event title or label (may be shown in calendar or notifications).","nullable":false},{"name":"stage","type":"string","description":"Interview pipeline stage (e.g., first_phase, tech_round, hr, final, custom label).","nullable":false},{"name":"status","type":"string","description":"Current interview status (scheduled, rescheduled, cancelled, completed, failed, etc).","nullable":false},{"name":"notes","type":"string","description":"Optional notes for interviewers or schedule specifics.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete timestamp (null if active).","nullable":true}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_application_id","stage"],"unique":true}],"plainIndexes":[{"fieldNames":["stage"]},{"fieldNames":["status"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"ats_recruitment_interview_participants","description":"Relationship table associating each interview with its active participants. Used to track HR staff, applicants, tech reviewers, and any external participant roles for specific interviews. Not independently managed; always paired with a parent interview entity. Ensures role clarity, allows multiple participants per interview.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_interview_id","type":"uuid","description":"Parent interview. {@link ats_recruitment_interviews.id}.","relation":{"name":"interview","targetModel":"ats_recruitment_interviews"},"unique":false,"nullable":false},{"name":"ats_recruitment_applicant_id","type":"uuid","description":"Applicant participant reference. {@link ats_recruitment_applicants.id} (nullable: for other roles).","relation":{"name":"applicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":true},{"name":"ats_recruitment_hrrecruiter_id","type":"uuid","description":"HR recruiter participant reference. {@link ats_recruitment_hrrecruiters.id}.","relation":{"name":"hrRecruiter","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":true},{"name":"ats_recruitment_techreviewer_id","type":"uuid","description":"Technical reviewer participant reference. {@link ats_recruitment_techreviewers.id}.","relation":{"name":"techReviewer","targetModel":"ats_recruitment_techreviewers"},"unique":false,"nullable":true}],"plainFields":[{"name":"role","type":"string","description":"Participant role for this interview (applicant, recruiter, reviewer, observer, etc).","nullable":false},{"name":"invited_at","type":"datetime","description":"Invitation timestamp for participant.","nullable":false},{"name":"confirmation_status","type":"string","description":"Participant confirmation status (pending, accepted, declined, tentative).","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_interview_id","ats_recruitment_applicant_id","ats_recruitment_hrrecruiter_id","ats_recruitment_techreviewer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_interview_id"]},{"fieldNames":["role"]}],"ginIndexes":[]},{"name":"ats_recruitment_interview_schedules","description":"Detailed time slot schedule records for interviews. Handles multi-slot scheduling, candidate/HR/tech reviewer availabilities, Google Calendar sync attempts, and manual overrides. Includes fields for start/end, source, cancellation, and reschedule flows. Not directly managed by end users; supports detailed audit and rollback.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_interview_id","type":"uuid","description":"Interview that owns this schedule entry. {@link ats_recruitment_interviews.id}.","relation":{"name":"interview","targetModel":"ats_recruitment_interviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"start_at","type":"datetime","description":"Scheduled start date and time in UTC.","nullable":false},{"name":"end_at","type":"datetime","description":"Scheduled end date and time in UTC.","nullable":false},{"name":"timezone","type":"string","description":"Timezone of the scheduled event (e.g., 'Asia/Seoul').","nullable":false},{"name":"schedule_source","type":"string","description":"How this schedule proposal was created (manual, google_calendar, auto, rebooked, etc).","nullable":false},{"name":"schedule_status","type":"string","description":"Current status of this schedule slot (proposed, confirmed, cancelled, rescheduled, sync_failed).","nullable":false},{"name":"cancellation_reason","type":"string","description":"Human friendly note about cancellation; filled if schedule gets cancelled.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_interview_id","start_at","end_at"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_interview_id"]},{"fieldNames":["schedule_status"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"ats_recruitment_interview_calendar_syncs","description":"Audit and tracking for all Google Calendar or external calendar sync attempts, including requested time, sync token/detail, status/result, error message with context, fallback/manual override flags. Allows compliance and troubleshooting on calendar negotiation or double booking/failure scenarios. Read-only from API, only system modifies.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_interview_id","type":"uuid","description":"The interview associated with the calendar sync. {@link ats_recruitment_interviews.id}.","relation":{"name":"interview","targetModel":"ats_recruitment_interviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"sync_type","type":"string","description":"Type of external calendar sync (google_calendar, outlook, manual, etc).","nullable":false},{"name":"sync_time","type":"datetime","description":"Timestamp of when the sync was attempted/requested.","nullable":false},{"name":"sync_status","type":"string","description":"Result/status (pending, success, failed, fallback_manual, double_booked, etc).","nullable":false},{"name":"external_event_id","type":"string","description":"External calendar system event ID (if available).","nullable":true},{"name":"sync_token","type":"string","description":"Access token or sync credential (hashed or partial display for PII).","nullable":true},{"name":"error_message","type":"string","description":"Failure message from external API if error occurred.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_interview_id","sync_time","sync_type"],"unique":true}],"plainIndexes":[{"fieldNames":["sync_status"]},{"fieldNames":["sync_time"]}],"ginIndexes":[{"fieldName":"error_message"}]},{"name":"ats_recruitment_interview_questions","description":"Question assignment/join table between an interview and its associated interview questions. Not independently managed, always paired to a parent interview instance. Links to template-derived or custom manual questions assigned for this specific interview.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ats_recruitment_interview_id","type":"uuid","description":"Linked interview for this question reference. {@link ats_recruitment_interviews.id}.","relation":{"name":"interview","targetModel":"ats_recruitment_interviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"order","type":"int","description":"Display or asking order of this question in the interview.","nullable":false},{"name":"question_text","type":"string","description":"Question content (template or manual, set at time of interview creation).","nullable":false},{"name":"question_type","type":"string","description":"Type/classification (e.g., coding, behavioral, personality, situational, technical, etc).","nullable":false},{"name":"is_template","type":"boolean","description":"True if this question is derived from a predefined template.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["ats_recruitment_interview_id","order"],"unique":true}],"plainIndexes":[{"fieldNames":["ats_recruitment_interview_id"]},{"fieldNames":["question_type"]}],"ginIndexes":[{"fieldName":"question_text"}]}]},{"filename":"schema-08-notifications.prisma","namespace":"Notifications","models":[{"name":"ats_recruitment_notifications","description":"Represents each logical notification event to be delivered to users (applicants, HR recruiters, etc.) or system actors. Contains type, business context, and recipient information. Entry point for notification workflows. Linked to delivery and failure records. Core notification metadata is stored here; does not track delivery-specific events. Primary entity for auditing notification intent, source, and status for business processes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipient_applicant_id","type":"uuid","description":"Target applicant's {@link ats_recruitment_applicants.id}. Nullable if not for applicant.","relation":{"name":"recipientApplicant","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":true},{"name":"recipient_hrrecruiter_id","type":"uuid","description":"Target HR recruiter's {@link ats_recruitment_hrrecruiters.id}. Nullable if not for HR.","relation":{"name":"recipientHrRecruiter","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":true},{"name":"recipient_techreviewer_id","type":"uuid","description":"Target tech reviewer's {@link ats_recruitment_techreviewers.id}. Nullable if not for reviewer.","relation":{"name":"recipientTechReviewer","targetModel":"ats_recruitment_techreviewers"},"unique":false,"nullable":true},{"name":"recipient_systemadmin_id","type":"uuid","description":"Target system admin's {@link ats_recruitment_systemadmins.id}. Nullable if not for admin.","relation":{"name":"recipientSystemAdmin","targetModel":"ats_recruitment_systemadmins"},"unique":false,"nullable":true}],"plainFields":[{"name":"event_type","type":"string","description":"Notification event type key (e.g., application_status_update, interview_scheduled, export_complete, system_alert), used to match to template and business process.","nullable":false},{"name":"reference_table","type":"string","description":"Name of the business table this notification is related to (e.g., ats_recruitment_applications, ats_recruitment_interviews). Business context for linkage.","nullable":false},{"name":"reference_id","type":"uuid","description":"ID of the referenced business entity (e.g., application, interview, export job record).","nullable":false},{"name":"payload_json","type":"string","description":"JSON representation of templated data for dynamic rendering in template. Contains context provided to notification message rendering. Large, not always indexed.","nullable":true},{"name":"status","type":"string","description":"Current business status for notification event (e.g., pending, sent, delivered, failed, cancelled).","nullable":false},{"name":"created_at","type":"datetime","description":"Time the notification event record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time the notification event was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null if active, set if deleted.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["event_type"]},{"fieldNames":["status"]},{"fieldNames":["recipient_applicant_id"]},{"fieldNames":["recipient_hrrecruiter_id"]},{"fieldNames":["recipient_techreviewer_id"]},{"fieldNames":["reference_table","reference_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"payload_json"}]},{"name":"ats_recruitment_notification_deliveries","description":"Represents each individual delivery attempt for a notification. May be one-to-many for the same notification (e.g., primary channel failed, fallback attempted). Contains channel info, recipient contact, delivery result, and timestamps. Used for audit trails, compliance, and troubleshooting. Supporting entity—managed via notification contexts.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"notification_id","type":"uuid","description":"Linked notification's {@link ats_recruitment_notifications.id}.","relation":{"name":"notification","targetModel":"ats_recruitment_notifications"},"unique":false,"nullable":false}],"plainFields":[{"name":"delivery_channel","type":"string","description":"Channel/medium used to send the notification (e.g., email, sms, app_push, webhook).","nullable":false},{"name":"recipient_address","type":"string","description":"Email, phone number, or channel recipient endpoint for this delivery attempt. For auditability and troubleshooting.","nullable":false},{"name":"delivery_status","type":"string","description":"Result status for this specific delivery attempt (e.g., initiated, sent, delivered, failed, bounced, retried, cancelled).","nullable":false},{"name":"delivery_result_detail","type":"string","description":"Detailed result code/message from delivery provider/service, e.g., SMTP response, SMS error codes. Used for delivery troubleshooting and analytics.","nullable":true},{"name":"delivery_attempt","type":"int","description":"Attempt count (e.g., 1=first, 2=retried after error). For retry logic analytics.","nullable":false},{"name":"delivered_at","type":"datetime","description":"Timestamp this delivery attempt succeeded (null if never delivered).","nullable":true},{"name":"failed_at","type":"datetime","description":"Timestamp this delivery failed (null if never failed).","nullable":true},{"name":"created_at","type":"datetime","description":"Time this delivery record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time this delivery record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null if active, set if deleted.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["notification_id"]},{"fieldNames":["delivery_channel"]},{"fieldNames":["recipient_address"]},{"fieldNames":["delivery_status"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"ats_recruitment_notification_templates","description":"Represents reusable notification message templates (SMS, email, app push, etc.), typically managed by system admins/operations. Stores template body (with variables), subject, channel, and activation info. Used to standardize business communications and allow easy updates. Primary entity—CRUD by authorized users independent of notification events.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"template_code","type":"string","description":"Unique business key for this template (e.g., INTERVIEW_SCHEDULED_KR, APPLICATION_RESULT_EMAIL). Used for event/template matching programmatically.","nullable":false},{"name":"channel","type":"string","description":"Notification channel this template is used for (e.g., email, sms, app_push, webhook).","nullable":false},{"name":"title","type":"string","description":"Human-readable title for template admin UI (not customer visible).","nullable":false},{"name":"subject","type":"string","description":"Default message subject/title (for email/channel supporting subject lines).","nullable":true},{"name":"body","type":"string","description":"Primary template text/body. May use placeholders for dynamic values (e.g., {{applicantName}}, {{interviewDate}}).","nullable":false},{"name":"is_active","type":"boolean","description":"Whether this template is currently active (enabled for new notifications).","nullable":false},{"name":"created_at","type":"datetime","description":"Time this template record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time this template was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null if active, set if deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["template_code","channel"],"unique":true}],"plainIndexes":[{"fieldNames":["template_code"]},{"fieldNames":["channel"]},{"fieldNames":["is_active"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"body"}]},{"name":"ats_recruitment_notification_failures","description":"Notification delivery failure logs—each record describes a failed attempt to deliver a notification (even after retries). Stores reference to notification and (optionally) delivery record. Purpose is to maintain post-mortem records and root-cause analysis for compliance. Supporting entity—managed through notification workflows.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"notification_id","type":"uuid","description":"Failed notification event's {@link ats_recruitment_notifications.id}.","relation":{"name":"notification","targetModel":"ats_recruitment_notifications"},"unique":false,"nullable":false},{"name":"delivery_id","type":"uuid","description":"Delivery attempt's {@link ats_recruitment_notification_deliveries.id}, if related to a specific channel/delivery. Nullable if not tied to a delivery attempt.","relation":{"name":"delivery","targetModel":"ats_recruitment_notification_deliveries"},"unique":false,"nullable":true}],"plainFields":[{"name":"failure_type","type":"string","description":"Failure mode (e.g., provider_bounce, permanent_error, invalid_address, api_rejected, user_optout). Enables overall post-mortem analytics.","nullable":false},{"name":"failure_message","type":"string","description":"Detailed failure reason/message (freeform, from provider, API or system log).","nullable":false},{"name":"occurred_at","type":"datetime","description":"When the failure occurred (event timestamp).","nullable":false},{"name":"created_at","type":"datetime","description":"Time this failure log record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time this failure log was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null if active, set if deleted.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["notification_id"]},{"fieldNames":["failure_type"]},{"fieldNames":["occurred_at"]}],"ginIndexes":[{"fieldName":"failure_message"}]}]},{"filename":"schema-09-exporting.prisma","namespace":"Exports","models":[{"name":"ats_recruitment_export_jobs","description":"Represents an export (CSV/Excel) request/job to extract recruitment system data for compliance reporting, user self-service, or operational analytics. Includes job status, actor/initiator, configuration (filters, selected fields, target entity), delivery method, and export file URI. Forms an audit log for all sensitive data export operations. Foreign keys reference the initiator (HR/admin/applicant) and, if applicable, the target job posting/application/resume.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"initiator_id","type":"uuid","description":"Export job initiator (usually HR, admin, or applicant), referencing the actor's {@link ats_recruitment_hrrecruiters.id}, {@link ats_recruitment_systemadmins.id}, or {@link ats_recruitment_applicants.id}.","relation":{"name":"initiator","targetModel":"ats_recruitment_hrrecruiters"},"unique":false,"nullable":false},{"name":"target_job_posting_id","type":"uuid","description":"If export is limited to a specific job posting, reference to {@link ats_recruitment_job_postings.id}. Nullable; not required for general exports.","relation":{"name":"targetJobPosting","targetModel":"ats_recruitment_job_postings"},"unique":false,"nullable":true},{"name":"target_application_id","type":"uuid","description":"If export targets a specific application (e.g., applicant self-export), reference to {@link ats_recruitment_applications.id}. Nullable.","relation":{"name":"targetApplication","targetModel":"ats_recruitment_applications"},"unique":false,"nullable":true}],"plainFields":[{"name":"job_type","type":"string","description":"Type of export job (e.g., applicants, applications, resumes, audit logs, interviews, etc.). Used for filtering/export logic.","nullable":false},{"name":"status","type":"string","description":"Current export status (pending, generating, delivering, complete, failed, cancelled, etc.).","nullable":false},{"name":"request_description","type":"string","description":"Free-text description of export purpose and filters. Useful for compliance and auditing.","nullable":true},{"name":"filter_json","type":"string","description":"JSON-encoded representation of applied filters, columns, or selection criteria for reproducibility.","nullable":true},{"name":"delivery_method","type":"string","description":"Export file delivery method (download, email, object storage URI, etc.).","nullable":false},{"name":"delivered_at","type":"datetime","description":"When the export file was actually delivered or made available to the user.","nullable":true},{"name":"file_uri","type":"uri","description":"URI to the delivered export file (if available, e.g., S3/object storage or email attachment).","nullable":true},{"name":"created_at","type":"datetime","description":"Export job creation timestamp (audit trail).","nullable":false},{"name":"updated_at","type":"datetime","description":"Last status update (including progress/failure/delivery).","nullable":false}],"uniqueIndexes":[{"fieldNames":["initiator_id","created_at","job_type"],"unique":true}],"plainIndexes":[{"fieldNames":["status"]},{"fieldNames":["initiator_id","created_at"]},{"fieldNames":["target_job_posting_id"]},{"fieldNames":["target_application_id"]}],"ginIndexes":[{"fieldName":"filter_json"},{"fieldName":"request_description"}]},{"name":"ats_recruitment_export_job_details","description":"Individual exported data items for each export job. Used for granular tracking of which specific records were included in a downloadable batch. References the parent export job and, optionally, the data id in target tables. Supports post-hoc audits and partial replays of export delivery.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"export_job_id","type":"uuid","description":"References the parent export job's {@link ats_recruitment_export_jobs.id}.","relation":{"name":"exportJob","targetModel":"ats_recruitment_export_jobs"},"unique":false,"nullable":false},{"name":"data_row_id","type":"uuid","description":"ID of the exported entity (applicant, application, resume, etc.). May be NULL for summary rows.","relation":{"name":"entityRow","targetModel":"ats_recruitment_applicants"},"unique":false,"nullable":true}],"plainFields":[{"name":"row_summary_json","type":"string","description":"JSON string representing critical fields from the exported record (not entire row - only identifying summary). For reproducibility and audit.","nullable":false},{"name":"included_at","type":"datetime","description":"Timestamp when row was actually included in file (may differ from job start/end for long-running exports).","nullable":false}],"uniqueIndexes":[{"fieldNames":["export_job_id","data_row_id"],"unique":true}],"plainIndexes":[{"fieldNames":["export_job_id"]}],"ginIndexes":[{"fieldName":"row_summary_json"}]},{"name":"ats_recruitment_export_failures","description":"Records and describes failures or exceptions that occurred during any export process (generation, file delivery, data selection, emailing, etc.) for compliance, debugging, and post-mortem analyses. Links to the jobs/steps that experienced errors. Not independently managed; retained for audit trail.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"export_job_id","type":"uuid","description":"References the parent export job's {@link ats_recruitment_export_jobs.id}.","relation":{"name":"exportJob","targetModel":"ats_recruitment_export_jobs"},"unique":false,"nullable":false}],"plainFields":[{"name":"failure_stage","type":"string","description":"Stage of process where the failure occurred (filtering, generating, delivering, emailing, etc.).","nullable":false},{"name":"failure_reason","type":"string","description":"Detailed error/cause message (may be system error message or business exception reason).","nullable":false},{"name":"failed_at","type":"datetime","description":"Time of failure occurrence.","nullable":false}],"uniqueIndexes":[{"fieldNames":["export_job_id","failure_stage","failed_at"],"unique":true}],"plainIndexes":[{"fieldNames":["export_job_id"]}],"ginIndexes":[{"fieldName":"failure_reason"}]}]},{"filename":"schema-10-security_logs.prisma","namespace":"SecurityLogs","models":[{"name":"ats_recruitment_access_logs","description":"Logs of all sensitive data access events, capturing which user/actor accessed what ATS recruitment data, when, from where, for audit and regulatory compliance. Used in GDPR/PII audit reports. Includes references to business actors via actor_id, target data type, and target_id fields, plus IP/device information. Independent log entity, queryable by compliance officers for security forensics.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"actor_id","type":"uuid","description":"ID of the user or system component that performed access (references recruitment actors; not a foreign key to support access by deleted users and external systems).","nullable":false},{"name":"actor_type","type":"string","description":"Type of actor: applicant, hrRecruiter, techReviewer, systemAdmin, or system component.","nullable":false},{"name":"target_type","type":"string","description":"The type/class of data accessed (e.g., resume, application, interview, notification, API credentials).","nullable":false},{"name":"target_id","type":"uuid","description":"Identifying UUID of the record that was accessed. Retained as raw for forensics; may point to deleted records.","nullable":false},{"name":"accessed_at","type":"datetime","description":"Timestamp when access event occurred (UTC).","nullable":false},{"name":"ip_address","type":"string","description":"IP address of the actor accessing the data (for compliance and threat analysis).","nullable":true},{"name":"device_info","type":"string","description":"Free-form description or user-agent of the device/browser used for access.","nullable":true},{"name":"access_reason","type":"string","description":"Stated business or system reason for access (e.g., normal HR processing, compliance review, support event, background job, etc.).","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["actor_id","accessed_at"]},{"fieldNames":["target_type","target_id"]}],"ginIndexes":[{"fieldName":"access_reason"}]},{"name":"ats_recruitment_data_deletion_logs","description":"Logs of explicit data deletions for ATS recruitment system, including requests under GDPR 'right to be forgotten', admin-initiated deletions, and automated purges. Tracks requestor, subject data, reason, and retention outcome for audit compliance. Full data lineage must be preserved to meet regulatory rules. Queryable for regulatory and compliance reports. Independent log table.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"deleted_at","type":"datetime","description":"Timestamp when deletion was executed.","nullable":false},{"name":"requestor_id","type":"uuid","description":"User or actor requesting deletion (retained even for deleted accounts; not a foreign key for audit resilience).","nullable":false},{"name":"requestor_type","type":"string","description":"Type of requestor: applicant, hrRecruiter, techReviewer, systemAdmin, or system component.","nullable":false},{"name":"target_type","type":"string","description":"Data type/class that was deleted (e.g., resume, application, interview, notification).","nullable":false},{"name":"target_id","type":"uuid","description":"UUID of record deleted (even if later purged).","nullable":false},{"name":"deletion_reason","type":"string","description":"Stated reason (user GDPR request, admin removal, scheduled expiry, legal compliance, etc.).","nullable":false},{"name":"outcome_note","type":"string","description":"Optional note on retention/anonymization (e.g. 'data anonymized', 'full deletion', 'archived by policy', etc.).","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["deleted_at","target_type"]}],"ginIndexes":[{"fieldName":"deletion_reason"}]},{"name":"ats_recruitment_masking_logs","description":"Masking/anonymization log table for privacy compliance. Captures history of when, by whom, and why specific data was masked: e.g., personal info fields replaced/obfuscated for privacy, in response to requests or automated policy. Supports auditing masking policies, user requests, or system actions. Separate from data deletion logs to distinguish obfuscation from deletion. Standalone log record.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"masked_at","type":"datetime","description":"Timestamp when masking occurred.","nullable":false},{"name":"masked_by_id","type":"uuid","description":"UUID of actor (user/system) who masked the data. Not a strict foreign key to allow for deleted or obfuscated accounts.","nullable":false},{"name":"masked_by_type","type":"string","description":"Type of actor: applicant, hrRecruiter, techReviewer, systemAdmin, automated, compliance, etc.","nullable":false},{"name":"target_type","type":"string","description":"Type/class of data that was masked (resume, application, contact info, etc.).","nullable":false},{"name":"target_id","type":"uuid","description":"UUID of the masked record.","nullable":false},{"name":"masking_reason","type":"string","description":"Stated reason for masking (user request, automated policy, privacy complaint, scheduled expiry, etc.).","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["masked_at","target_type"]}],"ginIndexes":[{"fieldName":"masking_reason"}]},{"name":"ats_recruitment_authentication_failures","description":"Authentication failure log for the ATS system. Records every failed login or system authentication attempt, capturing context for security incident analysis and compliance. Logs include which login was attempted, from which IP/device, attempted user identity (may be a deleted or non-existent account), failure reason, and timestamp. Purpose: immediate forensics, brute force or abuse detection, account lockout policy compliance, and incident resolution.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"attempted_at","type":"datetime","description":"Timestamp of the failed authentication event.","nullable":false},{"name":"attempted_user_identifier","type":"string","description":"The username, email, or unique identifier used for authentication attempt (even if user account never existed or was deleted).","nullable":false},{"name":"ip_address","type":"string","description":"The IP address/source of the authentication attempt.","nullable":true},{"name":"device_info","type":"string","description":"Browser/user-agent or system info from which attempt was made.","nullable":true},{"name":"failure_reason","type":"string","description":"Technical or business-level reason for failure (e.g., 'wrong password', 'locked account', 'user not found', 'expired token', etc.).","nullable":false},{"name":"lockout_triggered","type":"boolean","description":"Whether this failure contributed to or triggered an account lockout (for compliance tracking).","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["attempted_at","attempted_user_identifier"]}],"ginIndexes":[{"fieldName":"failure_reason"}]}]}]}