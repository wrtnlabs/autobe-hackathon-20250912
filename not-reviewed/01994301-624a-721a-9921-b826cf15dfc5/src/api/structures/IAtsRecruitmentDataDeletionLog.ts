import { tags } from "typia";

/**
 * ATS Data Deletion Log Record. Each record describes a data deletion in the
 * system for audit and regulatory reporting.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAtsRecruitmentDataDeletionLog = {
  /** Unique primary key for the deletion log record. */
  id: string & tags.Format<"uuid">;

  /** Timestamp of deletion (ISO8601 format; precise to seconds or ms, UTC). */
  deleted_at: string & tags.Format<"date-time">;

  /** Deletion actor/requestor identity (UUID), not always FK-enforced. */
  requestor_id: string & tags.Format<"uuid">;

  /**
   * Role or type of requester (applicant, hrRecruiter, techReviewer,
   * systemAdmin, system, etc).
   */
  requestor_type: string;

  /**
   * Data type/class deleted (e.g. resume, application, interview,
   * notification).
   */
  target_type: string;

  /**
   * UUID for data deleted (may be soft-deleted or purged from business
   * table).
   */
  target_id: string & tags.Format<"uuid">;

  /** Stated compliance, business, or legal reason for deletion. */
  deletion_reason: string;

  /**
   * Optional note on the outcome (e.g. "data anonymized", "full deletion",
   * "archived by policy").
   */
  outcome_note?: string | null | undefined;
};
export namespace IAtsRecruitmentDataDeletionLog {
  /**
   * Request DTO for searching, filtering, and paginating data deletion logs.
   * Used in compliance export, GDPR trace, and legal reporting tools.
   */
  export type IRequest = {
    /**
     * Actor type or initiator type (e.g. applicant, hrRecruiter,
     * techReviewer, systemAdmin, system component).
     */
    requestor_type?: string | undefined;

    /**
     * The business class/type of data deleted (e.g. resume, application,
     * interview).
     */
    target_type?: string | undefined;

    /** Range filter: start date/time (ISO8601 format). */
    deleted_at_from?: (string & tags.Format<"date-time">) | undefined;

    /** Range filter: end date/time (ISO8601 format). */
    deleted_at_to?: (string & tags.Format<"date-time">) | undefined;

    /**
     * String to match against deletion reason (e.g. GDPR, admin removal,
     * scheduled expiry).
     */
    deletion_reason?: string | undefined;

    /** String to filter by actor/requestor ID (UUID, exact or partial). */
    requestor_id?: string | undefined;

    /** Pagination: which page number to fetch (starts from 1). */
    page?: (number & tags.Type<"int32"> & tags.Minimum<1>) | undefined;

    /** Pagination: how many records per query (default 50, max 100). */
    limit?: (number & tags.Type<"int32"> & tags.Minimum<1>) | undefined;
  };

  /**
   * Summary for a single data deletion event as recorded in the
   * ats_recruitment_data_deletion_logs table. Used for compliance,
   * right-to-be-forgotten audit trails, and security incident documentation.
   * Provides direct linkage between deletion and actor, data class, subject,
   * root reason, and audit/retention annotations.
   */
  export type ISummary = {
    /**
     * Unique identifier (UUID primary key) for the data deletion log
     * record.
     */
    id: string & tags.Format<"uuid">;

    /** Timestamp when deletion was executed. */
    deleted_at: string & tags.Format<"date-time">;

    /**
     * Actor (user/admin/system) who requested deletion, not a strict FK for
     * audit resilience.
     */
    requestor_id: string & tags.Format<"uuid">;

    /**
     * Type/category of actor: applicant, hrRecruiter, techReviewer,
     * systemAdmin, or automated system.
     */
    requestor_type: string;

    /**
     * Resource or entity class that was deleted (resume, application,
     * interview, etc.).
     */
    target_type: string;

    /** UUID of the specific data record that was deleted. */
    target_id: string & tags.Format<"uuid">;

    /**
     * Reason for deletion (GDPR request, admin action, scheduled purge,
     * legal compliance, etc.).
     */
    deletion_reason: string;

    /**
     * Optional notes recording outcome of deletion (anonymized, full
     * removal, archived, etc.), can be null.
     */
    outcome_note?: string | null | undefined;
  };
}
