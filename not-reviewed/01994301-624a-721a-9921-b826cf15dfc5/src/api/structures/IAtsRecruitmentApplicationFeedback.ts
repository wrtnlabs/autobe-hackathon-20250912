import { tags } from "typia";

/**
 * Represents a feedback entry (review/comment/rating) left by an HR recruiter
 * or technical reviewer on a job application during the process. Includes
 * required and optional attributes for audit, decision, and analytics
 * purposes.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAtsRecruitmentApplicationFeedback = {
  /** Unique identifier of the feedback record. */
  id: string & tags.Format<"uuid">;

  /**
   * Reference to job application on which this feedback was left (links to
   * ats_recruitment_applications.id).
   */
  application_id: string & tags.Format<"uuid">;

  /** UUID of HR recruiter or tech reviewer who submitted the feedback. */
  reviewer_id: string & tags.Format<"uuid">;

  /**
   * Full textual feedback content, may include structured interview comments
   * or free-form remarks as per business rules.
   */
  feedback_body: string;

  /**
   * Optional numerical rating (e.g., 4.5, 3). Null if no explicit score was
   * given.
   */
  rating?: number | undefined;

  /**
   * True if this feedback represents a final recommendation/decision (e.g.,
   * final pass/fail, required by business policy).
   */
  is_final_recommendation: boolean;

  /** Timestamp when this feedback entry was created (ISO 8601 format). */
  created_at: string & tags.Format<"date-time">;
};
export namespace IAtsRecruitmentApplicationFeedback {
  /** Query filter input for searching feedback entries on application reviews. */
  export type IRequest = {
    /** Application ID to filter feedback records. */
    application_id?: (string & tags.Format<"uuid">) | undefined;

    /** Restrict to feedback by this reviewer. */
    reviewer_id?: (string & tags.Format<"uuid">) | undefined;

    /** Filter: feedback created after this ISO date. */
    created_after?: (string & tags.Format<"date-time">) | undefined;

    /** Filter: feedback created before this ISO date. */
    created_before?: (string & tags.Format<"date-time">) | undefined;

    /** Restrict to final recommendation entries. */
    is_final_recommendation?: boolean | undefined;
  };

  /**
   * Required request body format to create a new feedback on a job
   * application (by HR recruiter or technical reviewer). Feedback must
   * include reviewer, main body content, and a final recommendation flag;
   * rating is optional.
   */
  export type ICreate = {
    /**
     * UUID of reviewer creating this feedback (HR recruiter or tech
     * reviewer). Required; corresponds to account id in actors.
     */
    reviewer_id: string & tags.Format<"uuid">;

    /**
     * Main feedback text content. Required, structured or free-form
     * depending on interview type and feedback convention.
     */
    feedback_body: string;

    /**
     * Optional numeric rating (float, e.g., 4.0/5.0, 75/100 etc.) provided
     * by the reviewer where applicable.
     */
    rating?: number | undefined;

    /**
     * Required. Indicates whether this feedback is the reviewer's final
     * recommendation (pass/fail/next step).
     */
    is_final_recommendation: boolean;
  };

  /** Partial update shape for feedback records. */
  export type IUpdate = {
    /** Updated feedback text. */
    feedback_body?: string | undefined;

    /** Override or update the numeric rating. */
    rating?: number | null | undefined;

    /** Set if this update is marking as recommendation. */
    is_final_recommendation?: boolean | undefined;
  };

  /**
   * Summary representation of feedback entries for a job application. Used
   * for timelines, list views, and HR/reviewer decision audit. Matches
   * primary fields from the ats_recruitment_application_feedback table.
   *
   * - Id: Row PK for the feedback.
   * - Feedback_body: Required feedback text.
   * - Rating: Optional score.
   * - Is_final_recommendation: True if this is the decisive recommendation for
   *   the application.
   * - Created_at: Timestamp of feedback submission.
   * - Reviewer_id: HR or tech reviewer actor UUID.
   */
  export type ISummary = {
    /** Unique feedback identifier, primary key from feedback table. */
    id: string & tags.Format<"uuid">;

    /** Free-form or structured feedback content. Required, as in the schema. */
    feedback_body: string;

    /**
     * Optional numeric rating (e.g., interview score or application rank).
     * Nullable field in the schema.
     */
    rating?: number | null | undefined;

    /**
     * Indicates if this feedback represents the final HR or reviewer
     * recommendation. Matches the schema's required field.
     */
    is_final_recommendation: boolean;

    /** Creation timestamp for the feedback. ISO 8601, from the schema. */
    created_at: string & tags.Format<"date-time">;

    /**
     * ID of the reviewer (HR or tech reviewer) who submitted this feedback.
     * The 'reviewer_id' field in the feedback table.
     */
    reviewer_id: string & tags.Format<"uuid">;
  };
}
