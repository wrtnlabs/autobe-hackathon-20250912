import { tags } from "typia";

/**
 * Export job detail record for a single exported data item (applicant,
 * application, resume, etc.). Stores summary, references, and timestamp for
 * audit, download, and compliance forensics.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAtsRecruitmentExportJobDetail = {
  /**
   * Unique identifier for this export job detail record. Primary key for
   * audit and reference purposes.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Foreign key linking to the parent export job record. Used to reconstruct
   * export batch lineage.
   */
  export_job_id: string & tags.Format<"uuid">;

  /**
   * Entity ID (applicant, application, resume, etc.) for the exported record.
   * Null if summary or parent-only details.
   */
  data_row_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * JSON string snapshot summarizing the exported data row at the time of
   * export. May contain partial entity data, references, anonymized fields,
   * or compliance reductions. Used for audit and traceability of exported
   * content.
   */
  row_summary_json: string;

  /**
   * Timestamp when this record was included in the export file (UTC,
   * ISO8601). Used for compliance and process tracking.
   */
  included_at: string & tags.Format<"date-time">;
};
export namespace IAtsRecruitmentExportJobDetail {
  /**
   * Request body schema for searching and listing export job detail records.
   * Supports filtering by job, data row, inclusion date range, and allows
   * pagination/sorting. All fields are optional, enabling flexible search for
   * compliance and audit purposes.
   */
  export type IRequest = {
    /**
     * Filter by the parent export job's unique identifier (UUID). Optional.
     * Used for querying details within a specific export job context.
     */
    export_job_id?: (string & tags.Format<"uuid">) | undefined;

    /**
     * Filter by a specific exported data row (UUID), or null for
     * summary/aggregate queries.
     */
    data_row_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Start of date/time range (inclusive) for when data was included in
     * export. Filter for records included after this time. ISO8601.
     */
    included_at_from?: (string & tags.Format<"date-time">) | undefined;

    /**
     * End of date/time range (inclusive) for when data was included in
     * export. Filter for records included before this time. ISO8601.
     */
    included_at_to?: (string & tags.Format<"date-time">) | undefined;

    /** Pagination parameter: which page of results to return. 1-based index. */
    page?: (number & tags.Type<"int32">) | undefined;

    /** Pagination parameter: number of records to return per page. */
    limit?: (number & tags.Type<"int32">) | undefined;

    /**
     * Sorting field and direction. Example: "included_at desc" or
     * "row_summary_json asc".
     */
    sort?: string | undefined;
  };

  /**
   * Summary information about an individual entry in the export job details
   * table (ats_recruitment_export_job_details). Each record logs a data row
   * (such as applicant, application, etc.) included in a given export job,
   * allowing compliance, confirmation, and item-by-item tracking. All core
   * identifiers are always present. This summary omits full deserialized
   * data, focusing on audit linkage and row metadata.
   */
  export type ISummary = {
    /**
     * Unique identifier of the export job detail row. Primary key of the
     * record.
     */
    id: string & tags.Format<"uuid">;

    /**
     * Reference to the parent export job (ats_recruitment_export_jobs.id)
     * this detail is associated with.
     */
    export_job_id: string & tags.Format<"uuid">;

    /**
     * ID of the exported entity (applicant, application, etc.) if
     * available, otherwise null for summary rows or audit-only entries.
     */
    data_row_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Stringified minimal snapshot of exported data item (not the full
     * business object) to support reproducibility of historical export.
     */
    row_summary_json: string;

    /**
     * Timestamp when this row was included in the export batch. Used for
     * audit, debugging, and compliance confirmation.
     */
    included_at: string & tags.Format<"date-time">;
  };
}
