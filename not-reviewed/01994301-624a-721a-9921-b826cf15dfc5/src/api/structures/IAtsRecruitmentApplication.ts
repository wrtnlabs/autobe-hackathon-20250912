import { tags } from "typia";

/**
 * Full ATS job application entity. Maps to ats_recruitment_applications. Use
 * for business processing, audit, candidate evaluation and workflow tracking.
 * All primary columns included. Sensitive references (applicant, job, resume
 * IDs) and audit/soft delete included.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAtsRecruitmentApplication = {
  /** Primary Key. Unique application ID. */
  id: string & tags.Format<"uuid">;

  /**
   * ID of applicant (ats_recruitment_applicants) who submitted this
   * application.
   */
  applicant_id: string & tags.Format<"uuid">;

  /**
   * ID of job posting (ats_recruitment_job_postings) to which this
   * application was submitted.
   */
  job_posting_id: string & tags.Format<"uuid">;

  /**
   * Submitted resume file ID (ats_recruitment_resumes) used for this
   * application, if any.
   */
  resume_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * Current business status for the application (e.g., submitted, screening,
   * code_test, interview, accepted, rejected).
   */
  current_status: string;

  /** Timestamp when the application was created/submitted (ISO 8601). */
  submitted_at: string & tags.Format<"date-time">;

  /** Timestamp for last status change event (ISO 8601 time). */
  last_state_change_at: string & tags.Format<"date-time">;

  /** Timestamp when the record was created (ISO 8601 time). */
  created_at: string & tags.Format<"date-time">;

  /** Timestamp for last update to this record (ISO 8601 time). */
  updated_at: string & tags.Format<"date-time">;

  /**
   * Soft delete timestamp for GDPR and business retention. Null if not
   * deleted.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null | undefined;
};
export namespace IAtsRecruitmentApplication {
  /**
   * Search, filter, sort, and pagination parameters for listing
   * ats_recruitment_applications records. Each parameter is optional for
   * flexible query construction.
   */
  export type IRequest = {
    /** Optionally filter to applicant_id (UUID). */
    applicant_id?: (string & tags.Format<"uuid">) | undefined;

    /** Optionally filter to specific job_posting_id (UUID). */
    job_posting_id?: (string & tags.Format<"uuid">) | undefined;

    /** Optionally filter by submitted resume_id (UUID). */
    resume_id?: (string & tags.Format<"uuid">) | undefined;

    /**
     * Filter applications by current_status (e.g. submitted, screening,
     * code_test, interview, accepted, rejected, ...).
     */
    current_status?: string | undefined;

    /**
     * ISO date string for filtering applications created after or at this
     * datetime.
     */
    submitted_at_from?: (string & tags.Format<"date-time">) | undefined;

    /**
     * ISO date string for filtering applications created before or at this
     * datetime.
     */
    submitted_at_to?: (string & tags.Format<"date-time">) | undefined;

    /** Page number for pagination. Defaults to 1. */
    page?: (number & tags.Type<"int32"> & tags.Minimum<1>) | undefined;

    /** Result count per page. System default or upper bound may apply. */
    limit?: (number & tags.Type<"int32"> & tags.Minimum<1>) | undefined;

    /** Column name to use for sorting results. */
    order_by?: string | undefined;

    /** Sorting direction (ascending or descending). */
    order_direction?: "asc" | "desc" | undefined;
  };

  /**
   * Payload for creating a new job application, as submitted by an
   * authenticated applicant. CRITICAL: Do NOT include applicant_id in this
   * request typeâ€”actor identity must be set by the backend from the
   * authentication/session context ONLY. Attempting to submit applicant_id
   * will be rejected for security reasons. Only job_posting_id (target) and
   * optionally resume_id may be submitted by the client.
   */
  export type ICreate = {
    /**
     * ID of job posting (ats_recruitment_job_postings) being applied to.
     * Required.
     */
    job_posting_id: string & tags.Format<"uuid">;

    /** ID of the resume being submitted (optional). */
    resume_id?: (string & tags.Format<"uuid">) | undefined;
  };

  /**
   * Updateable properties for a job application, as supported by the
   * ats_recruitment_applications table. Use only to update mutable fields;
   * system-managed IDs and timestamps may not be altered. All values must
   * conform to business and schema rules. Partial updates allowed; only
   * provided fields are changed.
   */
  export type IUpdate = {
    /**
     * UUID of the resume to be associated with the application. May be
     * changed to update the document backing the application record.
     * Optional property, null value to clear the association.
     */
    resume_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * The new state or phase for the application. For example: 'screening',
     * 'interview', 'offer', 'rejected', etc. Should reflect a valid
     * business-defined status. Optional.
     */
    current_status?: string | undefined;

    /**
     * The ISO8601 date/time when the application status last changed. Used
     * for audit/history and business workflow. Optional.
     */
    last_state_change_at?: (string & tags.Format<"date-time">) | undefined;
  };
}
