{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"political_news_crawler_crawl_sources","description":"Represents political news crawling sources configuration. Contains source URLs, status, and metadata for controlling crawl initiation and processing. Used to manage diverse data feed points for politicalNewsCrawler.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"source_code","type":"string","nullable":false,"description":"Unique identifier code for the crawl source."},{"name":"source_url","type":"uri","nullable":false,"description":"The base URL of the crawl source website or API."},{"name":"is_active","type":"boolean","nullable":false,"description":"Flag indicating whether the crawl source is active and enabled for crawling."},{"name":"description","type":"string","nullable":true,"description":"Optional description of the crawl source."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, if record is deleted."}],"uniqueIndexes":[{"fieldNames":["source_code"],"unique":true},{"fieldNames":["source_url"],"unique":true}],"plainIndexes":[{"fieldNames":["is_active","created_at"]}],"ginIndexes":[]},{"name":"political_news_crawler_crawl_policies","description":"Configuration for crawl policies governing crawling frequency, retry, and error handling for political news sources. Ensures adaptive and respectful crawling behavior according to source limits and bans.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"policy_name","type":"string","nullable":false,"description":"Unique name identifier for the crawl policy."},{"name":"max_crawl_frequency_minutes","type":"int","nullable":false,"description":"Maximum allowed crawl frequency in minutes."},{"name":"max_retry_attempts","type":"int","nullable":false,"description":"Maximum number of retry attempts after failures."},{"name":"backoff_multiplier","type":"double","nullable":false,"description":"Multiplier factor for exponential backoff on retries."},{"name":"ban_detection_enabled","type":"boolean","nullable":false,"description":"Flag to enable detection and handling of bans during crawling."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, if record is deleted."}],"uniqueIndexes":[{"fieldNames":["policy_name"],"unique":true}],"plainIndexes":[{"fieldNames":["max_crawl_frequency_minutes","ban_detection_enabled"]}],"ginIndexes":[]},{"name":"political_news_crawler_crawl_schedules","description":"Schedules defining when and how often crawling runs for each political news source. References the crawl source and policy to enable adaptive scheduling and coordination.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_source_id","type":"uuid","nullable":false,"description":"Reference to Crawling Source. {@link political_news_crawler_crawl_sources.id}","relation":{"name":"crawlSource","targetModel":"political_news_crawler_crawl_sources"},"unique":false},{"name":"crawl_policy_id","type":"uuid","nullable":false,"description":"Reference to Crawl Policy. {@link political_news_crawler_crawl_policies.id}","relation":{"name":"crawlPolicy","targetModel":"political_news_crawler_crawl_policies"},"unique":false}],"plainFields":[{"name":"schedule_expression","type":"string","nullable":false,"description":"Cron expression defining the crawl schedule timing."},{"name":"last_crawled_at","type":"datetime","nullable":true,"description":"Timestamp when the crawl last occurred."},{"name":"next_crawl_at","type":"datetime","nullable":true,"description":"Timestamp for the next scheduled crawl."},{"name":"is_enabled","type":"boolean","nullable":false,"description":"Flag indicating if this schedule is enabled."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, if record is deleted."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["crawl_source_id","is_enabled","next_crawl_at"]},{"fieldNames":["crawl_policy_id"]}],"ginIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"political_news_crawler_guests","description":"Stores political news crawler guest user information representing unauthenticated users accessing APIs. Captures identification via IP and user agent, includes timestamps for auditing and soft deletion support. Guests are limited to read-only access with no password or login credentials.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"ip_address","type":"string","nullable":false,"description":"IP address of the guest user."},{"name":"user_agent","type":"string","nullable":true,"description":"User agent string presented by the guest."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the guest record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the guest record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp of soft deletion for the guest record."}],"uniqueIndexes":[{"fieldNames":["ip_address","user_agent"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]}]},{"filename":"schema-03-crawling.prisma","namespace":"Crawling","models":[{"name":"political_news_crawler_crawl_jobs","description":"Represents scheduled crawling jobs assigned to specific crawl sources and schedules, managing operational parameters and state for recurring political news retrieval tasks.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_source_id","type":"uuid","description":"Referenced crawl source identifier. {@link political_news_crawler_crawl_sources.id}","relation":{"name":"crawlSource","targetModel":"political_news_crawler_crawl_sources"},"unique":false,"nullable":false},{"name":"crawl_schedule_id","type":"uuid","description":"Referenced crawl schedule identifier. {@link political_news_crawler_crawl_schedules.id}","relation":{"name":"crawlSchedule","targetModel":"political_news_crawler_crawl_schedules"},"unique":false,"nullable":false}],"plainFields":[{"name":"active","type":"boolean","nullable":false,"description":"Flag indicating if this crawl job is active and scheduled to run."},{"name":"last_run_started_at","type":"datetime","nullable":true,"description":"Timestamp when the last run of the crawl job started, null if never run."},{"name":"last_run_completed_at","type":"datetime","nullable":true,"description":"Timestamp when the last run of the crawl job completed, null if still running or never run."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp, if set the job is considered deleted and ignored."}],"uniqueIndexes":[{"fieldNames":["crawl_source_id","crawl_schedule_id"],"unique":true}],"plainIndexes":[{"fieldNames":["last_run_started_at","active"]},{"fieldNames":["active","last_run_completed_at"]}],"ginIndexes":[]},{"name":"political_news_crawler_crawl_attempts","description":"Records individual execution attempts of crawl jobs, tracking start and completion times, success status, errors, and associated raw data references to enable detailed auditing and failure analysis.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_job_id","type":"uuid","description":"Associated crawl job identifier. {@link political_news_crawler_crawl_jobs.id}","relation":{"name":"crawlJob","targetModel":"political_news_crawler_crawl_jobs"},"unique":false,"nullable":false},{"name":"raw_data_storage_id","type":"uuid","description":"Reference to raw data storage entry for the crawl result. {@link political_news_crawler_raw_data_storage.id}","relation":{"name":"rawDataStorage","targetModel":"political_news_crawler_raw_data_storage"},"unique":false,"nullable":true}],"plainFields":[{"name":"started_at","type":"datetime","nullable":false,"description":"Timestamp when this crawl attempt started."},{"name":"completed_at","type":"datetime","nullable":true,"description":"Timestamp when this crawl attempt ended; null if still running."},{"name":"success","type":"boolean","nullable":false,"description":"Indicator whether this crawl attempt was successful."},{"name":"error_message","type":"string","nullable":true,"description":"Error message details if the crawl attempt failed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["started_at","success"]},{"fieldNames":["crawl_job_id","started_at"]}],"ginIndexes":[]},{"name":"political_news_crawler_crawled_news","description":"Contains metadata for crawled political news articles, linking to the crawl attempt that obtained the raw content and providing key attributes for management and filtering.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_attempt_id","type":"uuid","description":"Associated crawl attempt identifier. {@link political_news_crawler_crawl_attempts.id}","relation":{"name":"crawlAttempt","targetModel":"political_news_crawler_crawl_attempts"},"unique":false,"nullable":false}],"plainFields":[{"name":"url","type":"string","nullable":false,"description":"URL of the crawled news article."},{"name":"title","type":"string","nullable":true,"description":"Title of the news article, if available."},{"name":"published_at","type":"datetime","nullable":true,"description":"Publish timestamp of the news article, if known."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["url"],"unique":true}],"plainIndexes":[{"fieldNames":["published_at"]}],"ginIndexes":[]}]},{"filename":"schema-04-storage.prisma","namespace":"Storage","models":[{"name":"political_news_crawler_raw_data_storage","description":"Stores metadata and references for raw political news data collected from various crawling sources. Ensures durable and consistent storage links to cloud object storage. Tracks source information, crawl job association, and data integrity validations. Includes audit timestamps for traceability.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_source_id","type":"uuid","description":"Belonged crawl source's political_news_crawler_crawl_sources.id.","relation":{"name":"crawlSource","targetModel":"political_news_crawler_crawl_sources"},"unique":false,"nullable":false},{"name":"crawl_job_id","type":"uuid","description":"Optional crawl job reference to political_news_crawler_crawl_jobs.id.","relation":{"name":"crawlJob","targetModel":"political_news_crawler_crawl_jobs"},"unique":false,"nullable":true}],"plainFields":[{"name":"storage_key","type":"string","description":"Unique key or path identifying storage location in cloud object storage (e.g., GCP or AWS S3).","nullable":false},{"name":"file_format","type":"string","description":"Format of the raw data file such as JSON or XML for processing compatibility.","nullable":false},{"name":"file_size_bytes","type":"int","description":"Size of the raw data file in bytes.","nullable":false},{"name":"checksum","type":"string","description":"Checksum hash to verify file integrity.","nullable":true},{"name":"crawl_timestamp","type":"datetime","description":"Timestamp when the raw data was crawled, used for data freshness and scheduling.","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp record.","nullable":false}],"uniqueIndexes":[{"fieldNames":["storage_key"],"unique":true}],"plainIndexes":[{"fieldNames":["crawl_source_id","crawl_timestamp"]}],"ginIndexes":[]},{"name":"political_news_crawler_local_cache_files","description":"Tracks local file cache copies of raw crawled political news data with TTL enforcement and deletion status. Enables fast retrieval during cloud storage outages and manages file lifecycle with audit timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"raw_data_storage_id","type":"uuid","description":"Reference to related raw data storage record, political_news_crawler_raw_data_storage.id.","relation":{"name":"rawDataStorage","targetModel":"political_news_crawler_raw_data_storage"},"unique":false,"nullable":false}],"plainFields":[{"name":"local_file_path","type":"string","description":"Filesystem path or identifier for the local cached file copy.","nullable":false},{"name":"file_size_bytes","type":"int","description":"Size of the local cached file in bytes.","nullable":false},{"name":"ttl_expiration_at","type":"datetime","description":"Datetime when the cached file expires and is due for deletion under TTL policy.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp indicating when the cached file was deleted, if applicable.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp record.","nullable":false}],"uniqueIndexes":[{"fieldNames":["local_file_path"],"unique":true}],"plainIndexes":[{"fieldNames":["ttl_expiration_at"]}],"ginIndexes":[]},{"name":"political_news_crawler_processed_content","description":"Stores processed political news content generated by LLM post-processing, including summaries, highlights, and analysis. Links content to raw data storage and optionally to the LLM job that generated it. Contains content type, full text body, generation timestamp, and audit timestamps. Supports text search through GIN index on content body.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"raw_data_storage_id","type":"uuid","description":"Foreign key to the raw data storage record, political_news_crawler_raw_data_storage.id.","relation":{"name":"rawDataStorage","targetModel":"political_news_crawler_raw_data_storage"},"unique":false,"nullable":false},{"name":"llm_job_id","type":"uuid","description":"Foreign key to associated LLM job, political_news_crawler_llm_jobs.id.","relation":{"name":"llmJob","targetModel":"political_news_crawler_llm_jobs"},"unique":false,"nullable":true}],"plainFields":[{"name":"content_type","type":"string","description":"Type of processed content, e.g., summary, highlight, or analysis.","nullable":false},{"name":"content_body","type":"string","description":"Full textual content produced by LLM processing.","nullable":false},{"name":"generation_timestamp","type":"datetime","description":"Timestamp when this content was generated.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp, typically same or near generation time.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp record.","nullable":false}],"uniqueIndexes":[{"fieldNames":["raw_data_storage_id","content_type"],"unique":true}],"plainIndexes":[{"fieldNames":["content_type"]}],"ginIndexes":[{"fieldName":"content_body"}]}]},{"filename":"schema-05-processing.prisma","namespace":"Processing","models":[{"name":"political_news_crawler_llm_jobs","description":"LLM jobs represent individual processing tasks queued or executed for political news data. They track the job status, parameters, and processing flags. This model supports the management and monitoring of asynchronous LLM post-processing tasks such as generating summaries and analysis.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_source_id","type":"uuid","description":"The source channel from which the raw news data originated, referencing political_news_crawler_crawl_sources.id.","relation":{"name":"crawlSource","targetModel":"political_news_crawler_crawl_sources"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","nullable":false,"description":"Processing status of the job, e.g., 'pending', 'running', 'completed', 'failed'."},{"name":"parameters","type":"string","nullable":false,"description":"JSON string of parameters or prompts used for this LLM job."},{"name":"created_at","type":"datetime","nullable":false,"description":"Job creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Job last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, null if not deleted."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["crawl_source_id","status","created_at"]}],"ginIndexes":[{"fieldName":"parameters"}]},{"name":"political_news_crawler_llm_results","description":"LLM results store the output content generated by LLM jobs, including summaries, highlights, and analyses. This model links back to the originating LLM job and preserves output details for retrieval and audit purposes.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"llm_job_id","type":"uuid","description":"Associated LLM job's political_news_crawler_llm_jobs.id.","relation":{"name":"llmJob","targetModel":"political_news_crawler_llm_jobs"},"unique":false,"nullable":false}],"plainFields":[{"name":"content_type","type":"string","nullable":false,"description":"Type of generated content, e.g., 'summary', 'highlight', 'analysis'."},{"name":"content_text","type":"string","nullable":false,"description":"Generated content text by the LLM."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the output was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the output was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, null if not deleted."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["llm_job_id","content_type"]}],"ginIndexes":[{"fieldName":"content_text"}]},{"name":"political_news_crawler_processing_metadata","description":"Metadata entries for LLM processing capturing auxiliary information related to jobs or overall processing context. This table stores additional attributes to support enhancements and auditability.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"llm_job_id","type":"uuid","description":"Associated LLM job's political_news_crawler_llm_jobs.id.","relation":{"name":"llmJob","targetModel":"political_news_crawler_llm_jobs"},"unique":false,"nullable":false}],"plainFields":[{"name":"metadata_key","type":"string","nullable":false,"description":"Key name of the metadata attribute."},{"name":"metadata_value","type":"string","nullable":false,"description":"Value of the metadata attribute."},{"name":"created_at","type":"datetime","nullable":false,"description":"Metadata entry creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Metadata entry last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, null if not deleted."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["llm_job_id","metadata_key"]}],"ginIndexes":[]}]},{"filename":"schema-06-popularity.prisma","namespace":"Popularity","models":[{"name":"political_news_crawler_popularity_scores","description":"Snapshot table capturing computed popularity scores for political topics at specific timestamps. Each record represents a historical state of a popularity calculation for auditing and trend analysis purposes. References the related popular topic. Includes score metrics and aging fields consistent with time-decayed ranking models.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"political_news_crawler_popular_topic_id","type":"uuid","description":"Referenced popular topic's {@link political_news_crawler_popular_topics.id}.","relation":{"name":"popularTopic","targetModel":"political_news_crawler_popular_topics"},"unique":false,"nullable":false}],"plainFields":[{"name":"score","type":"double","nullable":false,"description":"Calculated popularity score for the topic at this snapshot."},{"name":"decay_factor","type":"double","nullable":false,"description":"Decay factor applied to the score based on the age of the topic mention."},{"name":"snapshot_at","type":"datetime","nullable":false,"description":"Timestamp when this popularity score snapshot was taken."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable, otherwise null."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["political_news_crawler_popular_topic_id","snapshot_at"]}],"ginIndexes":[]},{"name":"political_news_crawler_popular_topics","description":"Primary table listing all current political news topics with computed popularity rankings. Maintains unique topic identifiers, titles, and metadata for efficient querying and API response. Supports independent management of topics and serves as the main entity for popularity-related queries.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"topic_code","type":"string","nullable":false,"description":"Unique code identifier for the political topic."},{"name":"title","type":"string","nullable":false,"description":"Official title or name of the popular topic."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description or context about the popular topic."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable, otherwise null."}],"uniqueIndexes":[{"fieldNames":["topic_code"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"political_news_crawler_topic_mentions","description":"Subsidiary table recording mentions of political topics within news articles. Establishes many-to-one relationships with both topics and crawled news records. Supports detailed traceability of topic references and feeds data for popularity calculations. Managed as supporting entity for topic analytics.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"political_news_crawler_popular_topic_id","type":"uuid","description":"Referenced popular topic's {@link political_news_crawler_popular_topics.id}.","relation":{"name":"popularTopic","targetModel":"political_news_crawler_popular_topics"},"unique":false,"nullable":false},{"name":"political_news_crawler_crawled_news_id","type":"uuid","description":"Referenced crawled news item's {@link political_news_crawler_crawled_news.id}.","relation":{"name":"crawledNews","targetModel":"political_news_crawler_crawled_news"},"unique":false,"nullable":false}],"plainFields":[{"name":"mention_context","type":"string","nullable":true,"description":"Optional text snippet or context where the topic is mentioned within the article."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable, otherwise null."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["political_news_crawler_popular_topic_id"]},{"fieldNames":["political_news_crawler_crawled_news_id"]}],"ginIndexes":[{"fieldName":"mention_context"}]}]},{"filename":"schema-07-api.prisma","namespace":"API","models":[{"name":"political_news_crawler_api_access_logs","description":"Records detailed log entries for every API access to track client requests, including request method, path, response status, client IP address, user agent, request duration in milliseconds, and timestamp. Supports comprehensive API usage analytics and operational monitoring.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"http_method","type":"string","nullable":false,"description":"HTTP request method used in the API call, e.g., GET, POST, PUT."},{"name":"path","type":"string","nullable":false,"description":"API endpoint path being accessed, e.g., /api/v1/popular_topics."},{"name":"status_code","type":"int","nullable":false,"description":"HTTP response status code returned to the client."},{"name":"client_ip","type":"string","nullable":false,"description":"IP address of the client making the API request."},{"name":"user_agent","type":"string","nullable":false,"description":"User agent string of the client or application making the request."},{"name":"duration_ms","type":"int","nullable":false,"description":"Duration of the API request processing in milliseconds."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the log entry was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the log entry was last updated."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["http_method","path","status_code","created_at"]},{"fieldNames":["client_ip","created_at"]},{"fieldNames":["user_agent","created_at"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"path"},{"fieldName":"user_agent"}]},{"name":"political_news_crawler_api_error_logs","description":"Captures detailed records of API errors, including the API path, error code, error message, client IP, user agent, occurrence timestamp, and update timestamp. Enables error analysis and system troubleshooting for API endpoints.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"path","type":"string","nullable":false,"description":"API endpoint path where the error occurred."},{"name":"error_code","type":"string","nullable":false,"description":"Error code identifying the type of API error."},{"name":"error_message","type":"string","nullable":false,"description":"Descriptive error message to assist debugging."},{"name":"client_ip","type":"string","nullable":false,"description":"IP address of the client causing the error."},{"name":"user_agent","type":"string","nullable":false,"description":"User agent string of the client application."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the error log was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the error log was last updated."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["path","error_code","created_at"]},{"fieldNames":["client_ip","created_at"]},{"fieldNames":["user_agent","created_at"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"path"},{"fieldName":"error_message"},{"fieldName":"user_agent"}]},{"name":"political_news_crawler_api_usage_metrics","description":"Aggregated API usage metrics capturing total counts of API calls by method and path over specific time periods, including maximum response times and average durations. Supports performance monitoring and traffic analysis for API endpoints.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"http_method","type":"string","nullable":false,"description":"HTTP method for which metrics are aggregated."},{"name":"path","type":"string","nullable":false,"description":"API endpoint path for which metrics are aggregated."},{"name":"period_start","type":"datetime","nullable":false,"description":"Start timestamp of the aggregation period."},{"name":"period_end","type":"datetime","nullable":false,"description":"End timestamp of the aggregation period."},{"name":"total_calls","type":"int","nullable":false,"description":"Total number of API calls observed in the aggregation period."},{"name":"max_response_ms","type":"int","nullable":false,"description":"Maximum response time in milliseconds recorded during the period."},{"name":"avg_response_ms","type":"int","nullable":false,"description":"Average response time in milliseconds over the period."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this aggregated record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this aggregated record was last updated."}],"uniqueIndexes":[{"fieldNames":["http_method","path","period_start"],"unique":true}],"plainIndexes":[{"fieldNames":["http_method","path","period_start","period_end"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"path"}]}]},{"filename":"schema-08-alerts.prisma","namespace":"Alerts","models":[{"name":"political_news_crawler_crawl_alerts","description":"Stores alert events related to crawling operations, capturing failures, bans, or throttle notifications from crawl sources. Links alerts to specific crawl sources for traceability. Contains timestamp, severity level, and descriptive message for operational monitoring.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"crawl_source_id","type":"uuid","description":"Referenced crawl source's {@link political_news_crawler_crawl_sources.id} which triggered the alert.","relation":{"name":"crawlSource","targetModel":"political_news_crawler_crawl_sources"},"unique":false,"nullable":false}],"plainFields":[{"name":"alert_type","type":"string","nullable":false,"description":"Type of alert event indicating the category, e.g., 'ban_detected', 'network_error', 'throttle_warning'."},{"name":"message","type":"string","nullable":false,"description":"Detailed description of the alert event and context for operational understanding."},{"name":"severity","type":"string","nullable":false,"description":"Severity level of the alert such as 'info', 'warning', 'critical'."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the alert was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the alert was last updated."}],"uniqueIndexes":[{"fieldNames":["crawl_source_id","alert_type","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["severity"]}],"ginIndexes":[{"fieldName":"message"}]},{"name":"political_news_crawler_processing_alerts","description":"Captures alert events related to processing pipeline failures including LLM processing errors, queue backlogs, or retry escalations. Provides detailed messages and timestamp info for system diagnostics and resolution procedures.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"alert_type","type":"string","nullable":false,"description":"Category of processing alert such as 'llm_failure', 'queue_overflow', 'retry_limit_reached'."},{"name":"message","type":"string","nullable":false,"description":"Detailed description of the processing alert event for operational use."},{"name":"severity","type":"string","nullable":false,"description":"Severity level of the alert (e.g., 'info', 'warning', 'critical')."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the alert was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp for last update of the alert."}],"uniqueIndexes":[{"fieldNames":["alert_type","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["severity"]}],"ginIndexes":[{"fieldName":"message"}]},{"name":"political_news_crawler_api_alerts","description":"Contains alert records related to API subsystem errors including rate limiting, endpoint failures, and error spikes. Supports operational monitoring by storing detailed messages and timestamps of occurrence.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"alert_type","type":"string","nullable":false,"description":"Type of API alert event such as 'rate_limit_exceeded', 'endpoint_error', 'error_spike'."},{"name":"message","type":"string","nullable":false,"description":"Detailed message describing the API alert context."},{"name":"severity","type":"string","nullable":false,"description":"Severity level of the alert such as 'info', 'warning', 'critical'."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the alert was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the alert was last updated."}],"uniqueIndexes":[{"fieldNames":["alert_type","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["severity"]}],"ginIndexes":[{"fieldName":"message"}]}]}]}