{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"auction_platform_api_integrations","description":"Stores external API integration configurations for the auction platform. Includes API keys, endpoint URLs, and integration status. Enables controlled, auditable access to third-party services.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"Name of the external API integration, unique identifier."},{"name":"api_key","type":"string","nullable":false,"description":"API key or token used for authentication with the external service."},{"name":"endpoint_url","type":"uri","nullable":false,"description":"Base URL endpoint of the external API service."},{"name":"active","type":"boolean","nullable":false,"description":"Indicates whether this integration is currently active and should be used."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this integration record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this integration record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion; null if not deleted."}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[{"fieldNames":["active","updated_at"]}],"ginIndexes":[]},{"name":"auction_platform_rate_limits","description":"Defines configurable rate limiting policies applicable to various components and endpoints of the auction platform. Controls request frequency to protect system stability and prevent abuse.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"component_name","type":"string","nullable":false,"description":"Name of the component or service this rate limit policy applies to."},{"name":"max_requests_per_minute","type":"int","nullable":false,"description":"Maximum allowed requests per minute for the component."},{"name":"max_requests_per_hour","type":"int","nullable":false,"description":"Maximum allowed requests per hour for the component."},{"name":"max_requests_per_day","type":"int","nullable":false,"description":"Maximum allowed requests per day for the component."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this rate limit record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this rate limit record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion; null if not deleted."}],"uniqueIndexes":[{"fieldNames":["component_name"],"unique":true}],"plainIndexes":[{"fieldNames":["component_name","updated_at"]}],"ginIndexes":[]},{"name":"auction_platform_audit_logs","description":"Records system audit logs capturing significant operations, state changes, and administrative actions across the auction platform. Supports monitoring, analytics, and compliance requirements.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","nullable":true,"description":"Reference to system user performing the action, if applicable. {@link auction_platform_members.id}","relation":{"name":"user","targetModel":"auction_platform_members"},"unique":false}],"plainFields":[{"name":"action","type":"string","nullable":false,"description":"Description of the performed action or event."},{"name":"details","type":"string","nullable":true,"description":"Optional detailed context or metadata associated with the action."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this audit log entry was created."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id","created_at"]}],"ginIndexes":[]}]},{"filename":"schema-02-identity.prisma","namespace":"Identity","models":[{"name":"auction_platform_guests","description":"Guest user identities allowing limited view-only access without login credentials; primarily tracked by email and nickname. Includes timestamps for creation and soft deletion enabling audit and recovery.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Guest user's email address for identification and notifications. Unique to ensure no duplicate guest records.","nullable":false},{"name":"nickname","type":"string","description":"Guest display nickname visible on platform chats and leaderboards.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp for auditing purposes.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp for the latest update of the guest record.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if active record.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"nickname"}]},{"name":"auction_platform_members","description":"Registered members (team leaders) authorized to bid in auctions. Stores authentication data including password hash and unique email. Maintains point of contact and display nickname. Includes timestamps and soft deletion to enable auditing and account lifecycle management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Member's unique email address used for login and notifications.","nullable":false},{"name":"password_hash","type":"string","description":"Hashed password for secure authentication processes. Not stored in plaintext.","nullable":false},{"name":"nickname","type":"string","description":"Member's display nickname on platform and auction chats.","nullable":true},{"name":"created_at","type":"datetime","description":"Account creation timestamp for audit trail.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for account data.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp indicating account deactivation; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"nickname"}]},{"name":"auction_platform_admins","description":"Administrative user identities responsible for managing the auction platform. Secure authentication with password hash and unique email enforced. Includes audit timestamps and soft deletion for lifecycle and compliance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Admin's unique email address used for authentication and notifications.","nullable":false},{"name":"password_hash","type":"string","description":"Secure hashed password for administrator login.","nullable":false},{"name":"nickname","type":"string","description":"Admin display nickname for identification in admin tools and logs.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the admin record was created for auditing.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update on the admin record for audit tracking.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp indicating admin deactivation; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"nickname"}]}]},{"filename":"schema-03-auctions.prisma","namespace":"Auctions","models":[{"name":"auction_platform_auction_rooms","description":"Auction room information managed per streamer with schedule data and auction lifecycle status. This entity tracks start/end times, status, and auditing timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"streamer_name","type":"string","nullable":false,"description":"Name of the streamer who owns this auction room."},{"name":"start_time","type":"datetime","nullable":false,"description":"Scheduled start time of the auction room."},{"name":"end_time","type":"datetime","nullable":true,"description":"Optional scheduled end time of the auction room."},{"name":"status","type":"string","nullable":false,"description":"Status of the auction room (e.g., open, closed, pending)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last updated timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp for marking deletion."}],"uniqueIndexes":[{"fieldNames":["streamer_name","start_time"],"unique":true}],"plainIndexes":[{"fieldNames":["status","start_time"]}],"ginIndexes":[{"fieldName":"streamer_name"}]},{"name":"auction_platform_auction_candidates","description":"Registered users who are candidates for auction, including their profile information and performance statistics. Used for auction bid targets.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"user_id","type":"uuid","nullable":false,"description":"Identifier referencing the member user who is the auction candidate."},{"name":"nickname","type":"string","nullable":false,"description":"Candidate's display nickname in auctions."},{"name":"season_stats","type":"string","nullable":true,"description":"Serialized or JSON string holding game season statistics."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when candidate record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when candidate record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp to mark record removal."}],"uniqueIndexes":[{"fieldNames":["user_id"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"nickname"}]},{"name":"auction_platform_team_leaders","description":"Team leaders participating in auctions, linked to member users. Stores auction point data and account activity timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"member_id","type":"uuid","nullable":false,"description":"References the member user who is the team leader. {@link auction_platform_members.id}","relation":{"name":"member","targetModel":"auction_platform_members"},"unique":true}],"plainFields":[{"name":"available_points","type":"int","nullable":false,"description":"Points currently available for auction bidding by the team leader."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp for team leader record."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp for team leader record."}],"uniqueIndexes":[{"fieldNames":["member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["available_points"]}],"ginIndexes":[]},{"name":"auction_platform_bids","description":"Records of individual bids made by team leaders on auction candidates within specific auction rooms, with bid amount and timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"auction_room_id","type":"uuid","nullable":false,"description":"Reference to auction room {@link auction_platform_auction_rooms.id}","relation":{"name":"auctionRoom","targetModel":"auction_platform_auction_rooms"},"unique":false},{"name":"auction_candidate_id","type":"uuid","nullable":false,"description":"Reference to auction candidate {@link auction_platform_auction_candidates.id}","relation":{"name":"auctionCandidate","targetModel":"auction_platform_auction_candidates"},"unique":false},{"name":"team_leader_id","type":"uuid","nullable":false,"description":"Reference to the bidding team leader {@link auction_platform_team_leaders.id}","relation":{"name":"teamLeader","targetModel":"auction_platform_team_leaders"},"unique":false}],"plainFields":[{"name":"bid_points","type":"int","nullable":false,"description":"Number of points bid for the candidate."},{"name":"bid_time","type":"datetime","nullable":false,"description":"Timestamp when the bid was placed."},{"name":"is_winning","type":"boolean","nullable":false,"description":"Indicates if this bid is currently the highest winning bid."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."}],"uniqueIndexes":[{"fieldNames":["auction_room_id","auction_candidate_id","team_leader_id","bid_time"],"unique":true}],"plainIndexes":[{"fieldNames":["bid_time","is_winning"]}],"ginIndexes":[]},{"name":"auction_platform_point_balances","description":"Tracks auction points allocated and used by team leaders per auction room, enabling point management and auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"team_leader_id","type":"uuid","nullable":false,"description":"Reference to team leader {@link auction_platform_team_leaders.id}","relation":{"name":"teamLeader","targetModel":"auction_platform_team_leaders"},"unique":false},{"name":"auction_room_id","type":"uuid","nullable":false,"description":"Reference to auction room {@link auction_platform_auction_rooms.id}","relation":{"name":"auctionRoom","targetModel":"auction_platform_auction_rooms"},"unique":false}],"plainFields":[{"name":"points_allocated","type":"int","nullable":false,"description":"Total auction points allocated to the team leader."},{"name":"points_used","type":"int","nullable":false,"description":"Total auction points spent by the team leader."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when point balance record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp."}],"uniqueIndexes":[{"fieldNames":["team_leader_id","auction_room_id"],"unique":true}],"plainIndexes":[{"fieldNames":["points_allocated","points_used"]}],"ginIndexes":[]}]},{"filename":"schema-04-chat.prisma","namespace":"Chat","models":[{"name":"auction_platform_chat_messages","description":"Real-time chat messages collected from the Chijijik API for auction rooms, linking each message to the corresponding auction room and team leader. Supports message content storage, timestamps, and soft deletion to maintain audit trails and historical analysis.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"auction_platform_auction_room_id","type":"uuid","description":"Belonged auction room's {@link auction_platform_auction_rooms.id}.","relation":{"name":"auctionRoom","targetModel":"auction_platform_auction_rooms"},"unique":false,"nullable":false},{"name":"auction_platform_team_leader_id","type":"uuid","description":"Belonged team leader's {@link auction_platform_team_leaders.id}.","relation":{"name":"teamLeader","targetModel":"auction_platform_team_leaders"},"unique":false,"nullable":false}],"plainFields":[{"name":"chijijik_message_id","type":"string","description":"Unique chat message ID from Chijijik API.","nullable":false},{"name":"message","type":"string","description":"Content of the chat message.","nullable":false},{"name":"sender_name","type":"string","description":"Name of the message sender.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the message was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the message was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["chijijik_message_id"],"unique":true}],"plainIndexes":[{"fieldNames":["auction_platform_auction_room_id","created_at"]},{"fieldNames":["auction_platform_team_leader_id","created_at"]}],"ginIndexes":[{"fieldName":"message"}]}]},{"filename":"schema-05-sponsorship.prisma","namespace":"Sponsorship","models":[{"name":"auction_platform_sponsorship_events","description":"Sponsorship event records that capture donation details during auctions, including donor information, donation amount, auction room association, and optional member association. These events impact auction bids dynamically and are traced with timestamps for creation, updating, and soft deletion.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"auction_room_id","type":"uuid","description":"Related auction room {@link auction_platform_auction_rooms.id}.","relation":{"name":"auctionRoom","targetModel":"auction_platform_auction_rooms"},"unique":false,"nullable":false},{"name":"member_id","type":"uuid","description":"Associated member (team leader) {@link auction_platform_members.id}.","relation":{"name":"member","targetModel":"auction_platform_members"},"unique":false,"nullable":true}],"plainFields":[{"name":"donor_name","type":"string","description":"Name of the donor or sponsor from the sponsorship event. May be display name or anonymous.","nullable":false},{"name":"donation_amount","type":"double","description":"Amount donated in this sponsorship event.","nullable":false},{"name":"message","type":"string","description":"Optional message included with the sponsorship.","nullable":true},{"name":"chijijik_sponsorship_id","type":"string","description":"Unique identifier for this sponsorship event from the Chijijik API, used to prevent duplicates.","nullable":false},{"name":"animated","type":"boolean","description":"Flag indicating whether an animation was triggered for this sponsorship event.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp for soft deletion; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["chijijik_sponsorship_id"],"unique":true}],"plainIndexes":[{"fieldNames":["auction_room_id","donor_name"]}],"ginIndexes":[{"fieldName":"donor_name"}]},{"name":"auction_platform_sponsorship_animations","description":"Custom animation metadata for sponsorship notifications to enrich auction user experience. Contains animation name, file URI, optional description, and uploader information. Managed through soft deletion and audit timestamps.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"animation_name","type":"string","description":"Name of the custom animation file for sponsorship notifications.","nullable":false},{"name":"file_uri","type":"uri","description":"URI location of the animation file, such as S3 URL or CDN link.","nullable":false},{"name":"description","type":"string","description":"Optional detailed description of the animation.","nullable":true},{"name":"uploaded_by_member_id","type":"uuid","description":"UUID of the member (team leader or admin) who uploaded this animation.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp of the animation record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp of the animation record.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if animation is active.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-06-schedule.prisma","namespace":"Schedule","models":[{"name":"auction_platform_calendar_events","description":"Calendar events representing scheduled auction rooms with support for mandatory start time and optional end time. This entity supports linking auction rooms with streaming schedules and enables users to view and interact with auctions on the platform calendar. It includes temporal fields for event lifecycle management and a foreign key to the auction room.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"auction_platform_auction_room_id","type":"uuid","description":"Belonged auction room. {@link auction_platform_auction_rooms.id}.","relation":{"name":"auctionRoom","targetModel":"auction_platform_auction_rooms"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","nullable":false,"description":"Title or name of the calendar event representing the auction."},{"name":"start_at","type":"datetime","nullable":false,"description":"Mandatory start date and time of the auction event in ISO 8601 format."},{"name":"end_at","type":"datetime","nullable":true,"description":"Optional end date and time of the auction event, nullable for ongoing or open-ended events."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp of when the calendar event was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp of the last update to the calendar event."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["auction_platform_auction_room_id","start_at"],"unique":true}],"plainIndexes":[{"fieldNames":["start_at","end_at"]}],"ginIndexes":[]},{"name":"auction_platform_icon_purchases","description":"Records of calendar icon purchases by users, allowing customization of event appearance on the platform calendar. Each purchase links a user to a specific icon and contains temporal data for tracking purchase activity.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Purchasing user. {@link auction_platform_members.id}.","relation":{"name":"user","targetModel":"auction_platform_members"},"unique":false,"nullable":false}],"plainFields":[{"name":"icon_code","type":"string","nullable":false,"description":"Code identifying the purchased icon for calendar display."},{"name":"purchase_points","type":"int","nullable":false,"description":"Points spent for this icon purchase."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the purchase was made."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp of the last update to the purchase record."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id"]}],"ginIndexes":[]},{"name":"auction_platform_schedule_audit_logs","description":"Audit logs capturing changes made to schedule records, providing a historical trail for compliance and troubleshooting. Each log entry records what was changed, who changed it, and when.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"schedule_event_id","type":"uuid","description":"Referenced calendar event. {@link auction_platform_calendar_events.id}.","relation":{"name":"scheduleEvent","targetModel":"auction_platform_calendar_events"},"unique":false,"nullable":false},{"name":"changed_by_user_id","type":"uuid","description":"User who made the change. {@link auction_platform_members.id}.","relation":{"name":"changedByUser","targetModel":"auction_platform_members"},"unique":false,"nullable":false}],"plainFields":[{"name":"change_type","type":"string","nullable":false,"description":"Type of change (e.g., create, update, delete)."},{"name":"change_description","type":"string","nullable":true,"description":"Detailed description of the change made."},{"name":"changed_at","type":"datetime","nullable":false,"description":"Timestamp when the change occurred."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["schedule_event_id","changed_at"]}],"ginIndexes":[]}]}]}