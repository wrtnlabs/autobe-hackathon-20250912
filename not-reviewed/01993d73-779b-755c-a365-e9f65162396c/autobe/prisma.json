{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"study_planner_study_phases","description":"Defines the three distinct study phases available in the study planner system (preview, main learning, review). These phases categorize study activities and enable progress tracking by phase.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifier of the study phase, e.g., 'preview', 'main_learning', 'review'."},{"name":"name","type":"string","nullable":false,"description":"Human-readable name of the study phase, e.g., 'Preview'."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the study phase."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"study_planner_subject_categories","description":"Stores subject categories used for classifying study tasks, including hierarchical English language subcategories for grammar, vocabulary, speaking, and others.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifier of the subject category, e.g., 'english_grammar'."},{"name":"name","type":"string","nullable":false,"description":"Human-readable name of the subject category, e.g., 'English Grammar'."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the subject category."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"name"}]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"study_planner_students","description":"This table stores authenticated student user information including login credentials and audit timestamps. It supports user authentication by maintaining unique emails and hashed passwords. It includes temporal fields for creation, update, and potential soft deletion timestamps. As a primary entity, it allows independent user management and secure authentication workflows.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address used for student login and communication."},{"name":"password_hash","type":"string","nullable":false,"description":"Secure hashed password for authentication purposes. Plain passwords are never stored."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the student record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the student record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp indicating when the student record was soft deleted, if applicable."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["updated_at"]}],"ginIndexes":[]}]},{"filename":"schema-03-study.prisma","namespace":"Study","models":[{"name":"study_planner_study_tasks","description":"Core entity representing a student study task managed independently, linked to a student, study phase, and subject category. Tracks title, optional description, and soft deletion. Supports creation and update timestamps for audit trail.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"student_id","type":"uuid","description":"Belonged student's {@link study_planner_students.id}","relation":{"name":"student","targetModel":"study_planner_students"},"unique":false,"nullable":false},{"name":"study_phase_id","type":"uuid","description":"Associated study phase {@link study_planner_study_phases.id}","relation":{"name":"studyPhase","targetModel":"study_planner_study_phases"},"unique":false,"nullable":false},{"name":"subject_category_id","type":"uuid","description":"Linked subject category {@link study_planner_subject_categories.id}","relation":{"name":"subjectCategory","targetModel":"study_planner_subject_categories"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Title of the study task capturing the user's learning goal.","nullable":false},{"name":"description","type":"string","description":"Detailed description or notes about the study task.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the study task was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the study task was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the study task was soft deleted; null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["student_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["student_id","study_phase_id"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"study_planner_study_task_progress","description":"Stores progress information per study phase for each study task. Includes completion timestamps for tracking phase completion states to support study lifecycle management and analytics. References the main study task and the study phase.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"study_task_id","type":"uuid","description":"Associated study task {@link study_planner_study_tasks.id}","relation":{"name":"studyTask","targetModel":"study_planner_study_tasks"},"unique":false,"nullable":false},{"name":"study_phase_id","type":"uuid","description":"Tracked study phase {@link study_planner_study_phases.id}","relation":{"name":"studyPhase","targetModel":"study_planner_study_phases"},"unique":false,"nullable":false}],"plainFields":[{"name":"completed_at","type":"datetime","description":"Timestamp when the study phase was completed for this task; null if incomplete.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp for progress entry.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for progress entry.","nullable":false}],"uniqueIndexes":[{"fieldNames":["study_task_id","study_phase_id"],"unique":true}],"plainIndexes":[{"fieldNames":["study_task_id","completed_at"]}],"ginIndexes":[]},{"name":"study_planner_attachments","description":"Represents attachment files such as images or PDFs linked to study tasks. Supports multiple files per task with file metadata including type, URL, and creation timestamp for content management.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"study_task_id","type":"uuid","description":"Belonged study task {@link study_planner_study_tasks.id}","relation":{"name":"studyTask","targetModel":"study_planner_study_tasks"},"unique":false,"nullable":false}],"plainFields":[{"name":"file_type","type":"string","description":"Type of the attachment file, e.g., image/jpeg, application/pdf.","nullable":false},{"name":"file_url","type":"uri","description":"URI of the stored attachment file for retrieval.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the attachment was created.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["study_task_id","file_type"]}],"ginIndexes":[{"fieldName":"file_type"}]},{"name":"study_planner_memos","description":"Stores memo texts attached to study tasks as notes to support users in capturing additional information related to their learning activities. Each memo is associated with a single study task with timestamps for creation and updates.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"study_task_id","type":"uuid","description":"Belonged study task {@link study_planner_study_tasks.id}","relation":{"name":"studyTask","targetModel":"study_planner_study_tasks"},"unique":false,"nullable":false}],"plainFields":[{"name":"memo_text","type":"string","description":"Text content of the memo providing additional details or notes.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the memo was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the memo was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["study_task_id"]}],"ginIndexes":[{"fieldName":"memo_text"}]}]},{"filename":"schema-04-notifications.prisma","namespace":"Notifications","models":[{"name":"study_planner_task_alarms","description":"This table stores alarms set by authenticated student users for specific study tasks to trigger PWA notifications at scheduled times. Each alarm references a study task and the student user who owns it. It supports auditing via creation and update timestamps and allows soft deletion. This is a primary table managed independently by users for notification management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"student_id","type":"uuid","description":"Belonged student's {@link study_planner_students.id} who owns this alarm.","relation":{"name":"student","targetModel":"study_planner_students"},"unique":false,"nullable":false},{"name":"study_task_id","type":"uuid","description":"Referenced study task's {@link study_planner_study_tasks.id} for which the alarm is set.","relation":{"name":"studyTask","targetModel":"study_planner_study_tasks"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Title or label of the alarm for user identification.","nullable":false},{"name":"alarm_time","type":"datetime","description":"Scheduled time for the alarm to trigger the notification.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of record creation for audit trail.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update for audit trail.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp indicating logical removal (nullable).","nullable":true}],"uniqueIndexes":[{"fieldNames":["student_id","study_task_id","alarm_time"],"unique":true}],"plainIndexes":[{"fieldNames":["alarm_time","student_id"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"study_planner_general_reminders","description":"This table contains general reminders created by authenticated student users which are not tied to specific study tasks. These reminders trigger PWA notifications to users at scheduled times. It includes fields for reminder title, scheduled due time, optional description, audit timestamps, soft deletion, and an active flag to manage reminder status. This is a primary table managed independently by users.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"student_id","type":"uuid","description":"Belonged student's {@link study_planner_students.id} who owns this reminder.","relation":{"name":"student","targetModel":"study_planner_students"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Title or label of the general reminder for user identification.","nullable":false},{"name":"due_time","type":"datetime","description":"Scheduled due time for the reminder notification.","nullable":false},{"name":"description","type":"string","description":"Optional textual description providing additional context for the reminder.","nullable":true},{"name":"active","type":"boolean","description":"Flag indicating whether the reminder is currently active and should trigger notifications.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of record creation for audit and history.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update for audit and history.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp indicating logical removal (nullable).","nullable":true}],"uniqueIndexes":[{"fieldNames":["student_id","title","due_time"],"unique":true}],"plainIndexes":[{"fieldNames":["due_time","student_id"]}],"ginIndexes":[{"fieldName":"title"}]}]},{"filename":"schema-05-analytics.prisma","namespace":"Analytics","models":[{"name":"study_planner_study_progress_analytics","description":"Aggregated study progress analytics per student and study phase, providing metrics such as completed tasks count, total tasks count, and completion rate. Related to students and study phases for tracking learning progress across phases.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"student_id","type":"uuid","description":"Associated student {@link study_planner_students.id}.","relation":{"name":"student","targetModel":"study_planner_students"},"unique":false,"nullable":false},{"name":"study_phase_id","type":"uuid","description":"Associated study phase {@link study_planner_study_phases.id}.","relation":{"name":"studyPhase","targetModel":"study_planner_study_phases"},"unique":false,"nullable":false}],"plainFields":[{"name":"completed_tasks_count","type":"int","description":"Number of completed tasks for the student in the given study phase.","nullable":false},{"name":"total_tasks_count","type":"int","description":"Total number of tasks assigned to the student in the study phase.","nullable":false},{"name":"completion_rate","type":"double","description":"Completion rate computed as completed tasks divided by total tasks.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["student_id","study_phase_id"],"unique":true}],"plainIndexes":[{"fieldNames":["study_phase_id","updated_at"]}],"ginIndexes":[]},{"name":"study_planner_learning_gap_charts","description":"Analytics data showing learning gap statistics per student and subject category, highlighting underperformed areas in study tasks. Links to students and subject categories to assist targeted improvements and visualization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"student_id","type":"uuid","description":"Associated student {@link study_planner_students.id}.","relation":{"name":"student","targetModel":"study_planner_students"},"unique":false,"nullable":false},{"name":"subject_category_id","type":"uuid","description":"Subject category {@link study_planner_subject_categories.id} representing study topic.","relation":{"name":"subjectCategory","targetModel":"study_planner_subject_categories"},"unique":false,"nullable":false}],"plainFields":[{"name":"gap_metric","type":"double","description":"Quantified measure of the learning gap for the subject category.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["student_id","subject_category_id"],"unique":true}],"plainIndexes":[{"fieldNames":["subject_category_id","updated_at"]}],"ginIndexes":[]}]}]}