# EasySign 백엔드 요구사항 문서

## 1. 서비스 개요 및 비즈니스 모델

EasySign은 계약 과정을 완전 디지털화하여, 사용자가 시간과 장소 제약 없이 쉽고 빠르며 안전하게 계약을 체결할 수 있는 대한민국 대표 전자계약 서비스다. 기존 오프라인 계약의 비효율성과 보안 문제를 해소하고, 프리랜서부터 대기업까지 다양한 사용자가 효율적으로 계약을 체결, 관리하도록 지원한다.

### 1.1 비즈니스 정당성

기존 계약 방식은 출력, 직접 서명, 우편 송달 등에서 시간과 비용 손실이 크고, 문서 분실과 위변조 위험에 지속적으로 노출되어 업무 효율성을 저해한다. EasySign은 이를 전자계약으로 대체하여 업무 생산성을 높이고, 법적 신뢰성과 사용자 신뢰를 확보하는 것이 목표이다.

### 1.2 수익 모델 및 성장 전략

EasySign은 기본적으로 구독형 SaaS 모델을 통해 수익을 창출하며, API 판매를 통한 B2B 파트너십 확대를 계획한다. 초기 개인 사용자 및 소기업 고객 유치 후, 대기업 전용 기능을 통해 시장 점유율을 확대해 나간다.

### 1.3 성공 지표

- 월간 활성 사용자 수 (MAU), 계약서 발송 및 체결 건수
- 계약 완료까지 소요 시간 단축
- 무료 사용자 대비 유료 전환율 상승
- 고객 만족도 및 추천 지수(NPS) 향상

## 2. 사용자 역할 및 인증 요구사항

### 2.1 사용자 역할

- 개인 사용자(freelancerUser): 문서를 생성하고 서명 요청, 서명 실행 가능하며, 별도의 승인 과정 없이 실행한다.
- 법인 사용자(corporateUser): 계약 문서 작성 후 팀장에게 승인 요청해야 하며, 팀장 승인을 거쳐 서명 요청이 발송된다.
- 팀장(teamLeader): 법인 계약서에 대한 검토 및 승인 권한을 가지고, 승인 후 서명 요청을 진행한다.
- 관리자(admin): 시스템 운영 및 관리 권한을 보유하며, 사용자, 권한, 모니터링 등 전반을 관리한다.

### 2.2 인증 체계

- THE 시스템 SHALL 회원가입 시 이름, 이메일, 비밀번호를 입력받는다.
- THE 시스템 SHALL 로그인 시 JWT 기반 토큰을 발급한다.
- WHERE OAuth 회원가입 활성화 시, THE 시스템 SHALL Google과 Kakao 로그인을 제공한다.
- THE 시스템 SHALL Access Token은 15~30분, Refresh Token은 7~30일의 유효기간을 가진다.
- THE 시스템 SHALL 사용자는 자신의 역할에 따른 적절한 접근 권한을 가진다.
- WHERE 2단계 인증 사용 시, THE 시스템 SHALL 로그인 및 중요 정보 변경 시 2FA를 요구한다.

### 2.3 권한 분리 및 행위 제한

- 개인 사용자는 자신이 생성한 문서에 대해 전체 권한을 가진다.
- 법인 사용자는 문서 작성, 승인 요청, 서명 요청 발송, 서명 권한이 역할별로 제한된다.
- 팀장은 승인 및 서명 요청 발송 권한을 보유한다.
- 관리자는 시스템 운영 및 모든 데이터에 대한 완전한 접근 권한이 있다.

## 3. 사용자 시나리오

### 3.1 프리랜서 사용자 '하나'씨

- 하나씨는 계약서 템플릿을 불러오거나 새 문서를 업로드한다.
- 서명, 텍스트 필드 위치를 지정하고 클라이언트 이메일 및 카카오톡으로 서명 요청을 발송한다.
- 클라이언트는 별도 가입 없이 링크로 접속하여 서명을 완료한다.
- 하나씨는 완료 문서 및 감사추적인증서를 다운로드하여 보관한다.

### 3.2 스타트업 CEO '민준'님

- 민준님은 신규 입사자 5명에게 표준 근로계약서를 업로드하고 서명 필드를 배치한다.
- 서명자 이메일 목록을 등록하고 대량 발송 기능을 사용하여 서명 요청을 보낸다.
- 대시보드에서 서명 진행 상태를 실시간 모니터링하고, 미서명자에게 리마인더를 보낸다.

### 3.3 대기업 법무팀 '지연'님

- 지연님은 내부 승인 시스템과 연동하여 계약서 정보를 EasySign API로 자동 연동한다.
- 팀장이 승인한 문서를 상대 회사에 서명 요청으로 발송한다.
- 상대 회사 서명자는 이메일 링크를 통해 서명하고 최종 완료 문서와 감사추적인증서를 내부 시스템에 자동 저장한다.

## 4. 주요 기능 요구사항

### 4.1 문서 준비 및 업로드

- WHEN 사용자가 계약 문서를 업로드할 때, THE 시스템 SHALL PDF, DOCX, HWP, XLSX, PNG, JPG 형식을 지원한다.
- WHEN 문서가 업로드되면, THE 시스템 SHALL 이를 PDF로 변환한다.
- THE 시스템 SHALL 저장 데이터에 대해 AES-256 암호화를 적용한다.
- THE 시스템 SHALL 드래그앤드롭 방식의 업로드 UI를 지원한다.

### 4.2 서명 필드 배치 및 관리

- THE 시스템 SHALL 서명, 텍스트, 체크박스, 날짜 필드 배치를 지원한다.
- WHEN 사용자가 필드를 배치할 때, THE 시스템 SHALL 필드별 서명자 할당 기능을 제공한다.
- THE 시스템 SHALL 필수 입력 필드 설정을 지원한다.
- WHERE 사용자가 템플릿으로 저장하면, THE 시스템 SHALL 필드 배치 및 정보를 저장한다.

### 4.3 서명 요청 및 알림 발송

- THE 시스템 SHALL 이메일, 카카오톡, SMS를 통해 서명 요청 알림을 발송한다.
- THE 시스템 SHALL 서명 순서 지정(순차, 동시)을 지원한다.
- THE 시스템 SHALL 발송 메시지를 커스터마이징할 수 있다.

### 4.4 서명 처리

- THE 시스템 SHALL 별도의 회원가입 없이 서명 링크를 통해 접근하도록 지원한다.
- THE 시스템 SHALL 서명 방식으로 그리기, 텍스트, 도장 업로드를 지원한다.
- WHERE 프리미엄 기능으로 공동인증서 등의 고급 서명 방식을 도입할 가능성이 있다.

### 4.5 완료 문서 및 감사 추적

- WHEN 모든 서명이 완료되면, THE 시스템 SHALL 서명 이미지를 원본 PDF에 삽입하고 읽기 전용 최종본을 생성한다.
- THE 시스템 SHALL 감사추적인증서를 즉시 생성하여 사용자에게 제공한다.
- THE 시스템 SHALL 블록체인에 최종 문서 및 인증서 해시값 결합체를 단일 에 기록한다.

### 4.6 대시보드 및 문서 관리

- THE 시스템 SHALL 문서 상태(임시저장, 진행중, 완료, 취소 등)을 관리한다.
- THE 시스템 SHALL 서명 진행 상황을 실시간으로 모니터링한다.
- THE 시스템 SHALL 완료된 문서 및 감사증명서를 다운로드할 수 있다.

### 4.7 API 및 외부 연동

- THE 시스템 SHALL RESTful API를 제공한다.
- THE 시스템 SHALL Google Drive, Dropbox, Zapier, Slack 등과 연동을 지원한다.

## 5. 법적 효력 및 보안 요구사항

### 5.1 법적 효력 보장

- WHEN 모든 서명이 완료되고 계약 상태가 COMPLETED가 되면, THE 시스템 SHALL 서명 이미지를 지정 좌표에 삽입한다.
- THE 시스템 SHALL 최종 서명본 문서는 편집 불가 상태로 저장한다.
- THE 시스템 SHALL 감사추적인증서를 실시간 생성한다.
- THE 시스템 SHALL 블록체인에 최종 문서 및 인증서 해시값을 단일 트랜잭션으로 기록한다.

### 5.2 보안 정책

- THE 시스템 SHALL AES-256 저장 데이터 암호화를 의무화한다.
- THE 시스템 SHALL AWS KMS, Google Cloud KMS와 같은 전문 키 관리 서비스를 사용하여 키 생성 및 자동 순환을 수행한다.
- THE 시스템 SHALL 최소 권한 원칙을 준수하며 RBAC 권한 관리 체계를 갖춘다.
- THE 시스템 SHALL JWT 인증 및 2단계 인증(2FA)을 지원한다.

## 6. 에러 처리 및 예외 상황

- IF 문서 업로드 시 지원하지 않는 파일 포맷이면, THEN THE 시스템 SHALL 명확한 오류 메시지를 제공한다.
- IF 서명 요청 발송 실패 시, THEN THE 시스템 SHALL 재발송 시도 및 실패 기록을 관리한다.
- IF 서명 링크가 만료되면, THEN THE 시스템 SHALL 서명 불가 메시지를 보여준다.
- IF 서명자가 서명을 거부하면, THEN THE 시스템 SHALL 서명 상태를 DECLINED로 변경한다.
- IF 권한 없는 사용자가 문서에 접근 시, THEN THE 시스템 SHALL HTTP 403 에러를 반환한다.

## 7. 성능 및 확장성

- THE 시스템 SHALL 문서 업로드 및 페이지 로딩 속도를 3초 이내로 유지한다.
- THE 시스템 SHALL 99.9% 이상의 가용성을 보장한다.
- THE 시스템 SHALL 클라우드 기반 확장성을 통해 사용자 증가에 대응한다.

## 8. 부록

- EasySign 주요 데이터 모델로는 Document, SignRequest, Signatory, Template, AuditEvent가 있다.
- 상태는 DRAFT, IN_PROGRESS, COMPLETED, CANCELED, EXPIRED, DECLINED가 있다.


```mermaid
graph LR
  subgraph "EasySign 계약 프로세스"
    A["문서 업로드 & 변환"] --> B["서명 필드 배치"]
    B --> C["서명 요청 발송"]
    C --> D{"서명 완료 여부 확인"}
    D --|"아니오"| E["서명 진행 상태 모니터링"]
    D --|"예"| F["최종 서명본 생성 및 감사증적인증서 발행"]
  end

  subgraph "서명 요청 발송"
    G["이메일/카카오톡/SMS 발송"]
  end

  subgraph "서명 입력"
    H["그리기, 텍스트, 도장 방식 지원"]
  end

  E --> G
  G --> H
  H --> D

  F --> I["블록체인 해시 기록"]

  style F fill:#b3ffb3,stroke:#333,stroke-width:2px
  style I fill:#ffffb3,stroke:#333,stroke-width:2px
```


> EasySign 전자계약 서비스 요구사항 문서로, 모든 구현 상세는 개발팀 자율이다.