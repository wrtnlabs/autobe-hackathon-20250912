{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"easy_sign_configurations","description":"System core configuration entries representing key-value pairs to control various global system behaviors and parameters. Each configuration is uniquely identified by its key. Used across the EasySign backend system for feature toggling and global settings. Changes are auditable via timestamp fields.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"config_key","type":"string","nullable":false,"description":"Unique configuration key that identifies the setting."},{"name":"config_value","type":"string","nullable":false,"description":"Value associated with the configuration key."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the configuration item."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the configuration entry was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the configuration entry was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of the configuration entry."}],"uniqueIndexes":[{"fieldNames":["config_key"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]},{"name":"easy_sign_settings","description":"Individual system settings for EasySign platform, representing configurable options at various granularity levels. Includes key, value, descriptive notes and audit trails for maintainability and historical referencing. Critical for customizing operational behaviors and feature toggling.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"setting_key","type":"string","nullable":false,"description":"Unique key identifying this system setting."},{"name":"setting_value","type":"string","nullable":false,"description":"Value assigned to the system setting key."},{"name":"notes","type":"string","nullable":true,"description":"Optional textual notes or comments describing the setting usage or effect."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the setting was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the setting was last modified."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp indicating soft deletion status."}],"uniqueIndexes":[{"fieldNames":["setting_key"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"easy_sign_freelancerusers","description":"Records of individual freelancer users, enabling independent registration and management of personal accounts with necessary profile and status fields. Each freelancer has unique UUID primary key and temporal fields for audit trail. Supports soft deletion for account deactivation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email address used for freelancer user login and communication. Must be unique."},{"name":"nickname","type":"string","nullable":true,"description":"Optional display nickname or alias for the freelancer user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the freelancer user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the freelancer user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the freelancer user record was soft deleted (account deactivation)."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","email"]}],"ginIndexes":[{"fieldName":"nickname"}]},{"name":"easy_sign_corporateusers","description":"Represents corporate users in the system who require team leader approval for contract-related actions. Contains profile and contact information with standard temporal audit fields and soft deletion support.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Corporate user's email address for login and notifications, unique per account."},{"name":"company_name","type":"string","nullable":false,"description":"Name of the corporation the user belongs to."},{"name":"department","type":"string","nullable":true,"description":"Department name or unit within the corporation."},{"name":"position","type":"string","nullable":true,"description":"Job position or title of the corporate user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp of the corporate user record."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp of last update for the corporate user record."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp for the corporate user account."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["company_name","email"]}],"ginIndexes":[{"fieldName":"department"},{"fieldName":"position"}]},{"name":"easy_sign_teamleaders","description":"Team leader user records handle corporate contract approvals and management. Includes profile data and temporal fields for status tracking and auditing. Soft deletion supported for account termination or suspension.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email used by the team leader for authentication and communication. Unique per leader."},{"name":"name","type":"string","nullable":false,"description":"Full name of the team leader user."},{"name":"mobile_phone","type":"string","nullable":true,"description":"Optional contact phone number of the team leader."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp to mark suspension or removal."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["mobile_phone","email"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"easy_sign_admins","description":"Administrator user accounts with full system privileges. Manages configurations, overall system monitoring, and user administration. Includes profile details and audit timestamps with soft deletion.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Administrator email address for login. Must be unique."},{"name":"username","type":"string","nullable":false,"description":"Unique username of the admin account."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp of the admin record."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp for last update."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete time marking admin deactivation."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[{"fieldNames":["username","email"]}],"ginIndexes":[]},{"name":"easy_sign_user_credentials","description":"Stores authentication credentials (e.g., password hashes) linked to users across different roles. Each credential record associates with a user id from one of the user tables and stores secured hashed password. Includes timestamps for credential lifecycle tracking and soft deletion.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","nullable":false,"unique":false,"description":"Reference to the user entity this credential belongs to. Can be from freelancer, corporate, team leader, or admin. {@link easy_sign_freelancerusers.id, easy_sign_corporateusers.id, easy_sign_teamleaders.id, easy_sign_admins.id}","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"}}],"plainFields":[{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication stored securely with appropriate hashing algorithms."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the credential was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the credential was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp indicating the credential is inactive."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]}]},{"filename":"schema-03-documents.prisma","namespace":"Documents","models":[{"name":"easy_sign_documents","description":"This table records all contract documents managed by EasySign. It contains metadata about each document, including its unique code, title, status (DRAFT, IN_PROGRESS, COMPLETED, etc.), original filename, file storage path, and related data such as creator reference. It supports soft deletes and timestamp audit fields. It is a primary entity for contract document lifecycle management. It references creators from user tables but does not own their details directly.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"creator_id","type":"uuid","description":"Reference to the document creator user's id. {@link easy_sign_freelancerusers.id} or other user tables.","relation":{"name":"creator","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique business code or identifier for the document.","nullable":false},{"name":"title","type":"string","description":"Document title or subject for display and search.","nullable":false},{"name":"status","type":"string","description":"Current status of the document (e.g., DRAFT, IN_PROGRESS, COMPLETED, CANCELED, EXPIRED, DECLINED).","nullable":false},{"name":"original_filename","type":"string","description":"Original filename as uploaded.","nullable":false},{"name":"file_path","type":"string","description":"Storage path or URI of the document file.","nullable":false},{"name":"hash_sha256","type":"string","description":"SHA-256 hash of the original document for integrity verification.","nullable":false},{"name":"created_at","type":"datetime","description":"Time when the document was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time when the document was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null means not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"easy_sign_templates","description":"Templates for reusable document field layouts. Each template belongs to a creator user and contains metadata such as name, description, and usage count. Templates facilitate quick document assembly by saving field placements and settings. This table is a primary entity for managing document templates independently.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"creator_id","type":"uuid","description":"Reference to the template creator user id. {@link easy_sign_freelancerusers.id} or other user tables.","relation":{"name":"creator","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Template name for user display and selection.","nullable":false},{"name":"description","type":"string","description":"Detailed description of the template purpose and contents.","nullable":true},{"name":"usage_count","type":"int","description":"Count of how many times this template has been used.","nullable":false},{"name":"created_at","type":"datetime","description":"Time when the template was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time when the template was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null means not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["name","creator_id"],"unique":true}],"plainIndexes":[{"fieldNames":["usage_count","created_at"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"easy_sign_document_fields","description":"This supporting table stores metadata about individual fields placed on documents or templates. It captures field type, size, position, order, required flags, and the associated parent template or document. This table is considered subsidiary because it cannot stand independently and is always managed through its parent templates or documents.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"template_id","type":"uuid","description":"Reference to the associated template. {@link easy_sign_templates.id}","relation":{"name":"template","targetModel":"easy_sign_templates"},"unique":false,"nullable":true},{"name":"document_id","type":"uuid","description":"Reference to the associated document. {@link easy_sign_documents.id}","relation":{"name":"document","targetModel":"easy_sign_documents"},"unique":false,"nullable":true}],"plainFields":[{"name":"field_name","type":"string","description":"Name or label of the field.","nullable":false},{"name":"field_type","type":"string","description":"Type of the field (e.g., signature, text, checkbox, date).","nullable":false},{"name":"position_top","type":"double","description":"Top coordinate for field placement, in pixels or mm.","nullable":false},{"name":"position_left","type":"double","description":"Left coordinate for field placement, in pixels or mm.","nullable":false},{"name":"width","type":"double","description":"Width of the field, in pixels or mm.","nullable":false},{"name":"height","type":"double","description":"Height of the field, in pixels or mm.","nullable":false},{"name":"required","type":"boolean","description":"Whether this field must be filled or signed.","nullable":false},{"name":"order_number","type":"int","description":"Order in which the field should be completed relative to others.","nullable":false},{"name":"created_at","type":"datetime","description":"Time when the field record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Time when the field record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp. Null means active.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["template_id","order_number"]},{"fieldNames":["document_id","order_number"]}],"ginIndexes":[{"fieldName":"field_name"}]}]},{"filename":"schema-04-signatures.prisma","namespace":"Signatures","models":[{"name":"easy_sign_sign_requests","description":"Represents requests for electronic signatures on documents. Manages lifecycle states such as drafted, sent, signed, declined, or expired. Links to the document being signed and records sender and message details. Primary entity for signature workflows.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"document_id","type":"uuid","description":"Referenced document's {@link easy_sign_documents.id}.","relation":{"name":"document","targetModel":"easy_sign_documents"},"unique":false,"nullable":false}],"plainFields":[{"name":"requester_email","type":"string","description":"Email of the user who created the signature request. Used for notification and audit.","nullable":false},{"name":"message","type":"string","description":"Optional message attached to the signature request for signatories.","nullable":true},{"name":"status","type":"string","description":"Current status of the signature request. Typical values: DRAFT, SENT, COMPLETED, DECLINED, EXPIRED.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the signature request was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the signature request was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the signature request was deleted (soft delete). Null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["document_id","requester_email"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"message"}]},{"name":"easy_sign_signatories","description":"Represents individuals who must provide signatures for a signature request. Supports detailed tracking of signature status, order, and authentication info. Links to sign request, user, and captures signature timestamps and IPs.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"sign_request_id","type":"uuid","description":"Belonged signature request's {@link easy_sign_sign_requests.id}.","relation":{"name":"signRequest","targetModel":"easy_sign_sign_requests"},"unique":false,"nullable":false},{"name":"user_id","type":"uuid","description":"Referencing the signing user's {@link easy_sign_freelancerusers.id}, {@link easy_sign_corporateusers.id}, or system user if applicable.","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":true}],"plainFields":[{"name":"order","type":"int","description":"Ordering of this signatory in the signature sequence.","nullable":false},{"name":"status","type":"string","description":"Status of this signatory's signature. Values include PENDING, SIGNED, DECLINED, EXPIRED.","nullable":false},{"name":"signed_at","type":"datetime","description":"Timestamp when the signatory completed their signature. Null if not signed yet.","nullable":true},{"name":"ip_address","type":"string","description":"IP address from which the signature was performed.","nullable":true},{"name":"user_agent","type":"string","description":"User agent string during signature interaction.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when this signatory record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this signatory record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when this signatory record was deleted (soft delete). Null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["sign_request_id","order"],"unique":true}],"plainIndexes":[{"fieldNames":["status","signed_at"]}],"ginIndexes":[{"fieldName":"user_agent"}]},{"name":"easy_sign_signature_images","description":"Stores images related to signatures, such as drawn signatures, scanned signatures, or stamps. Linked to signatories and stores data necessary for display and verification. This subsidiary table supports rich signature representations.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"signatory_id","type":"uuid","description":"Linked signatory's {@link easy_sign_signatories.id}.","relation":{"name":"signatory","targetModel":"easy_sign_signatories"},"unique":false,"nullable":false}],"plainFields":[{"name":"image_url","type":"uri","description":"URI pointing to storage location of the signature image file.","nullable":false},{"name":"image_type","type":"string","description":"Type of the signature image (e.g., DRAWING, SCAN, STAMP).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the signature image was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the signature image was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["image_type"]}],"ginIndexes":[]}]},{"filename":"schema-05-audits.prisma","namespace":"Audits","models":[{"name":"easy_sign_audit_events","description":"Audit event log capturing all relevant system, user, and document activities for legal and operational traceability. This table records immutable events with timestamp, event type, user and document references, IP, and detailed metadata to support compliance and forensic analysis. Linked to the main document via foreign key. Implements strict temporal tracking with created_at and updated_at.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"easy_sign_document_id","type":"uuid","description":"Linked document's {@link easy_sign_documents.id}.","relation":{"name":"document","targetModel":"easy_sign_documents"},"unique":false,"nullable":false}],"plainFields":[{"name":"actor_id","type":"uuid","description":"User or system actor who triggered the event, nullable for system events.","nullable":true},{"name":"event_type","type":"string","description":"Type of audit event, e.g., DOCUMENT_CREATED, SIGN_REQUESTED, USER_LOGIN.","nullable":false},{"name":"event_timestamp","type":"datetime","description":"Exact timestamp when the event occurred, ISO 8601 format.","nullable":false},{"name":"event_ip","type":"string","description":"IP address from which the event was triggered.","nullable":true},{"name":"event_metadata","type":"string","description":"Additional JSON-formatted metadata providing event details.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, if applicable.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["easy_sign_document_id","event_timestamp"]}],"ginIndexes":[{"fieldName":"event_type"}]},{"name":"easy_sign_legal_certificates","description":"Stores legal certification documents generated upon contract completion to provide verifiable proof of contract status and integrity. Each record links to the original contract document, includes URI for certificate file, metadata describing certificate details, and timestamps for creation and updates. Critical for legal compliance and evidentiary purposes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"easy_sign_document_id","type":"uuid","description":"Associated contract document's {@link easy_sign_documents.id}.","relation":{"name":"document","targetModel":"easy_sign_documents"},"unique":false,"nullable":false}],"plainFields":[{"name":"certificate_uri","type":"uri","description":"URI or path to the stored legal certificate file, accessible for download.","nullable":false},{"name":"certificate_metadata","type":"string","description":"JSON-formatted metadata describing details and validity of the certificate.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the certificate record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the certificate record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp for soft deletion, if implemented.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["easy_sign_document_id"]}],"ginIndexes":[]}]},{"filename":"schema-06-notifications.prisma","namespace":"Notifications","models":[{"name":"easy_sign_email_notifications","description":"Stores email notification logs sent via EasySign. Records recipient address, content, status, associated user if applicable, and timestamps for auditing and tracking delivery attempts.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"The recipient user linked to this notification. May reference different user tables. {@link easy_sign_freelancerusers.id, easy_sign_corporateusers.id, easy_sign_teamleaders.id, easy_sign_admins.id}","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":true}],"plainFields":[{"name":"email_to","type":"string","description":"Email recipient address.","nullable":false},{"name":"email_cc","type":"string","description":"Carbon copy email addresses separated by commas if multiple.","nullable":true},{"name":"subject","type":"string","description":"Subject line of the email message.","nullable":false},{"name":"body","type":"string","description":"Body content of the email notification.","nullable":false},{"name":"status","type":"string","description":"Current status of email notification (e.g., pending, sent, failed).","nullable":false},{"name":"sent_at","type":"datetime","description":"Timestamp when email was sent, nullable if not sent yet.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last record update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email_to","subject","sent_at"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","status"]}],"ginIndexes":[{"fieldName":"subject"},{"fieldName":"body"}]},{"name":"easy_sign_kakao_notifications","description":"Tracks notifications sent through KakaoTalk by EasySign. Includes recipient phone number, message text, status, linked user if any, and timestamps for comprehensive tracking.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Recipient user linked with the Kakao notification, referencing existing user tables.","relation":{"name":"user","targetModel":"easy_sign_corporateusers"},"unique":false,"nullable":true}],"plainFields":[{"name":"phone_number","type":"string","description":"Recipient phone number in E.164 international format.","nullable":false},{"name":"message","type":"string","description":"Text message content sent via KakaoTalk.","nullable":false},{"name":"status","type":"string","description":"Current status of the Kakao notification (pending, sent, failed).","nullable":false},{"name":"sent_at","type":"datetime","description":"Timestamp at which the notification was sent, nullable if pending.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp, null if record is active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["phone_number","sent_at"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","status"]}],"ginIndexes":[{"fieldName":"message"}]},{"name":"easy_sign_sms_notifications","description":"Stores SMS notification logs sent by EasySign, including recipient phone number, message content, send status, linked user if applicable, and record timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Associated user receiving the SMS notification, linked to existing user tables.","relation":{"name":"user","targetModel":"easy_sign_teamleaders"},"unique":false,"nullable":true}],"plainFields":[{"name":"phone_number","type":"string","description":"Phone number of the SMS recipient in international format.","nullable":false},{"name":"message","type":"string","description":"Content of the SMS message.","nullable":false},{"name":"status","type":"string","description":"SMS sending status, e.g., pending, sent, failed.","nullable":false},{"name":"sent_at","type":"datetime","description":"Timestamp when the SMS was sent, nullable if not yet sent.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp of record creation.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null when record is active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["phone_number","sent_at"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","status"]}],"ginIndexes":[{"fieldName":"message"}]},{"name":"easy_sign_external_integrations","description":"Contains configuration and metadata for third-party external services integrated with EasySign, like Zapier, Google Drive, Dropbox, and Slack. Contains API keys, statuses, activation flags, and timestamps for management and auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"service_name","type":"string","description":"Name of the external service such as Zapier, Google Drive, Dropbox, Slack.","nullable":false},{"name":"api_key","type":"string","description":"API key or token used to authenticate with the external service.","nullable":false},{"name":"enabled","type":"boolean","description":"Flag indicating whether this integration is currently enabled.","nullable":false},{"name":"status","type":"string","description":"Current status of the integration (active, inactive, error).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the integration record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null when record is active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["service_name"],"unique":true}],"plainIndexes":[{"fieldNames":["status"]}],"ginIndexes":[]}]},{"filename":"schema-07-security.prisma","namespace":"Security","models":[{"name":"easy_sign_auth_tokens","description":"Stores authentication tokens for users, supporting JWT-like access and refresh tokens with expiration and revocation tracking. Tokens link to users for session management and enable secure stateless authentication.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Referenced user's {@link easy_sign_freelancerusers.id}.","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"access_token","type":"string","nullable":false,"description":"Access token string for authentication sessions."},{"name":"refresh_token","type":"string","nullable":false,"description":"Refresh token string used to obtain new access tokens."},{"name":"expires_at","type":"datetime","nullable":false,"description":"Expiration datetime of the access token."},{"name":"revoked","type":"boolean","nullable":false,"description":"Whether the token has been revoked."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp of the token."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last update timestamp of the token."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp to support token revocation audit."}],"uniqueIndexes":[{"fieldNames":["access_token"],"unique":true},{"fieldNames":["refresh_token"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","created_at"]}],"ginIndexes":[]},{"name":"easy_sign_two_factor_auths","description":"Stores two-factor authentication configurations and secret data for users, enabling multi-factor authentication for enhanced security. Supports multiple methods like TOTP, SMS, or email.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Referenced user's {@link easy_sign_freelancerusers.id}.","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"method","type":"string","nullable":false,"description":"Two-factor authentication method (e.g., TOTP, SMS, EMAIL)."},{"name":"secret_key","type":"string","nullable":false,"description":"Secret key or shared secret used for generating the 2FA tokens."},{"name":"enabled","type":"boolean","nullable":false,"description":"Flag indicating if 2FA is currently enabled for the user."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp of the 2FA record."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last updated timestamp of the 2FA record."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp to mark deactivated 2FA entries."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id"]}],"ginIndexes":[]},{"name":"easy_sign_role_assignments","description":"Manages user role assignments within the system, linking users to roles that define their permissions and access levels. Essential for role-based access control (RBAC).","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","nullable":false,"unique":false,"description":"Referenced user's {@link easy_sign_freelancerusers.id}.","relation":{"name":"user","targetModel":"easy_sign_freelancerusers"}},{"name":"role_id","type":"uuid","nullable":false,"unique":false,"description":"Referenced role's id.","relation":{"name":"role","targetModel":"easy_sign_role"}}],"plainFields":[{"name":"assigned_at","type":"datetime","description":"Timestamp when the role was assigned to the user.","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp of the record.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp of the record.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for role assignment record.","nullable":true}],"uniqueIndexes":[{"fieldNames":["user_id","role_id"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id"]},{"fieldNames":["role_id"]}],"ginIndexes":[]}]},{"filename":"schema-08-administration.prisma","namespace":"Administration","models":[{"name":"easy_sign_admin_logs","description":"Administrative logs capturing system admin user actions and operations for auditing and compliance. Enables tracking of privileged operations performed by system administrators, including login events, configuration changes, and critical management activities. Linked to admin users through foreign keys where applicable, with timestamps for creation, updates, and soft deletion ability if needed. These logs are read-only from the user perspective and support audit trail requirements.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"admin_user_id","type":"uuid","description":"Associated admin user's id. {@link easy_sign_admins.id}","relation":{"name":"adminUser","targetModel":"easy_sign_admins"},"unique":false,"nullable":false}],"plainFields":[{"name":"action_type","type":"string","description":"Type of admin action performed, e.g., LOGIN, UPDATE_CONFIG, USER_MANAGEMENT","nullable":false},{"name":"action_detail","type":"string","description":"Detailed description of the admin action","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the log entry was created","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the log entry was last updated","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if not deleted","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["admin_user_id","created_at"]}],"ginIndexes":[{"fieldName":"action_detail"}]},{"name":"easy_sign_system_audit_logs","description":"System-wide audit log recording all significant system events and changes for security and traceability. Includes events such as system startup, shutdown, configuration alterations, and automated tasks. Designed to support forensic analysis and compliance audits. These logs are append-only and read-only for users, with timestamps and soft deletion capability.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"event_type","type":"string","description":"Type of system event, e.g., SYSTEM_START, SYSTEM_STOP, CONFIG_CHANGE","nullable":false},{"name":"event_description","type":"string","description":"Detailed description of the system event","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the event was logged","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the event log was last updated","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if not deleted","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["event_type","created_at"]}],"ginIndexes":[{"fieldName":"event_description"}]}]}]}