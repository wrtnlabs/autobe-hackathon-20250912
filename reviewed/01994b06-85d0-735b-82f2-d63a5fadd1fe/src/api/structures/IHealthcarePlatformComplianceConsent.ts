import { tags } from "typia";

/**
 * Full compliance consent record as stored in the system. All fields correspond
 * to the healthcare_platform_compliance_consents table schema.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IHealthcarePlatformComplianceConsent = {
  /** Unique identifier for the compliance consent record (UUID format). */
  id: string;

  /** Organization to which this consent applies (UUID). */
  organization_id: string;

  /**
   * ID of the consenting subject (nullable, can refer to patient, staff, or
   * admin).
   */
  subject_id?: string | undefined;

  /** Version of the policy agreed to by the subject (UUID). */
  policy_version_id: string;

  /**
   * The kind of consent (e.g., privacy, treatment, research, data
   * processing).
   */
  consent_type: string;

  /** True if consent is currently granted, false if revoked. */
  granted: boolean;

  /** Timestamp when consent was granted (ISO 8601). */
  consent_at: string & tags.Format<"date-time">;

  /** Timestamp when consent was revoked (ISO 8601, nullable). */
  revoked_at?: (string & tags.Format<"date-time">) | undefined;

  /** Reason for revoking consent (if applicable, nullable). */
  revocation_reason?: string | undefined;

  /** Expiry time for consent, null if perpetual (ISO 8601). */
  expires_at?: (string & tags.Format<"date-time">) | undefined;

  /** Timestamp when the consent record was created. */
  created_at: string & tags.Format<"date-time">;

  /** Timestamp when the consent record was last updated. */
  updated_at: string & tags.Format<"date-time">;

  /** Soft deletion timestamp for compliance retention; null if active. */
  deleted_at?: (string & tags.Format<"date-time">) | undefined;
};
export namespace IHealthcarePlatformComplianceConsent {
  /**
   * Request shape for searching/filtering compliance consents. Supports
   * filtering by organization, subject, policy, consent type, status, and
   * dates.
   */
  export type IRequest = {
    /**
     * ID of the organization for which to filter compliance consents
     * (UUID).
     */
    organization_id?: string | undefined;

    /**
     * ID of the consenting subject (user/patient/staff) for filtering
     * (UUID).
     */
    subject_id?: string | undefined;

    /** ID of the specific policy version to filter by (UUID). */
    policy_version_id?: string | undefined;

    /**
     * Type/category of consent to filter (e.g., 'privacy', 'treatment',
     * 'research', etc.).
     */
    consent_type?: string | undefined;

    /** True to filter for granted consents, false for revoked. */
    granted?: boolean | undefined;

    /**
     * ISO 8601 timestamp when consent was (to be) granted. Used for
     * date-based filtering.
     */
    consent_at?: (string & tags.Format<"date-time">) | undefined;

    /**
     * ISO 8601 timestamp when consent was revoked, for filtering date
     * ranges.
     */
    revoked_at?: (string & tags.Format<"date-time">) | undefined;

    /**
     * ISO 8601 expiration timestamp filter; consents expiring before/after
     * this.
     */
    expires_at?: (string & tags.Format<"date-time">) | undefined;

    /** Pagination page number to retrieve. */
    page?: (number & tags.Type<"int32">) | undefined;

    /** Maximum number of items to return per page. */
    limit?: (number & tags.Type<"int32">) | undefined;

    /**
     * Sorting field and direction (e.g., 'consent_at:desc' or
     * 'granted:asc').
     */
    sort?: string | undefined;
  };

  /**
   * Payload for creating a new compliance consent record, as when a patient
   * grants or revokes consent at intake or policy update.
   */
  export type ICreate = {
    /** Organization issuing/requesting the consent (UUID format). */
    organization_id: string;

    /** ID of the user/patient/staff giving the consent (nullable). */
    subject_id?: string | undefined;

    /** Version of policy for consent (UUID format). */
    policy_version_id: string;

    /** Type/category of consent (privacy, treatment, research, etc.). */
    consent_type: string;

    /** True if subject is granting consent, false if revoking upon creation. */
    granted: boolean;

    /** Timestamp when consent was granted (ISO 8601 format). */
    consent_at: string & tags.Format<"date-time">;

    /** Optional expiration timestamp for time-limited consent (ISO 8601). */
    expires_at?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Payload for updating a compliance consent record (e.g., revocation,
   * expiration update, or audit update). All fields optional and only updated
   * if present.
   */
  export type IUpdate = {
    /** True if consent is (still) granted; false if revoked during update. */
    granted?: boolean | undefined;

    /** Timestamp when consent was revoked. Required when revoking consent. */
    revoked_at?: (string & tags.Format<"date-time">) | undefined;

    /** Reason for revocation of consent (required for audit when revoking). */
    revocation_reason?: string | undefined;

    /**
     * Optional: to set/update expiration window for the consent (ISO 8601
     * format).
     */
    expires_at?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Summary representation of a compliance consent entry, including
   * organization, subject, consent type, granted/revoked state, timestamps,
   * and audit metadata. Used for audit reporting, compliance dashboards, and
   * consent lifecycle management.
   */
  export type ISummary = {
    /** Unique identifier for the compliance consent record. */
    id: string & tags.Format<"uuid">;

    /** Reference ID for the organization associated with this consent. */
    organization_id: string & tags.Format<"uuid">;

    /**
     * UUID of consenting subject, can be a patient, staff member, or other
     * PHI-holding entity.
     */
    subject_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * The specific compliance policy version under which this consent was
     * recorded.
     */
    policy_version_id: string & tags.Format<"uuid">;

    /** Category of consent (e.g., privacy, treatment, research, data use). */
    consent_type: string;

    /**
     * Boolean indicating whether consent is currently granted (true) or
     * revoked (false).
     */
    granted: boolean;

    /** Timestamp when consent was granted. */
    consent_at: string & tags.Format<"date-time">;

    /** Timestamp when consent was revoked, if revocation occurred. */
    revoked_at?: (string & tags.Format<"date-time">) | null | undefined;

    /** Business/case reason for consent revocation. */
    revocation_reason?: string | null | undefined;

    /** Timestamp when consent expires, if the consent is time-bound. */
    expires_at?: (string & tags.Format<"date-time">) | null | undefined;

    /** Record creation timestamp (for audit/compliance). */
    created_at: string & tags.Format<"date-time">;

    /** Timestamp of last update (audit field). */
    updated_at: string & tags.Format<"date-time">;

    /**
     * Soft delete timestamp for compliance records. If set, record is
     * retained for audit purposes.
     */
    deleted_at?: (string & tags.Format<"date-time">) | null | undefined;
  };
}
