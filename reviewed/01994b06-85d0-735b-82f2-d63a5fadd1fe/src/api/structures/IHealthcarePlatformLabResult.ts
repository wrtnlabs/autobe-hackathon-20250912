import { tags } from "typia";

/**
 * Lab result record representing the outcome of a diagnostic test or panel, as
 * stored in the healthcare_platform_lab_results table. Contains full context
 * for clinical workflow, audit, compliance, and analytics. All references to
 * external entities (EHR encounter, lab integration) are defined as UUIDs.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IHealthcarePlatformLabResult = {
  /**
   * Unique identifier for the lab result. Value is a UUID, used as the
   * primary key for the record.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Reference to the specific EHR encounter to which this laboratory result
   * belongs. Foreign key to the `healthcare_platform_ehr_encounters.id`
   * column.
   */
  ehr_encounter_id: string & tags.Format<"uuid">;

  /**
   * Reference to the laboratory integration configuration that provided this
   * result. Foreign key to `healthcare_platform_lab_integrations.id`.
   */
  lab_integration_id: string & tags.Format<"uuid">;

  /**
   * Name of the specific laboratory test or panel performed (e.g., 'CBC',
   * 'SARS-CoV-2 PCR', 'Lipid Panel').
   */
  test_name: string;

  /**
   * Serialized JSON containing the raw result values (may include
   * measurements, reference ranges, and reference codes). The structure
   * depends on the panel/test.
   */
  test_result_value_json: string;

  /**
   * Clinical interpretation flag for this result (e.g., 'normal', 'abnormal',
   * 'critical', 'corrected'). Used for workflow, notification, and alerting.
   */
  result_flag: string;

  /**
   * ISO 8601 timestamp when this result was officially resulted/reported into
   * the system.
   */
  resulted_at: string & tags.Format<"date-time">;

  /**
   * Status of the lab result (e.g., 'pending', 'completed', 'revised',
   * 'cancelled'). See business documentation for allowed status values.
   */
  status: string;

  /**
   * Timestamp when the lab result record was created in the platform, for
   * auditing and workflow.
   */
  created_at: string & tags.Format<"date-time">;
};
export namespace IHealthcarePlatformLabResult {
  /**
   * Advanced search/filter schema for querying laboratory results. Used to
   * support paginated, filtered, and sorted queries in EHR/lab reporting
   * modules, clinical workflows, and compliance audit. All fields are
   * optional, allowing flexible search across encounters, labs, time windows,
   * and clinical/statistical flags.
   */
  export type IRequest = {
    /**
     * Optional filter: EHR encounter UUID to constrain results to a
     * specific visit/event.
     */
    ehr_encounter_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional filter: Lab integration ID to filter results from a specific
     * lab connector.
     */
    lab_integration_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional, test name filter (partial match) to narrow to specific test
     * panels or markers.
     */
    test_name?: string | null | undefined;

    /**
     * Optional, clinical flag status to show
     * normal/abnormal/critical/corrected/etc.
     */
    result_flag?: string | null | undefined;

    /**
     * Optional, processing status (pending, completed, revised, cancelled,
     * etc.).
     */
    status?: string | null | undefined;

    /** Optional, lower bound (ISO 8601) for lab result time range search. */
    resulted_at_from?: (string & tags.Format<"date-time">) | null | undefined;

    /** Optional, upper bound for when lab result was finalized. */
    resulted_at_to?: (string & tags.Format<"date-time">) | null | undefined;

    /** Optional, lower bound on creation timestamp for the import event. */
    created_at_from?: (string & tags.Format<"date-time">) | null | undefined;

    /** Optional, upper bound on creation timestamp. */
    created_at_to?: (string & tags.Format<"date-time">) | null | undefined;

    /** Pagination, result page number (defaults to 1 if absent). */
    page?: (number & tags.Type<"int32">) | null | undefined;

    /**
     * Pagination, results per page (defaults to 20/100 by platform
     * convention).
     */
    pageSize?: (number & tags.Type<"int32">) | null | undefined;

    /** Sort order specifier, e.g., 'resulted_at desc', 'test_name asc'. */
    sort?: string | null | undefined;
  };

  /**
   * Request body for creation of a laboratory result record, used in POST
   * endpoints for diagnostic results. All fields except 'id' and 'created_at'
   * are required from the client; these fields are generated by the system.
   */
  export type ICreate = {
    /** Reference to the EHR encounter related to this result. */
    ehr_encounter_id: string & tags.Format<"uuid">;

    /** Reference to the laboratory integration. */
    lab_integration_id: string & tags.Format<"uuid">;

    /** Name of the test or panel performed. */
    test_name: string;

    /** Serialized JSON with the raw result values for this test instance. */
    test_result_value_json: string;

    /**
     * Clinical interpretation of the result (e.g., 'normal', 'abnormal',
     * 'critical', 'corrected').
     */
    result_flag: string;

    /** Date and time the result was officially entered or reported. */
    resulted_at: string & tags.Format<"date-time">;

    /**
     * Workflow status, e.g. 'pending', 'completed', 'revised', or
     * 'cancelled'.
     */
    status: string;
  };

  /**
   * Update body for an existing laboratory result record. Only supply fields
   * that require modification. Mutable fields are test_name,
   * test_result_value_json, result_flag, resulted_at, and status.
   */
  export type IUpdate = {
    /** (Optional) Name of the test or panel. Use for correction if needed. */
    test_name?: string | undefined;

    /** (Optional) Updated serialized JSON with result values. */
    test_result_value_json?: string | undefined;

    /** (Optional) Updated clinical flag (e.g., after correction or review). */
    result_flag?: string | undefined;

    /** (Optional) Updated timestamp for when the result was reported. */
    resulted_at?: (string & tags.Format<"date-time">) | undefined;

    /** (Optional) Updated workflow status for the lab result. */
    status?: string | undefined;
  };

  /**
   * Summary/digest view of laboratory results: used for paginated results or
   * list displays; excludes raw measurement payload and other verbose
   * fields.
   */
  export type ISummary = {
    /** Lab result unique ID. */
    id: string & tags.Format<"uuid">;

    /** Context EHR encounter. */
    ehr_encounter_id: string & tags.Format<"uuid">;

    /** Test or panel name. */
    test_name: string;

    /** Clinical flag (e.g., normal/abnormal/critical). */
    result_flag: string;

    /** Time when result finalized. */
    resulted_at: string & tags.Format<"date-time">;

    /** Lab result workflow status. */
    status: string;
  };
}
