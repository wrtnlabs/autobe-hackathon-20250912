import { tags } from "typia";

import { EMoodType } from "./EMoodType";

/**
 * Represents a single mood diary entry, as stored in the database and returned
 * by the API. Each entry is immutable, records which mood the user selected
 * (from a fixed 8-value set), an optional note (unicode, up to 500 chars), the
 * timestamp of creation (auto-set UTC/ISO8601), and whether the entry is
 * archived (older than 30 days, fully hidden from all lists/summaries). Entries
 * are always linked to the logical diary user (single-user scenario) by foreign
 * key mood_diary_diaryuser_id. All fields are defined in the Prisma schema and
 * no properties can be omitted.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IMoodDiaryMoodEntry = {
  /**
   * Unique identifier for this mood diary entry. Populated upon creation;
   * never user-provided. Matches the id column in mood_diary_mood_entries
   * table.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Foreign key reference to the logical diary user entity. Always present
   * (single-user app, but designed for future proofing). Corresponds to
   * mood_diary_diaryusers.id.
   */
  mood_diary_diaryuser_id: string & tags.Format<"uuid">;

  /**
   * Mood selected for this entry. Must be one of: happy, sad, anxious,
   * excited, angry, calm, stressed, tired. Enforced via enum at type and
   * application level.
   */
  mood_type: EMoodType;

  /**
   * Optional freeform mood note, up to 500 Unicode characters, may be blank
   * or omitted. Populated if user added a text note for this mood entry.
   */
  note?: string | null | undefined;

  /**
   * Timestamp at which the entry was created (ISO 8601 UTC, auto-set by
   * system, never user-provided). Used for all sorting, listing, archiving.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * If true, entry is archived (older than 30 days, business logic enforced);
   * if false, entry is active and visible. User never edits or sets this
   * property; system-controlled.
   */
  archived: boolean;
};
export namespace IMoodDiaryMoodEntry {
  /**
   * Request body schema for listing/searching mood diary entries. Allows
   * pagination, filtering by date, mood_type, full-text search, and sort
   * specification. Used in PATCH /moodDiary/diaryUser/moodEntries.
   */
  export type IRequest = {
    /** Which page to retrieve (optional, 1-based indexing). */
    page?: (number & tags.Type<"int32">) | null | undefined;

    /** Maximum number of results per page (optional, enforced server-side). */
    limit?: (number & tags.Type<"int32">) | null | undefined;

    /**
     * Optional ISO8601 lower-bound filter for created_at (entries after or
     * equal to this datetime).
     */
    from_date?: (string & tags.Format<"date-time">) | null | undefined;

    /**
     * Optional ISO8601 upper-bound filter for created_at (entries before or
     * equal to this datetime).
     */
    to_date?: (string & tags.Format<"date-time">) | null | undefined;

    /** Restrict results to a single mood type (optional). */
    mood_type?: EMoodType | null | undefined;

    /**
     * Full-text search over note content (optional,
     * accent/emoji/Unicode-aware).
     */
    search?: string | null | undefined;

    /** Sort field, only valid value in current API is 'created_at'. */
    sort_by?: "created_at" | null | undefined;

    /**
     * Sort direction: 'asc' (oldest first) or 'desc' (newest first).
     * Default is descending for reverse chronological listing.
     */
    sort_dir?: "asc" | "desc" | null | undefined;
  };

  /**
   * Creation payload for a new mood diary entry. Only includes properties
   * user may declare: mood_type and note. ID and timestamps are set
   * system-side, and archived is always false for new entries. Prisma schema
   * and all business logic strictly enforced. Mood type must be valid enum
   * value. Note is optional, but if supplied, must be a string â‰¤ 500 Unicode
   * chars. No extra properties permitted.
   */
  export type ICreate = {
    /**
     * Mood type for the new entry. Required. Must be exactly one of the 8
     * allowed values, or entry is rejected.
     */
    mood_type: EMoodType;

    /**
     * Optional note content associated with the mood entry, up to 500
     * Unicode chars. May be blank or omitted. Emojis/symbols accepted.
     */
    note?: string | null | undefined;
  };
}
