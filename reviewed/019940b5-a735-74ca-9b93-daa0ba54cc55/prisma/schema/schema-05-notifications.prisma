/// Records notifications generated by system and users related to event
/// registration activities. Includes registrations, waitlist promotions,
/// capacity changes, and other system or user-targeted notifications.
/// Supports soft deletion and timestamps for audit trail. References the
/// user who receives or triggers the notification, if applicable.
///
/// @namespace Notifications
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model event_registration_notifications {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Belonged user's {@link event_registration_regular_users.id} who receives
  /// or triggers the notification. Nullable because some notifications may be
  /// system-wide.
  user_id String?
  
  /// Type of notification, e.g., registration confirmation, waitlist
  /// promotion, event schedule change, capacity adjustment.
  type String
  
  /// Detailed notification content describing the event or action.
  content String
  
  /// Flag indicating whether the notification has been read by the user.
  read Boolean
  
  /// Timestamp when the notification was created.
  created_at DateTime
  
  /// Timestamp when the notification was last updated.
  updated_at DateTime
  
  /// Timestamp when the notification was soft deleted; null if not deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  user event_registration_regular_users? @relation(fields: [user_id], references: [id], onDelete: Cascade)
  
  @@index([user_id, created_at])
}