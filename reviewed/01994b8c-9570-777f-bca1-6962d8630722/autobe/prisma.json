{"files":[{"filename":"schema-01-identity.prisma","namespace":"Identity","models":[{"name":"subscription_renewal_guardian_user","description":"User accounts representing authenticated individuals who can manage their own subscriptions, vendors, and reminder settings. Includes secure authentication fields such as email and password hash. Primary key is UUID `id`. Contains audit timestamps for creation and updates.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"User's unique email address used for login and identification."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure authentication."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the user account was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the user account was last updated."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"subscription_renewal_guardian_admin","description":"Administrator accounts with read-only access to all usersâ€™ subscription data. Includes login credentials and audit timestamps. Primary key is UUID `id`. Email must be unique across admins.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Administrator's unique email address."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for admin authentication."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the admin account was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the admin account was last updated."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"subscription_renewal_guardian_guest","description":"Guest users are unauthenticated visitors who can register and login. This table tracks guest registration attempts or temporary data as needed. Primary key is UUID `id`. Created and updated timestamps for record maintenance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Guest user's email address for registration or identification."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the guest record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the guest record was last updated."}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-02-vendors.prisma","namespace":"Vendors","models":[{"name":"subscription_renewal_guardian_vendors","description":"Represents vendors providing subscription services such as Netflix or Spotify. Vendors are unique by name and serve as core entities referenced by user subscriptions. This table stores vendor details with creation and update timestamps and supports soft deletion.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"Unique name of the vendor representing subscription service provider."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp in UTC."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp in UTC."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp indicating soft deletion of the record; null if active."}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-03-subscriptions.prisma","namespace":"Subscriptions","models":[{"name":"subscription_renewal_guardian_subscriptions","description":"Stores user subscriptions with details about vendor, plan, billing cycle, financials, status, and renewal scheduling. This model represents primary user-managed subscriptions with lifecycle status transitions: ACTIVE, PAUSED, and CANCELED. It references users and vendors, enabling tracking and notification of upcoming renewals.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Belonged user's {@link subscription_renewal_guardian_user.id}.","relation":{"name":"user","targetModel":"subscription_renewal_guardian_user"},"unique":false,"nullable":false},{"name":"vendor_id","type":"uuid","description":"Subscribed vendor's {@link subscription_renewal_guardian_vendors.id}.","relation":{"name":"vendor","targetModel":"subscription_renewal_guardian_vendors"},"unique":false,"nullable":false}],"plainFields":[{"name":"plan_name","type":"string","description":"Name of the subscription plan. Unique per user and vendor.","nullable":false},{"name":"billing_cycle","type":"string","description":"Billing cycle interval. Allowed values: DAILY, WEEKLY, MONTHLY, YEARLY.","nullable":false},{"name":"amount","type":"double","description":"Subscription amount, must be >= 0.","nullable":false},{"name":"currency","type":"string","description":"Currency code following ISO 4217 3-letter uppercase format.","nullable":false},{"name":"started_at","type":"datetime","description":"Subscription start date in UTC ISO 8601 format.","nullable":false},{"name":"next_renewal_at","type":"datetime","description":"Next scheduled renewal date in UTC ISO 8601 format. Calculated by advancing started_at by billing cycle intervals until strictly greater than current time.","nullable":false},{"name":"status","type":"string","description":"Subscription status. Allowed values: ACTIVE, PAUSED, CANCELED.","nullable":false},{"name":"notes","type":"string","description":"Optional notes about the subscription.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp in UTC ISO 8601 format.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp in UTC ISO 8601 format.","nullable":false}],"uniqueIndexes":[{"fieldNames":["user_id","vendor_id","plan_name"],"unique":true}],"plainIndexes":[{"fieldNames":["status","next_renewal_at"]},{"fieldNames":["user_id","next_renewal_at"]}],"ginIndexes":[{"fieldName":"plan_name"}]}]},{"filename":"schema-04-reminders.prisma","namespace":"Reminders","models":[{"name":"subscription_renewal_guardian_reminder_settings","description":"Reminder settings attached to subscriptions for renewal notifications. Each setting defines how many days before renewal to notify and via which channel. Uniqueness enforced on subscription and days_before. Supports created_at, updated_at, and soft delete timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"subscription_id","type":"uuid","description":"Referenced subscription's {@link subscription_renewal_guardian_subscriptions.id}.","relation":{"name":"subscription","targetModel":"subscription_renewal_guardian_subscriptions"},"unique":false,"nullable":false}],"plainFields":[{"name":"days_before","type":"int","description":"Number of days before the subscription renewal to send the reminder. Allowed values are 7, 3, or 1.","nullable":false},{"name":"channel","type":"string","description":"Communication channel for reminders. Allowed values are 'EMAIL' or 'NONE'.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the reminder setting was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the reminder setting was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the reminder setting was soft deleted. Null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["subscription_id","days_before"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]}]}]}