{"files":[{"filename":"schema-01-identity.prisma","namespace":"Identity","models":[{"name":"recipe_sharing_regularusers","description":"Stores data for regular users of the recipe sharing platform. Includes identity, authentication details, and timestamps. Used for login and role-based access. No direct foreign keys. Supports soft deletion and audit timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"User's unique email address used for login and communication."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for user authentication. Stored securely, never plain text."},{"name":"username","type":"string","nullable":false,"description":"Unique username chosen by the user for platform identification."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the user account was soft deleted, if applicable."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_premiumusers","description":"Stores data for premium users with enhanced access to advanced meal planning and cost tracking features. Extends regular user data with premium account flags and timestamps, supporting authentication and soft deletion.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Premium user's unique email address for login and communication."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication. Stored securely."},{"name":"username","type":"string","nullable":false,"description":"Unique username for premium user identification."},{"name":"premium_since","type":"datetime","nullable":false,"description":"Timestamp marking when the user became premium. Used to track subscription duration."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the premium user record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the premium user record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft deletion of premium user account."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_moderators","description":"Stores moderator user data responsible for content moderation, flag reviews, and category approvals. Identity and authentication details with audit timestamps and soft delete support.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Moderator's unique email address used for login."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication."},{"name":"username","type":"string","nullable":false,"description":"Unique username for moderator identification."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp for last update."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft deletion timestamp if applicable."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-02-recipes.prisma","namespace":"Recipes","models":[{"name":"recipe_sharing_recipes","description":"Stores user-created recipes including basic details, status, and timestamps. Related to users through existing tables and linked to categories and tags. Supports soft delete for recovery.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"created_by_id","type":"uuid","description":"Belonged user's {@link recipe_sharing_regularusers.id}.","relation":{"name":"createdBy","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Unique recipe title per user.","nullable":false},{"name":"description","type":"string","description":"Detailed description of the recipe.","nullable":true},{"name":"status","type":"string","description":"Current workflow status of the recipe (e.g., draft, published).","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp for soft deletion.","nullable":true}],"uniqueIndexes":[{"fieldNames":["created_by_id","title"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"title"}]},{"name":"recipe_sharing_ingredients","description":"Master list of ingredients used in recipes, including optional brand information and timestamps for audit.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Name of the ingredient.","nullable":false},{"name":"brand","type":"string","description":"Optional brand information for the ingredient.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_nutrition_facts","description":"Detailed nutritional information associated with ingredients or recipes. Supports calories, macros, fiber, sodium, sugar, vitamins, and minerals.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ingredient_id","type":"uuid","description":"Linked ingredient {@link recipe_sharing_ingredients.id}.","relation":{"name":"ingredient","targetModel":"recipe_sharing_ingredients"},"unique":false,"nullable":false}],"plainFields":[{"name":"calories","type":"double","description":"Calories per serving or unit.","nullable":false},{"name":"protein","type":"double","description":"Protein content in grams.","nullable":false},{"name":"carbohydrates","type":"double","description":"Carbohydrates in grams.","nullable":false},{"name":"fat","type":"double","description":"Fat content in grams.","nullable":false},{"name":"fiber","type":"double","description":"Fiber content in grams.","nullable":false},{"name":"sodium","type":"double","description":"Sodium content in milligrams.","nullable":false},{"name":"sugar","type":"double","description":"Sugar content in grams.","nullable":false},{"name":"vitamin_a","type":"double","description":"Vitamin A content in micrograms.","nullable":true},{"name":"vitamin_c","type":"double","description":"Vitamin C content in milligrams.","nullable":true},{"name":"vitamin_d","type":"double","description":"Vitamin D content in micrograms.","nullable":true},{"name":"iron","type":"double","description":"Iron content in milligrams.","nullable":true},{"name":"calcium","type":"double","description":"Calcium content in milligrams.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_ingredient_substitutions","description":"Supports ingredient substitutions with conversion ratios. Allows 3-5 substitutes per ingredient, tracks audit timestamps, and status for moderation.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ingredient_id","type":"uuid","description":"Original ingredient {@link recipe_sharing_ingredients.id}.","relation":{"name":"ingredient","targetModel":"recipe_sharing_ingredients","mappingName":"recipe_sharing_ingredient_substitutions_of_ingredient_id"},"unique":false,"nullable":false},{"name":"substitute_ingredient_id","type":"uuid","description":"Ingredient substitute {@link recipe_sharing_ingredients.id}.","relation":{"name":"substituteIngredient","targetModel":"recipe_sharing_ingredients","mappingName":"recipe_sharing_ingredient_substitutions_of_substitute__0365da32"},"unique":false,"nullable":false}],"plainFields":[{"name":"conversion_ratio","type":"double","description":"Conversion ratio from original to substitute ingredient.","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"status","type":"string","description":"Moderation status of substitution (e.g., pending, approved, rejected).","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["ingredient_id","substitute_ingredient_id"]}],"ginIndexes":[]},{"name":"recipe_sharing_recipe_categories","description":"Predefined recipe categories such as cuisine, diet, and difficulty levels. Managed for tagging recipes appropriately.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"category_type","type":"string","description":"Type of category (e.g., cuisine, diet, difficulty).","nullable":false},{"name":"name","type":"string","description":"Category name.","nullable":false},{"name":"description","type":"string","description":"Detailed description of the category.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["category_type","name"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"}]},{"name":"recipe_sharing_tags","description":"Master tag list used for categorizing or labeling recipes. Tags may be user or system generated.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Tag name for labeling recipes.","nullable":false},{"name":"description","type":"string","description":"Optional description of the tag.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_user_tags","description":"User suggested tags pending moderator approval for public use. Supports audit information and moderation status.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Submitting user {@link recipe_sharing_regularusers.id}.","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false},{"name":"tag_id","type":"uuid","description":"Referenced approved tag {@link recipe_sharing_tags.id}.","relation":{"name":"tag","targetModel":"recipe_sharing_tags"},"unique":false,"nullable":true}],"plainFields":[{"name":"suggested_name","type":"string","description":"Suggested tag name by user.","nullable":false},{"name":"status","type":"string","description":"Moderation status (pending, approved, rejected).","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_ingredient_search_terms","description":"Search terms for ingredients to facilitate ingredient-based search and partial matching.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"ingredient_id","type":"uuid","description":"Linked ingredient {@link recipe_sharing_ingredients.id}.","relation":{"name":"ingredient","targetModel":"recipe_sharing_ingredients"},"unique":false,"nullable":false}],"plainFields":[{"name":"search_term","type":"string","description":"Search term variant for the ingredient to support partial and fuzzy matching.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[],"ginIndexes":[{"fieldName":"search_term"}]}]},{"filename":"schema-03-social.prisma","namespace":"Social","models":[{"name":"recipe_sharing_user_followers","description":"Table representing user following relationships in the Recipe Sharing platform social domain. Each record denotes a follower-followee connection between two users. This model references existing user tables for follower and followee identities. Supports soft delete and auditing with timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"follower_user_id","type":"uuid","description":"ID of the user who is the follower. References recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id or recipe_sharing_moderators.id.","relation":{"name":"followerUser","targetModel":"recipe_sharing_regularusers","mappingName":"recipe_sharing_user_followers_of_follower_user_id"},"unique":false,"nullable":false},{"name":"followee_user_id","type":"uuid","description":"ID of the user being followed. References recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id or recipe_sharing_moderators.id.","relation":{"name":"followeeUser","targetModel":"recipe_sharing_regularusers","mappingName":"recipe_sharing_user_followers_of_followee_user_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the following relationship was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the following relationship was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp indicating soft deletion of the following relationship.","nullable":true}],"uniqueIndexes":[{"fieldNames":["follower_user_id","followee_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","followee_user_id"]}],"ginIndexes":[]},{"name":"recipe_sharing_personalized_feeds","description":"Stores personalized feed entries for users in the Recipe Sharing platform. This table contains references to the user, recipe, and originator of the recipe (usually the recipe creator), enabling dynamic feed content delivery. Timestamps support feed generation and maintenance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"ID of the user owning the personalized feed entry. References recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id.","relation":{"name":"user","targetModel":"recipe_sharing_regularusers","mappingName":"recipe_sharing_personalized_feeds_of_user_id"},"unique":false,"nullable":false},{"name":"recipe_id","type":"uuid","description":"ID of the recipe shown in the personalized feed. References recipe_sharing_recipes.id.","relation":{"name":"recipe","targetModel":"recipe_sharing_recipes"},"unique":false,"nullable":false},{"name":"originator_user_id","type":"uuid","description":"ID of the user who created the recipe shown in the feed. References recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id.","relation":{"name":"originatorUser","targetModel":"recipe_sharing_regularusers","mappingName":"recipe_sharing_personalized_feeds_of_originator_user_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the feed entry was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the feed entry was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["user_id","recipe_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","user_id"]}],"ginIndexes":[]}]},{"filename":"schema-04-ratingsreviews.prisma","namespace":"RatingsReviews","models":[{"name":"recipe_sharing_ratings","description":"Stores user ratings for recipes. Each rating is uniquely identified by user and recipe combination to prevent duplicate ratings. Ratings use a 5-star scale. Tracks creation and update timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_user_id","type":"uuid","description":"Belonged user's recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false},{"name":"recipe_sharing_recipe_id","type":"uuid","description":"Belonged recipe's recipe_sharing_recipes.id","relation":{"name":"recipe","targetModel":"recipe_sharing_recipes"},"unique":false,"nullable":false}],"plainFields":[{"name":"rating","type":"int","nullable":false,"description":"Star rating from 1 to 5."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the rating was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the rating was last updated."}],"uniqueIndexes":[{"fieldNames":["recipe_sharing_user_id","recipe_sharing_recipe_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"recipe_sharing_reviews","description":"Captures detailed text reviews submitted by users for recipes. Review text supports up to 2000 characters. Allows edits and soft deletes. Linked to the authoring user and the reviewed recipe.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_user_id","type":"uuid","description":"Authoring user, can be regular or premium recipe_sharing_regularusers.id","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false},{"name":"recipe_sharing_recipe_id","type":"uuid","description":"Reviewed recipe's recipe_sharing_recipes.id","relation":{"name":"recipe","targetModel":"recipe_sharing_recipes"},"unique":false,"nullable":false}],"plainFields":[{"name":"review_text","type":"string","nullable":false,"description":"Detailed review text up to 2000 characters."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the review was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the review was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp for reviews removed by users or moderators."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"review_text"}]},{"name":"recipe_sharing_review_votes","description":"Submissions of helpfulness votes on reviews by users. Each user can vote once per review and can change their vote. Votes are binary: helpful or not helpful.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_user_id","type":"uuid","description":"Voting user from recipe_sharing_regularusers.id","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false},{"name":"recipe_sharing_review_id","type":"uuid","description":"Targeted review recipe_sharing_reviews.id","relation":{"name":"review","targetModel":"recipe_sharing_reviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"helpful","type":"boolean","nullable":false,"description":"Whether the vote marks the review as helpful or not."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the vote was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the vote was last updated."}],"uniqueIndexes":[{"fieldNames":["recipe_sharing_user_id","recipe_sharing_review_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"recipe_sharing_review_flags","description":"Flags raised by users on reviews for inappropriate content. Each flag records the user who flagged, the review flagged, the reason, and timestamp. Facilitates moderation queues.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_user_id","type":"uuid","description":"User who flagged the review recipe_sharing_regularusers.id","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false},{"name":"recipe_sharing_review_id","type":"uuid","description":"Flagged review recipe_sharing_reviews.id","relation":{"name":"review","targetModel":"recipe_sharing_reviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"reason","type":"string","nullable":false,"description":"Reason selected by the user for flagging (e.g., spam, offensive language)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the flag was created."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"recipe_sharing_moderation_logs","description":"Audit trail logging all moderation actions taken on flagged reviews, including hides, unhides, moderator identity, timestamp, and comments. Essential for compliance and transparency.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_review_id","type":"uuid","description":"Reviewed flagged content recipe_sharing_reviews.id","relation":{"name":"review","targetModel":"recipe_sharing_reviews"},"unique":false,"nullable":false},{"name":"recipe_sharing_moderator_id","type":"uuid","description":"Moderator who performed action recipe_sharing_moderators.id","relation":{"name":"moderator","targetModel":"recipe_sharing_moderators"},"unique":false,"nullable":false}],"plainFields":[{"name":"action","type":"string","nullable":false,"description":"Moderation action taken (e.g., hide, unhide)."},{"name":"comment","type":"string","nullable":true,"description":"Optional comment explaining the moderation decision."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when moderation action was logged."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[]}]},{"filename":"schema-05-mealplanningcollections.prisma","namespace":"MealPlanningCollections","models":[{"name":"recipe_sharing_collections","description":"User-created collections to organize and categorize recipes. Collections belong to a user (owner_user_id), support soft deletion, and temporal auditing fields.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"owner_user_id","type":"uuid","description":"Owning user ID referencing recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id.","relation":{"name":"ownerUser","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Name of the collection for display and organization.","nullable":false},{"name":"description","type":"string","description":"Optional textual description of the collection.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["owner_user_id","name"],"unique":true}],"plainIndexes":[{"fieldNames":["owner_user_id","created_at"]}],"ginIndexes":[]},{"name":"recipe_sharing_meal_plans","description":"User-managed meal plans scheduling recipes to dates and meals. Owned by users, supporting soft deletion, temporal fields, and optional description.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"owner_user_id","type":"uuid","description":"Owning user ID referencing recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id.","relation":{"name":"ownerUser","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Name of the meal plan for identification.","nullable":false},{"name":"description","type":"string","description":"Optional description of the meal plan.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["owner_user_id","name"],"unique":true}],"plainIndexes":[{"fieldNames":["owner_user_id","created_at"]}],"ginIndexes":[]},{"name":"recipe_sharing_meal_plan_entries","description":"Entries of specific recipes assigned to meal plans at particular dates and meal slots. Entries belong to one meal plan and recipe. Supports quantity and soft deletion with timestamps.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"meal_plan_id","type":"uuid","description":"References the associated meal plan. {@link recipe_sharing_meal_plans.id}","relation":{"name":"mealPlan","targetModel":"recipe_sharing_meal_plans"},"unique":false,"nullable":false},{"name":"recipe_id","type":"uuid","description":"Assigned recipe reference. {@link recipe_sharing_recipes.id}","relation":{"name":"recipe","targetModel":"recipe_sharing_recipes"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","description":"Number of servings or repetitions for this entry.","nullable":false},{"name":"planned_date","type":"datetime","description":"The date this recipe is planned for.","nullable":false},{"name":"meal_slot","type":"string","description":"Designation of meal slot (e.g., breakfast, lunch, dinner).","nullable":false},{"name":"created_at","type":"datetime","description":"Entry creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["meal_plan_id","recipe_id","planned_date","meal_slot"],"unique":true}],"plainIndexes":[{"fieldNames":["meal_plan_id","planned_date"]}],"ginIndexes":[]},{"name":"recipe_sharing_recurring_meal_plans","description":"Configurations for recurring meal plans allowing repeated scheduling. Owned by users with recurrence pattern and active periods. Supports soft delete and temporal auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"owner_user_id","type":"uuid","description":"Owning user ID referencing recipe_sharing_regularusers.id or recipe_sharing_premiumusers.id.","relation":{"name":"ownerUser","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Name of the recurring meal plan.","nullable":false},{"name":"description","type":"string","description":"Optional textual description.","nullable":true},{"name":"recurrence_pattern","type":"string","description":"Recurrence schedule pattern such as 'weekly', 'biweekly', or 'monthly'.","nullable":false},{"name":"start_date","type":"datetime","description":"Start date of the recurrence.","nullable":false},{"name":"end_date","type":"datetime","description":"End date of the recurrence; null if ongoing indefinitely.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["owner_user_id","name"],"unique":true}],"plainIndexes":[{"fieldNames":["owner_user_id","start_date"]}],"ginIndexes":[]}]},{"filename":"schema-06-shoppinglistscosttracking.prisma","namespace":"ShoppingListsCostTracking","models":[{"name":"recipe_sharing_shopping_lists","description":"Shopping lists created by users for meal planning and grocery shopping, linking to the owning user and containing multiple items. Supports soft deletion and audit timestamps for lifecycle management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"Owning user who created the shopping list. {@link recipe_sharing_regularusers.id}","relation":{"name":"user","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"User-defined name of the shopping list.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the shopping list was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last update to the shopping list.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp; null if active.","nullable":true}],"uniqueIndexes":[{"fieldNames":["user_id","name"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","user_id"]}],"ginIndexes":[]},{"name":"recipe_sharing_shopping_list_items","description":"Items included in a shopping list, typically representing ingredients and quantities needed. Managed as subsidiary to shopping lists for CRUD consistency.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_list_id","type":"uuid","description":"Parent shopping list. {@link recipe_sharing_shopping_lists.id}","relation":{"name":"shoppingList","targetModel":"recipe_sharing_shopping_lists"},"unique":false,"nullable":false},{"name":"ingredient_id","type":"uuid","description":"Referenced ingredient. {@link recipe_sharing_ingredients.id}","relation":{"name":"ingredient","targetModel":"recipe_sharing_ingredients"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"double","description":"Quantity of the ingredient to purchase.","nullable":false},{"name":"unit","type":"string","description":"Unit of measure for the quantity, e.g., grams, cups.","nullable":false},{"name":"notes","type":"string","description":"Optional notes such as brand preference or substitution hints.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the item was added to the shopping list.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the item was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["ingredient_id"]}],"ginIndexes":[]},{"name":"recipe_sharing_grocery_stores","description":"Grocery stores where ingredient prices and availability are tracked. Maintains store contact and web information for integration.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Store name.","nullable":false},{"name":"address","type":"string","description":"Physical address of the grocery store.","nullable":true},{"name":"phone","type":"string","description":"Contact phone number for the store.","nullable":true},{"name":"website_url","type":"uri","description":"Store website URL.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"recipe_sharing_store_ingredient_prices","description":"Price and availability information of ingredients at specific grocery stores. Supports audit timestamps for tracking updates.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"grocery_store_id","type":"uuid","description":"Referenced grocery store. {@link recipe_sharing_grocery_stores.id}","relation":{"name":"groceryStore","targetModel":"recipe_sharing_grocery_stores"},"unique":false,"nullable":false},{"name":"ingredient_id","type":"uuid","description":"Referenced ingredient. {@link recipe_sharing_ingredients.id}","relation":{"name":"ingredient","targetModel":"recipe_sharing_ingredients"},"unique":false,"nullable":false}],"plainFields":[{"name":"price","type":"double","description":"Price of ingredient at the store in local currency.","nullable":false},{"name":"available","type":"boolean","description":"Availability status of the ingredient at the store.","nullable":false},{"name":"last_updated","type":"datetime","description":"Timestamp of last price and availability update.","nullable":false},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record last update timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["grocery_store_id","ingredient_id"],"unique":true}],"plainIndexes":[{"fieldNames":["available"]}],"ginIndexes":[]},{"name":"recipe_sharing_price_update_logs","description":"Historical logs of ingredient price changes at grocery stores for audit and trend analysis. Append-only with timestamped entries.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"store_ingredient_price_id","type":"uuid","description":"Referenced price record. {@link recipe_sharing_store_ingredient_prices.id}","relation":{"name":"storeIngredientPrice","targetModel":"recipe_sharing_store_ingredient_prices"},"unique":false,"nullable":false}],"plainFields":[{"name":"price_before","type":"double","description":"Previous price before update.","nullable":false},{"name":"price_after","type":"double","description":"New price after update.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of price update.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["updated_at"]}],"ginIndexes":[]}]},{"filename":"schema-07-systematicconfig.prisma","namespace":"SystematicConfig","models":[{"name":"recipe_sharing_recipe_categories_config","description":"Represents predefined recipe category configurations used for tagging and classification in the recipe sharing platform. Enables structured cuisine-type categorization such as Italian, Mexican, Asian, and supports hierarchical grouping for easy management and user selection.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifier for the recipe category."},{"name":"name","type":"string","nullable":false,"description":"Human-readable name of the recipe category."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the recipe category."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"}]},{"name":"recipe_sharing_diet_categories","description":"Defines dietary preference categories such as vegan, keto, gluten-free, and paleo. This table supports classification of recipes and user dietary preferences for filtering and substitution prioritization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code for the diet category."},{"name":"name","type":"string","nullable":false,"description":"Name of the diet category."},{"name":"description","type":"string","nullable":true,"description":"Optional description providing details about the diet category."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record last update timestamp."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"}]},{"name":"recipe_sharing_difficulty_levels","description":"Lists levels of difficulty for recipes to classify user effort and skill required, ranging from beginner to advanced. Used for filtering and guidance in meal planning and recipe selection.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique difficulty level code."},{"name":"name","type":"string","nullable":false,"description":"Name describing the difficulty level."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the difficulty level."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp for the difficulty level record."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last updated timestamp for the difficulty level record."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"}]},{"name":"recipe_sharing_units","description":"Stores units of measure applicable to ingredients such as cups, grams, tablespoons, including standardized abbreviations for display consistency.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique unit code, e.g., 'cups' or 'g'."},{"name":"name","type":"string","nullable":false,"description":"Full descriptive name of the unit."},{"name":"abbreviation","type":"string","nullable":true,"description":"Optional abbreviated symbol for the unit."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp for when the unit record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp for last update of the unit record."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"},{"fieldName":"abbreviation"}]},{"name":"recipe_sharing_system_config","description":"Contains global system-wide configuration data for the recipe sharing platform, including key-value pairs for configurable settings and application flags.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"key","type":"string","nullable":false,"description":"Unique configuration key identifier."},{"name":"value","type":"string","nullable":false,"description":"Associated value for the configuration key."},{"name":"description","type":"string","nullable":true,"description":"Optional explanation or notes about the configuration setting."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp of when the configuration entry was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp of the last update to the configuration entry."}],"uniqueIndexes":[{"fieldNames":["key"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-08-moderation.prisma","namespace":"Moderation","models":[{"name":"recipe_sharing_flag_queues","description":"Queue for flags on recipe reviews submitted by users for moderation processing. Supports workflow status tracking, reporter identification, and reason for flagging. Enables moderators to triage and respond to user reports of inappropriate content.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"recipe_sharing_review_id","type":"uuid","description":"The flagged review's identifier. {@link recipe_sharing_reviews.id}","relation":{"name":"recipeSharingReview","targetModel":"recipe_sharing_reviews"},"unique":false,"nullable":true},{"name":"reported_by_user_id","type":"uuid","description":"Identifier of the user who reported the content. {@link recipe_sharing_regularusers.id} or {@link recipe_sharing_premiumusers.id}","relation":{"name":"reporter","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"flag_reason","type":"string","description":"Reason for flagging such as spam, offensive language, or personal attacks.","nullable":false},{"name":"status","type":"string","description":"Current review flag status: pending, in_review, resolved, or dismissed.","nullable":false},{"name":"created_at","type":"datetime","description":"Flag creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the flag record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp if the flag entry is removed.","nullable":true}],"uniqueIndexes":[{"fieldNames":["recipe_sharing_review_id","reported_by_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","updated_at"]}],"ginIndexes":[{"fieldName":"flag_reason"}]},{"name":"recipe_sharing_moderator_actions","description":"Audit records of moderator operations on flagged content and category approvals. Each action records moderator identity, action type, target entity, timestamp, and optional comments to maintain accountability and history.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"moderator_id","type":"uuid","description":"Identifier of moderator performing the action. {@link recipe_sharing_moderators.id}","relation":{"name":"moderator","targetModel":"recipe_sharing_moderators"},"unique":false,"nullable":false}],"plainFields":[{"name":"action_type","type":"string","description":"The moderation action type such as hide_review, unhide_review, approve_category, reject_category.","nullable":false},{"name":"target_id","type":"uuid","description":"ID of the entity affected by the moderator action (review, category approval, etc.).","nullable":false},{"name":"action_timestamp","type":"datetime","description":"Timestamp when the moderation action was performed.","nullable":false},{"name":"comments","type":"string","description":"Optional moderator comments on the action taken.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion time if the record is removed.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["moderator_id","action_timestamp"]}],"ginIndexes":[]},{"name":"recipe_sharing_category_approvals","description":"Tracks user-submitted categories or tags pending moderator approval. Includes submitting user reference, category name, approval status, timestamps for submission and review, and auditing fields.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"submitted_by_user_id","type":"uuid","description":"The user who submitted the category or tag. {@link recipe_sharing_regularusers.id} or {@link recipe_sharing_premiumusers.id}","relation":{"name":"submitter","targetModel":"recipe_sharing_regularusers"},"unique":false,"nullable":false}],"plainFields":[{"name":"category_name","type":"string","description":"Name of the category or tag submitted by the user for approval.","nullable":false},{"name":"approval_status","type":"string","description":"Approval status of the submitted category: pending, approved, rejected.","nullable":false},{"name":"submitted_at","type":"datetime","description":"Timestamp when the submission was created.","nullable":false},{"name":"reviewed_at","type":"datetime","description":"Timestamp when the category submission was reviewed by a moderator.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation time.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record update time.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion time if record was removed.","nullable":true}],"uniqueIndexes":[{"fieldNames":["category_name","submitted_by_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["approval_status","submitted_at"]}],"ginIndexes":[{"fieldName":"category_name"}]}]}]}